"use strict";(self.webpackChunkerp=self.webpackChunkerp||[]).push([[4021],{17712:(e,l,a)=>{a.r(l),a.d(l,{default:()=>F});var s=a(30800),d=a(69060),t=a(3358),r=a(5548),o=a(43692),n=a(78092),c=a(84436),i=a(82656),u=a(26773),v=a(4488),h=a(90048),m=a(89e3),p=(a(67472),a(40656)),x=a(62344),j=a(39308),_=a(71412),b=a(61988),C=a(80236),g=a(1908),S=a(13724),N=a(55312),y=a(91924),f=a(40691),I=a(33880),A=a(82496);const F=e=>{let{loadingOn:l,loadingOff:a}=e;const F=JSON.parse(localStorage.getItem("user")),[R,P]=(0,d.useState)([]),[T,L]=(0,d.useState)([]),[w,D]=(0,d.useState)([]),[G,M]=(0,d.useState)([]),[V,H]=(0,d.useState)(!0),[O,z]=(0,d.useState)({}),[k,E]=(0,d.useState)({}),[B,q]=(0,d.useState)(!1),[Q,W]=(0,d.useState)([]),[U,J]=(0,d.useState)([]),[Y,K]=(0,d.useState)(!1),[X,Z]=(0,d.useState)(!0),[$,ee]=(0,d.useState)({Fromdate:(0,j.SO)(7),Todate:(0,j.Q7)(),Retailer_Id:"",RetailerGet:"ALL",Created_by:"",CreatedByGet:"ALL",Sales_Person_Id:"",SalsePersonGet:"ALL",Cancel_status:0,Route_Id:"",RoutesGet:"ALL",Area_Id:"",AreaGet:"ALL"}),[le,ae]=(0,d.useState)({filters:!1,orderDetails:!1});(0,d.useEffect)((()=>{(0,g.q)({address:"sales/saleDelivery?Fromdate=".concat(null===$||void 0===$?void 0:$.Fromdate,"&Todate=").concat(null===$||void 0===$?void 0:$.Todate,"&Retailer_Id=").concat(null===$||void 0===$?void 0:$.Retailer_Id,"&Sales_Person_Id=").concat(null===$||void 0===$?void 0:$.Sales_Person_Id,"&Created_by=").concat(null===$||void 0===$?void 0:$.Created_by,"&Cancel_status=").concat(null===$||void 0===$?void 0:$.Cancel_status,"&Route_Id=").concat(null===$||void 0===$?void 0:$.Route_Id,"&Area_Id=").concat(null===$||void 0===$?void 0:$.Area_Id)}).then((e=>{e.success&&P(null===e||void 0===e?void 0:e.data)})).catch((e=>console.error(e)))}),[$.Fromdate,null===$||void 0===$?void 0:$.Todate,null===$||void 0===$?void 0:$.Retailer_Id,null===$||void 0===$?void 0:$.Sales_Person_Id,null===$||void 0===$?void 0:$.Created_by,null===$||void 0===$?void 0:$.Cancel_status,null===$||void 0===$?void 0:$.Route_Id,null===$||void 0===$?void 0:$.Area_Id,B]),(0,d.useEffect)((()=>{(0,g.q)({address:"masters/retailers/dropDown?Company_Id=".concat(null===F||void 0===F?void 0:F.Company_id)}).then((e=>{e.success&&L(e.data)})).catch((e=>console.error(e))),(0,g.q)({address:"masters/users/salesPerson/dropDown?Company_id=".concat(null===F||void 0===F?void 0:F.Company_id)}).then((e=>{e.success&&D(e.data)})).catch((e=>console.error(e))),(0,g.q)({address:"masters/user/dropDown?Company_id=".concat(null===F||void 0===F?void 0:F.Company_id)}).then((e=>{e.success&&M(e.data)})).catch((e=>console.error(e))),(0,g.q)({address:"masters/routes/dropdown?Company_id=".concat(null===F||void 0===F?void 0:F.Company_id)}).then((e=>{e.success&&W(e.data)})).catch((e=>console.error(e))),(0,g.q)({address:"masters/areas/dropdown?Company_id=".concat(null===F||void 0===F?void 0:F.Company_id)}).then((e=>{e.success&&J(e.data)})).catch((e=>console.error(e)))}),[]);const se=[{Field_Name:"So_Id",ColumnHeader:"Order ID",Fied_Data:"string",isVisible:1},{Field_Name:"Retailer_Name",ColumnHeader:"Customer",Fied_Data:"string",isVisible:1},{Field_Name:"So_Date",ColumnHeader:"Sale Order Date",Fied_Data:"date",isVisible:1,align:"center"},{Field_Name:"Total_Before_Tax",ColumnHeader:"Before Tax",Fied_Data:"number",isVisible:1,align:"center"},{Field_Name:"Total_Tax",ColumnHeader:"Tax",Fied_Data:"number",isVisible:1,align:"center"},{Field_Name:"Total_Invoice_value",ColumnHeader:"Invoice Value",Fied_Data:"number",isVisible:1,align:"center"},{ColumnHeader:"Status",isVisible:1,align:"center",isCustomCell:!0,Cell:e=>{var l,a;let{row:s}=e;const d=C.o.find((e=>e.id===Number(null===s||void 0===s?void 0:s.isConverted)));return(0,A.jsx)("span",{className:null!==(l="py-0 fw-bold px-2 rounded-4 fa-12 "+(null===d||void 0===d?void 0:d.color))&&void 0!==l?l:"bg-secondary text-white",children:null!==(a=null===d||void 0===d?void 0:d.label)&&void 0!==a?a:"Undefined"})}},{Field_Name:"Action",isVisible:1,isCustomCell:!0,Cell:e=>{let{row:l}=e;return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(t.c,{title:"View Order",children:(0,A.jsx)(r.c,{onClick:()=>{E({orderDetails:l,orderProducts:null!==l&&void 0!==l&&l.Products_List?null===l||void 0===l?void 0:l.Products_List:[]})},color:"primary",size:"small",children:(0,A.jsx)(_.c,{className:"fa-16"})})}),(0,A.jsx)(t.c,{title:"Sales Delivery",children:(0,A.jsx)(r.c,{onClick:()=>{de(),z((0,s.c)({},l))},size:"small",children:(0,A.jsx)(f.c,{className:"fa-16"})})})]})}}],de=()=>{H(!V),z({})},te=()=>{ae((0,s.c)((0,s.c)({},le),{},{filters:!1,orderDetails:!1})),z({})};return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsxs)(o.c,{children:[(0,A.jsxs)("div",{className:"p-3 py-2 d-flex align-items-center justify-content-between",children:[(0,A.jsx)("h6",{className:"fa-18 m-0 p-0",children:V?"Sale Orders":(0,j.CY)(O)}),(0,A.jsxs)("div",{children:[V&&(0,A.jsx)(t.c,{title:"Filters",children:(0,A.jsx)(r.c,{size:"small",onClick:()=>ae((0,s.c)((0,s.c)({},le),{},{filters:!0})),children:(0,A.jsx)(b.c,{})})}),V&&(0,A.jsx)(n.c,{checked:X,onChange:()=>{H(!1),K(!0)},inputProps:{"aria-label":"controlled"}})]})]}),(0,A.jsx)(c.c,{className:"p-0",children:V?(0,A.jsx)(S.cp,{dataArray:R,columns:se,isExpendable:!0,tableMaxHeight:550,expandableComp:e=>{let{row:l}=e;return(0,A.jsx)(A.Fragment,{children:(0,A.jsx)("table",{className:"table",children:(0,A.jsxs)("tbody",{children:[(0,A.jsxs)("tr",{children:[(0,A.jsx)("td",{className:"border p-2 bg-light",children:"Branch"}),(0,A.jsx)("td",{className:"border p-2",children:l.Branch_Name}),(0,A.jsx)("td",{className:"border p-2 bg-light",children:"Sales Person"}),(0,A.jsx)("td",{className:"border p-2",children:l.Sales_Person_Name}),(0,A.jsx)("td",{className:"border p-2 bg-light",children:"Round off"}),(0,A.jsx)("td",{className:"border p-2",children:l.Round_off})]}),(0,A.jsxs)("tr",{children:[(0,A.jsx)("td",{className:"border p-2 bg-light",children:"Invoice Type"}),(0,A.jsxs)("td",{className:"border p-2",children:[(0,j.Qr)(l.GST_Inclusive,1)&&"Inclusive",(0,j.Qr)(l.GST_Inclusive,0)&&"Exclusive"]}),(0,A.jsx)("td",{className:"border p-2 bg-light",children:"Tax Type"}),(0,A.jsxs)("td",{className:"border p-2",children:[(0,j.Qr)(l.IS_IGST,1)&&"IGST",(0,j.Qr)(l.IS_IGST,0)&&"GST"]}),(0,A.jsx)("td",{className:"border p-2 bg-light",children:"Sales Person"}),(0,A.jsx)("td",{className:"border p-2",children:l.Sales_Person_Name})]}),(0,A.jsxs)("tr",{children:[(0,A.jsx)("td",{className:"border p-2 bg-light",children:"Narration"}),(0,A.jsx)("td",{className:"border p-2",colSpan:5,children:l.Narration})]})]})})})}}):Y?(0,A.jsx)(I.c,{editValues:O,loadingOn:l,loadingOff:a,reload:()=>{q((e=>!e)),H((e=>!e))},switchScreen:()=>H(!0),onToggle:()=>{H((e=>!e)),K((e=>!e))}}):(0,A.jsx)(N.c,{editValues:O,loadingOn:l,loadingOff:a,reload:()=>{q((e=>!e)),H((e=>!e))},switchScreen:()=>H(!0),editOn:!0})})]}),Object.keys(k).length>0&&(0,A.jsx)(y.c,{orderDetails:null===k||void 0===k?void 0:k.orderDetails,orderProducts:null===k||void 0===k?void 0:k.orderProducts,download:!0,actionOpen:!0,clearDetails:()=>E({}),TitleText:"Sale Order"}),(0,A.jsxs)(i.c,{open:le.filters,onClose:te,fullWidth:!0,maxWidth:"sm",children:[(0,A.jsx)(u.c,{children:"Filters"}),(0,A.jsx)(v.c,{children:(0,A.jsx)("div",{className:"table-responsive pb-4",children:(0,A.jsx)("table",{className:"table",children:(0,A.jsxs)("tbody",{children:[(0,A.jsxs)("tr",{children:[(0,A.jsx)("td",{style:{verticalAlign:"middle"},children:"Retailer"}),(0,A.jsx)("td",{children:(0,A.jsx)(p.cp,{value:{value:null===$||void 0===$?void 0:$.Retailer_Id,label:null===$||void 0===$?void 0:$.RetailerGet},onChange:e=>ee((0,s.c)((0,s.c)({},$),{},{Retailer_Id:e.value,RetailerGet:e.label})),options:[{value:"",label:"ALL"},...T.map((e=>({value:null===e||void 0===e?void 0:e.Retailer_Id,label:null===e||void 0===e?void 0:e.Retailer_Name})))],styles:x.cF,isSearchable:!0,placeholder:"Retailer Name"})})]}),(0,A.jsxs)("tr",{children:[(0,A.jsx)("td",{style:{verticalAlign:"middle"},children:"Salse Person"}),(0,A.jsx)("td",{children:(0,A.jsx)(p.cp,{value:{value:null===$||void 0===$?void 0:$.Sales_Person_Id,label:null===$||void 0===$?void 0:$.SalsePersonGet},onChange:e=>ee((0,s.c)((0,s.c)({},$),{},{Sales_Person_Id:e.value,SalsePersonGet:e.label})),options:[{value:"",label:"ALL"},...w.map((e=>({value:null===e||void 0===e?void 0:e.UserId,label:null===e||void 0===e?void 0:e.Name})))],styles:x.cF,isSearchable:!0,placeholder:"Sales Person Name"})})]}),(0,A.jsxs)("tr",{children:[(0,A.jsx)("td",{style:{verticalAlign:"middle"},children:"Created By"}),(0,A.jsx)("td",{children:(0,A.jsx)(p.cp,{value:{value:null===$||void 0===$?void 0:$.Created_by,label:null===$||void 0===$?void 0:$.CreatedByGet},onChange:e=>ee((0,s.c)((0,s.c)({},$),{},{Created_by:e.value,CreatedByGet:e.label})),options:[{value:"",label:"ALL"},...G.map((e=>({value:null===e||void 0===e?void 0:e.UserId,label:null===e||void 0===e?void 0:e.Name})))],styles:x.cF,isSearchable:!0,placeholder:"Sales Person Name"})})]}),(0,A.jsxs)("tr",{children:[(0,A.jsx)("td",{style:{verticalAlign:"middle"},children:"From"}),(0,A.jsx)("td",{children:(0,A.jsx)("input",{type:"date",value:$.Fromdate,onChange:e=>ee((0,s.c)((0,s.c)({},$),{},{Fromdate:e.target.value})),className:"cus-inpt"})})]}),(0,A.jsxs)("tr",{children:[(0,A.jsx)("td",{style:{verticalAlign:"middle"},children:"To"}),(0,A.jsx)("td",{children:(0,A.jsx)("input",{type:"date",value:$.Todate,onChange:e=>ee((0,s.c)((0,s.c)({},$),{},{Todate:e.target.value})),className:"cus-inpt"})})]}),(0,A.jsxs)("tr",{children:[(0,A.jsx)("td",{style:{verticalAlign:"middle"},children:"Canceled Order"}),(0,A.jsx)("td",{children:(0,A.jsxs)("select",{type:"date",value:$.Cancel_status,onChange:e=>ee((0,s.c)((0,s.c)({},$),{},{Cancel_status:Number(e.target.value)})),className:"cus-inpt",children:[(0,A.jsx)("option",{value:1,children:"Show"}),(0,A.jsx)("option",{value:0,children:"Hide"})]})})]}),(0,A.jsxs)("tr",{children:[(0,A.jsx)("td",{style:{verticalAlign:"middle"},children:"Routes"}),(0,A.jsx)("td",{children:(0,A.jsx)(p.cp,{value:{value:null===$||void 0===$?void 0:$.Route_Id,label:null===$||void 0===$?void 0:$.RoutesGet},onChange:e=>ee((0,s.c)((0,s.c)({},$),{},{Route_Id:e.value,RoutesGet:e.label})),options:[{value:"",label:"ALL"},...Q.map((e=>({value:null===e||void 0===e?void 0:e.Route_Id,label:null===e||void 0===e?void 0:e.Route_Name})))],styles:x.cF,isSearchable:!0,placeholder:"Route Name"})})]}),(0,A.jsxs)("tr",{children:[(0,A.jsx)("td",{style:{verticalAlign:"middle"},children:"Area"}),(0,A.jsx)("td",{children:(0,A.jsx)(p.cp,{value:{value:null===$||void 0===$?void 0:$.Area_Id,label:null===$||void 0===$?void 0:$.AreaGet},onChange:e=>ee((0,s.c)((0,s.c)({},$),{},{Area_Id:e.value,AreaGet:e.label})),options:[{value:"",label:"ALL"},...U.map((e=>({value:null===e||void 0===e?void 0:e.Area_Id,label:null===e||void 0===e?void 0:e.Area_Name})))],styles:x.cF,isSearchable:!0,placeholder:"Area Name"})})]})]})})})}),(0,A.jsx)(h.c,{children:(0,A.jsx)(m.c,{onClick:te,children:"close"})})]})]})}},40691:(e,l,a)=>{var s=a(22411);l.c=void 0;var d=s(a(90864)),t=a(82496);l.c=(0,d.default)((0,t.jsx)("path",{d:"M20 11c-.18 0-.36.03-.53.05L17.41 9H20V6l-3.72 1.86L13.41 5H9v2h3.59l2 2H11l-4 2-2-2H0v2h4c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4l2 2h3l3.49-6.1 1.01 1.01c-.91.73-1.5 1.84-1.5 3.09 0 2.21 1.79 4 4 4s4-1.79 4-4-1.79-4-4-4M4 17c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2m16 0c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2"}),"TwoWheeler")},96064:(e,l,a)=>{a.d(l,{c:()=>t});var s=a(27664),d=a(82496);const t=(0,s.c)((0,d.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"}),"Add")},80156:(e,l,a)=>{a.d(l,{c:()=>t});var s=a(27664),d=a(82496);const t=(0,s.c)((0,d.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Clear")},56084:(e,l,a)=>{a.d(l,{c:()=>t});var s=a(27664),d=a(82496);const t=(0,s.c)((0,d.jsx)("path",{d:"M5 13h14v-2H5zm-2 4h14v-2H3zM7 7v2h14V7z"}),"ClearAll")},14499:(e,l,a)=>{a.d(l,{c:()=>t});var s=a(27664),d=a(82496);const t=(0,s.c)((0,d.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close")},45180:(e,l,a)=>{a.d(l,{c:()=>t});var s=a(27664),d=a(82496);const t=(0,s.c)((0,d.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"}),"Delete")},86e3:(e,l,a)=>{a.d(l,{c:()=>t});var s=a(27664),d=a(82496);const t=(0,s.c)((0,d.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"}),"Edit")},61988:(e,l,a)=>{a.d(l,{c:()=>t});var s=a(27664),d=a(82496);const t=(0,s.c)((0,d.jsx)("path",{d:"M4.25 5.61C6.27 8.2 10 13 10 13v6c0 .55.45 1 1 1h2c.55 0 1-.45 1-1v-6s3.72-4.8 5.74-7.39c.51-.66.04-1.61-.79-1.61H5.04c-.83 0-1.3.95-.79 1.61"}),"FilterAlt")},36992:(e,l,a)=>{a.d(l,{c:()=>t});var s=a(27664),d=a(82496);const t=(0,s.c)((0,d.jsx)("path",{d:"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3m3-10H5V5h10z"}),"Save")},71412:(e,l,a)=>{a.d(l,{c:()=>t});var s=a(27664),d=a(82496);const t=(0,s.c)((0,d.jsx)("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5M12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5m0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"}),"Visibility")},90864:(e,l,a)=>{Object.defineProperty(l,"__esModule",{value:!0}),Object.defineProperty(l,"default",{enumerable:!0,get:function(){return s.createSvgIcon}});var s=a(27492)},84436:(e,l,a)=>{a.d(l,{c:()=>x});var s=a(45072),d=a(95656),t=a(69060),r=a(79736),o=a(21412),n=a(12556),c=a(49836),i=a(10099),u=a(33448);function v(e){return(0,u.cp)("MuiCardContent",e)}(0,i.c)("MuiCardContent",["root"]);var h=a(82496);const m=["className","component"],p=(0,n.cp)("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(e,l)=>l.root})((()=>({padding:16,"&:last-child":{paddingBottom:24}}))),x=t.forwardRef((function(e,l){const a=(0,c.C)({props:e,name:"MuiCardContent"}),{className:t,component:n="div"}=a,i=(0,d.c)(a,m),u=(0,s.c)({},a,{component:n}),x=(e=>{const{classes:l}=e;return(0,o.c)({root:["root"]},v,l)})(u);return(0,h.jsx)(p,(0,s.c)({as:n,className:(0,r.c)(x.root,t),ownerState:u,ref:l},i))}))},90280:(e,l,a)=>{a.d(l,{c:()=>s});const s=a(91200).c},27492:(e,l,a)=>{a.r(l),a.d(l,{capitalize:()=>d.c,createChainedFunction:()=>t.c,createSvgIcon:()=>r.c,debounce:()=>o.c,deprecatedPropType:()=>n,isMuiElement:()=>c.c,ownerDocument:()=>i.c,ownerWindow:()=>u.c,requirePropFactory:()=>v,setRef:()=>h,unstable_ClassNameGenerator:()=>g,unstable_useEnhancedEffect:()=>m.c,unstable_useId:()=>p.c,unsupportedProp:()=>x,useControlled:()=>j.c,useEventCallback:()=>_.c,useForkRef:()=>b.c,useIsFocusVisible:()=>C.c});var s=a(31152),d=a(55832),t=a(90280),r=a(27664),o=a(72144);const n=function(e,l){return()=>null};var c=a(28276),i=a(93976),u=a(31328);a(45072);const v=function(e,l){return()=>null};const h=a(30472).c;var m=a(87188),p=a(18144);const x=function(e,l,a,s,d){return null};var j=a(61124),_=a(17908),b=a(56268),C=a(24724);const g={configure:e=>{s.c.configure(e)}}},28276:(e,l,a)=>{a.d(l,{c:()=>d});var s=a(69060);const d=function(e,l){var a,d;return s.isValidElement(e)&&-1!==l.indexOf(null!=(a=e.type.muiName)?a:null==(d=e.type)||null==(d=d._payload)||null==(d=d.value)?void 0:d.muiName)}}}]);
//# sourceMappingURL=4021.fa443287.chunk.js.map
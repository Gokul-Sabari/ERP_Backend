"use strict";(self.webpackChunkerp=self.webpackChunkerp||[]).push([[9708],{59708:(e,a,t)=>{t.r(a),t.d(a,{default:()=>v});var s=t(30800),l=t(69060),r=t(43692),o=t(84436),d=t(3358),c=t(5548),n=t(39308),i=t(50764),u=t(31664),m=t(61988),p=t(1908),h=t(82496);const x=e=>{let{row:a,Fromdate:t,Todate:r,DB:o}=e;const[d,c]=(0,l.useState)([]),[n,u]=(0,l.useState)([]);return(0,l.useEffect)((()=>{(0,p.q)({address:"sales/partyWiseReport/details?Fromdate=".concat(t,"&Todate=").concat(r,"&Party_Name=").concat(null===a||void 0===a?void 0:a.Actual_Party_Name),headers:{Db:o}}).then((e=>{let{success:a,data:t,others:l}=e;if(a){const{dataTypeInfo:e}=l;c(t),u((a=>(0,s.c)((0,s.c)({},a),{},{salesInfo:Array.isArray(e)?e:[]})))}else c([])})).catch(console.error)}),[null===a||void 0===a?void 0:a.Party_Name,t,r]),(0,h.jsx)(i.c,{dataArray:d,columns:n.salesInfo})},v=()=>{const e=JSON.parse(localStorage.getItem("user")),[a,t]=(0,l.useState)(null),[v,y]=(0,l.useState)([]),[j,f]=(0,l.useState)({Fromdate:(0,n.SO)(1),Todate:(0,n.Q7)(),filterDialog:!1,reload:!0});return(0,l.useEffect)((()=>{t(null),y([]),(0,p.q)({address:"sales/partyWiseReport?Fromdate=".concat(null===j||void 0===j?void 0:j.Fromdate,"&Todate=").concat(null===j||void 0===j?void 0:j.Todate),headers:{Db:null===e||void 0===e?void 0:e.Company_id}}).then((e=>{let{success:a,data:s,others:l}=e;if(a){const{dataTypeInfo:e}=l;t(s),y(Array.isArray(e)?e:[])}else t([])})).catch(console.error)}),[j.reload]),(0,h.jsx)(l.Fragment,{children:(0,h.jsxs)(r.c,{className:"mt-3",children:[(0,h.jsx)("div",{className:"px-3 py-2 d-flex justify-content-between align-items-center fw-bold text-dark",style:{backgroundColor:"#eae0cc"},children:(0,h.jsx)("span",{children:"PARTY BASED SALES"})}),(0,h.jsxs)(o.c,{children:[(0,h.jsxs)("div",{className:"mb-3",children:[(0,h.jsx)("input",{type:"date",className:"cus-inpt w-auto ps-3 border rounded-5 me-1",value:j.Fromdate,onChange:e=>f((a=>(0,s.c)((0,s.c)({},a),{},{Fromdate:e.target.value})))}),(0,h.jsx)("input",{type:"date",className:"cus-inpt w-auto ps-3 border rounded-5",value:j.Todate,onChange:e=>f((a=>(0,s.c)((0,s.c)({},a),{},{Todate:e.target.value})))}),(0,h.jsx)(d.c,{title:"Reload Data",children:(0,h.jsx)(c.c,{onClick:()=>f((e=>(0,s.c)((0,s.c)({},e),{},{reload:!e.reload}))),size:"small",className:"ms-2",children:(0,h.jsx)(u.c,{})})}),(0,h.jsx)(d.c,{title:"Filters",children:(0,h.jsx)(c.c,{onClick:()=>f((e=>(0,s.c)((0,s.c)({},e),{},{filterDialog:!0}))),size:"small",className:"d-md-none d-inline",children:(0,h.jsx)(m.c,{})})})]}),null===a&&(0,h.jsx)("h6",{className:"blue-text text-center",children:"Fetching data..."}),Array.isArray(a)&&(0,h.jsx)(i.c,{dataArray:a,columns:v,ExpandableComp:a=>{let{row:t}=a;return(0,h.jsx)(x,{row:t,DB:null===e||void 0===e?void 0:e.Company_id,Fromdate:null===j||void 0===j?void 0:j.Fromdate,Todate:null===j||void 0===j?void 0:j.Todate})},enableFilters:!0})]})]})})}}}]);
//# sourceMappingURL=9708.9e036da5.chunk.js.map
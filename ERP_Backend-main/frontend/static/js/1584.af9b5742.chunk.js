"use strict";(self.webpackChunkerp=self.webpackChunkerp||[]).push([[1584],{39204:(e,r,t)=>{t.r(r),t.d(r,{default:()=>C});var a=t(30800),s=t(69060),d=t(13724),l=t(1908),c=t(39308),n=t(43692),o=t(5548),i=t(84436),h=t(82656),u=t(26773),m=t(4488),p=t(90048),x=t(89e3),O=t(51560),j=t(61988),v=t(56672),g=t(56480),y=t(76456),D=t(82496);const C=e=>{let{loadingOn:r,loadingOff:t}=e;const[C,f]=(0,s.useState)([]),[b,A]=(0,s.useState)({OrderDetails:{},OrderItemsArray:[],DeliveryArray:[],TranspoterArray:[],display:!1}),N=(0,O.i6)(),[S,F]=(0,s.useState)({Fromdate:(0,c.SO)(10),Todate:(0,c.Q7)(),FilterDialog:!1,OrderStatus:"PO-Vendor-Wise",deleteOrderDialog:!1,deleteOrderId:"",refresh:!1,view:"PURCHASE ORDERS"});(0,s.useEffect)((()=>{(0,l.q)({address:"dataEntry/purchaseOrderEntry?Fromdate=".concat(null===S||void 0===S?void 0:S.Fromdate,"&Todate=").concat(null===S||void 0===S?void 0:S.Todate)}).then((e=>{e.success&&f(e.data)})).catch((e=>console.error(e)))}),[S.Fromdate,S.Todate,S.refresh]);return(0,D.jsxs)(D.Fragment,{children:[(0,D.jsxs)(n.c,{children:[(0,D.jsxs)("div",{className:"p-2 d-flex flex-wrap align-items-center border-bottom",children:[(0,D.jsx)("h5",{className:"m-0 flex-grow-1 ps-2",children:"Purchase Order Report"}),(0,D.jsx)(o.c,{size:"small",className:"me-2",onClick:()=>F((e=>(0,a.c)((0,a.c)({},e),{},{FilterDialog:!0}))),children:(0,D.jsx)(j.c,{})})]}),(0,D.jsx)(i.c,{children:(0,D.jsx)(d.cp,{dataArray:(0,v.K)({data:C,status:S.OrderStatus}),columns:(0,v.a)({OrderStatus:S.OrderStatus,dialogs:F,setOrderPreview:A,navigation:e=>{let{page:r="",stateToTransfer:t={}}=e;N(r,{state:t})}}),tableMaxHeight:750,EnableSerialNumber:!0,title:S.OrderStatus,PDFPrintOption:!0,ExcelPrintOption:!0,maxHeightOption:!0})})]}),b.display&&(0,D.jsx)(y.c,{OrderDetails:b.OrderDetails,OrderItemsArray:b.OrderItemsArray,DeliveryArray:b.DeliveryArray,TranspoterArray:b.TranspoterArray,display:b.display,onCloseDialog:()=>{A({OrderDetails:{},OrderItemsArray:[],DeliveryArray:[],TranspoterArray:[],display:!1})}}),(0,D.jsxs)(h.c,{open:S.FilterDialog,onClose:()=>F((e=>(0,a.c)((0,a.c)({},e),{},{FilterDialog:!1}))),maxWidth:"sm",fullWidth:!0,children:[(0,D.jsx)(u.c,{children:"Filters"}),(0,D.jsx)(m.c,{children:(0,D.jsx)("table",{className:"table m-0 border-0",children:(0,D.jsxs)("tbody",{children:[(0,D.jsxs)("tr",{children:[(0,D.jsx)("td",{className:"border-0 vctr",children:"Fromdate"}),(0,D.jsx)("td",{className:"border-0 vctr",children:(0,D.jsx)("input",{type:"date",onChange:e=>F((r=>(0,a.c)((0,a.c)({},r),{},{Fromdate:e.target.value}))),value:S.Fromdate,className:"cus-inpt p-2"})})]}),(0,D.jsxs)("tr",{children:[(0,D.jsx)("td",{className:"border-0 vctr",children:"Todate"}),(0,D.jsx)("td",{className:"border-0 vctr",children:(0,D.jsx)("input",{type:"date",onChange:e=>F((r=>(0,a.c)((0,a.c)({},r),{},{Todate:e.target.value}))),value:S.Todate,className:"cus-inpt p-2"})})]}),(0,D.jsxs)("tr",{children:[(0,D.jsx)("td",{className:"border-0 vctr",children:"Order Status"}),(0,D.jsx)("td",{className:"border-0 vctr",children:(0,D.jsxs)("select",{className:"cus-inpt p-2",value:S.OrderStatus,onChange:e=>F((r=>(0,a.c)((0,a.c)({},r),{},{OrderStatus:e.target.value}))),children:[(0,D.jsx)("option",{value:"PO-Vendor-Wise",children:"PO-Vendor-Wise"}),(0,D.jsx)("option",{value:"PO-Item-Wise",children:"PO-Item-Wise"}),(0,D.jsx)("option",{value:"PO-Pending-Only",children:"PO-Pending-Only"}),(0,D.jsx)("option",{value:"AR-Item-Based",children:"AR-Item-Based"}),(0,D.jsx)("option",{value:"AR-Vendor-Wise",children:"AR-Vendor-Wise"})]})})]})]})})}),(0,D.jsx)(p.c,{children:(0,D.jsx)(x.c,{onClick:()=>F((e=>(0,a.c)((0,a.c)({},e),{},{FilterDialog:!1}))),variant:"outlined",children:"Close"})})]}),(0,D.jsxs)(h.c,{open:S.deleteOrderDialog,onClose:()=>F((e=>(0,a.c)((0,a.c)({},e),{},{deleteOrderDialog:!1,deleteOrderId:""}))),maxWidth:"sm",children:[(0,D.jsx)(u.c,{children:"Confirmation"}),(0,D.jsx)(m.c,{children:(0,D.jsx)("h6",{children:"Do you want to delete the order permanently?"})}),(0,D.jsxs)(p.c,{children:[(0,D.jsx)(x.c,{onClick:()=>F((e=>(0,a.c)((0,a.c)({},e),{},{deleteOrderDialog:!1,deleteOrderId:""}))),children:"Cancel"}),(0,D.jsx)(x.c,{color:"error",variant:"outlined",onClick:()=>{return e=S.deleteOrderId,void((0,c.Q$)(e)&&(0,l.q)({address:"dataEntry/purchaseOrderEntry",method:"DELETE",bodyData:{OrderId:e}}).then((e=>{e.success?(F((e=>(0,a.c)((0,a.c)({},e),{},{deleteOrderDialog:!1,deleteOrderId:"",refresh:!e.refresh}))),g.m4.success(e.message)):(F((e=>(0,a.c)((0,a.c)({},e),{},{deleteOrderDialog:!1,deleteOrderId:""}))),g.m4.error(e.message))})).catch((e=>console.error(e))));var e},children:"Delete"})]})]})]})}},84436:(e,r,t)=>{t.d(r,{c:()=>O});var a=t(45072),s=t(95656),d=t(69060),l=t(79736),c=t(21412),n=t(12556),o=t(49836),i=t(10099),h=t(33448);function u(e){return(0,h.cp)("MuiCardContent",e)}(0,i.c)("MuiCardContent",["root"]);var m=t(82496);const p=["className","component"],x=(0,n.cp)("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(e,r)=>r.root})((()=>({padding:16,"&:last-child":{paddingBottom:24}}))),O=d.forwardRef((function(e,r){const t=(0,o.C)({props:e,name:"MuiCardContent"}),{className:d,component:n="div"}=t,i=(0,s.c)(t,p),h=(0,a.c)({},t,{component:n}),O=(e=>{const{classes:r}=e;return(0,c.c)({root:["root"]},u,r)})(h);return(0,m.jsx)(x,(0,a.c)({as:n,className:(0,l.c)(O.root,d),ownerState:h,ref:r},i))}))}}]);
//# sourceMappingURL=1584.af9b5742.chunk.js.map
"use strict";(self.webpackChunkerp=self.webpackChunkerp||[]).push([[1836],{63676:(e,t,d)=>{d.d(t,{c:()=>s});var o=d(69060),l=d(39308),n=d(1908),a=d(82496);const s=()=>{const e=JSON.parse(localStorage.getItem("user")),t=0===Number(null===e||void 0===e?void 0:e.UserTypeId)||1===Number(null===e||void 0===e?void 0:e.UserTypeId),[d,s]=(0,o.useState)({Last_Sync_Date_Time:null,lastSalesSync:null});return(0,o.useEffect)((()=>{t&&(0,n.q)({address:"dashboard/lastSyncedTime",headers:{Db:null===e||void 0===e?void 0:e.Company_id}}).then((e=>{if(e.success){var t,d,o,l;const n=null!==e&&void 0!==e&&null!==(t=e.data[0])&&void 0!==t&&t.Last_Sync_Date_Time?new Date(null===e||void 0===e||null===(d=e.data[0])||void 0===d?void 0:d.Last_Sync_Date_Time):null,a=null!==e&&void 0!==e&&null!==(o=e.data[0])&&void 0!==o&&o.lastSalesSync?new Date(null===e||void 0===e||null===(l=e.data[0])||void 0===l?void 0:l.lastSalesSync):null;s({Last_Sync_Date_Time:n,lastSalesSync:a})}}))}),[t,null===e||void 0===e?void 0:e.Company_id]),(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("div",{className:"d-flex",children:(0,a.jsx)("div",{className:"rounded-3 overflow-hidden border p-0",children:(0,a.jsx)("table",{className:"table table-borderless w-auto m-0 fa-14 ",children:(0,a.jsxs)("tbody",{children:[(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{className:"px-2 py-1 border-bottom",children:"Tally Sync"}),(0,a.jsx)("td",{className:"px-2 py-1 border-bottom",children:d.Last_Sync_Date_Time?(0,l.uy)((0,l.gt)(d.Last_Sync_Date_Time))+", "+(0,l.Gu)(d.Last_Sync_Date_Time):"-"})]}),(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{className:"px-2 py-1",children:"Sales Sync"}),(0,a.jsx)("td",{className:"px-2 py-1",children:d.lastSalesSync?(0,l.uy)((0,l.gt)(d.lastSalesSync))+", "+(0,l.Gu)(d.lastSalesSync):"-"})]})]})})})})})}},21836:(e,t,d)=>{d.r(t),d.d(t,{default:()=>g});var o=d(30800),l=d(69060),n=d(39308),a=d(1908),s=d(3358),c=d(43692),i=d(5548),r=d(84436),h=d(41459),u=d(46864),v=d(43684),m=d(27664),x=d(82496);const j=(0,m.c)((0,x.jsx)("path",{d:"m10 17 5-5-5-5z"}),"ArrowRight");var p=d(57704),f=d(51560),S=d(63676),T=d(13724);const y={Fromdate:(0,n.Q7)(),Todate:(0,n.Q7)()},g=e=>{let{loadingOn:t,loadingOff:d}=e;const m=(0,f.i6)(),g=(0,f.IT)(),b=new URLSearchParams((0,f.IT)().search),N=(0,n.gV)().user,[F,_]=(0,l.useState)([]),[C,D]=(0,l.useState)({Fromdate:y.Fromdate,Todate:y.Todate,fetchFrom:y.Fromdate,fetchTo:y.Todate,filterDialog:!1,refresh:!1});(0,l.useEffect)((()=>{t&&t(),_([]),(0,a.q)({address:"dashboard/dayBook?Fromdate=".concat(null===C||void 0===C?void 0:C.fetchFrom,"&Todate=").concat(null===C||void 0===C?void 0:C.fetchTo),headers:{Db:null===N||void 0===N?void 0:N.Company_id}}).then((e=>{e.success&&_(e.data)})).finally((()=>{d&&d()})).catch((e=>console.error(e)))}),[null===C||void 0===C?void 0:C.fetchFrom,null===C||void 0===C?void 0:C.fetchTo]),(0,l.useEffect)((()=>{const e={Fromdate:b.get("Fromdate")&&(0,n.e8)(b.get("Fromdate"))?b.get("Fromdate"):y.Fromdate,Todate:b.get("Todate")&&(0,n.e8)(b.get("Todate"))?b.get("Todate"):y.Todate};D((t=>(0,o.c)((0,o.c)({},t),{},{fetchFrom:e.Fromdate,fetchTo:e.Todate})))}),[g.search]);const w=e=>{let{row:t,Sno:d}=e;const[a,c]=(0,l.useState)(!1),i=(0,l.useMemo)((()=>(0,n.dq)(null===t||void 0===t?void 0:t.groupedData).filter((e=>(0,n.m2)(null===e||void 0===e?void 0:e.dataSource,"ERP")))),[t]),r=(0,l.useMemo)((()=>(0,n.dq)(null===t||void 0===t?void 0:t.groupedData).filter((e=>(0,n.m2)(null===e||void 0===e?void 0:e.dataSource,"TALLY")))),[t]);return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)("tr",{children:[(0,x.jsx)("td",{children:d}),(0,x.jsx)("td",{children:null===t||void 0===t?void 0:t.ModuleName}),(0,x.jsx)("td",{children:i.reduce(((e,t)=>(0,n.Q5)(e,null===t||void 0===t?void 0:t.VoucherBreakUpCount)),0)}),(0,x.jsx)("td",{children:(0,n.SA)(i.reduce(((e,t)=>(0,n.Q5)(e,t.Amount)),0))}),(0,x.jsx)("td",{children:r.reduce(((e,t)=>(0,n.Q5)(e,null===t||void 0===t?void 0:t.VoucherBreakUpCount)),0)}),(0,x.jsx)("td",{children:(0,n.SA)(r.reduce(((e,t)=>(0,n.Q5)(e,t.Amount)),0))}),(0,x.jsx)("td",{className:"p-0 text-center vctr",children:(0,x.jsx)(T.Om,{buttonsData:[{name:"Expand",onclick:()=>c((e=>!e)),icon:a?(0,x.jsx)(h.c,{sx:{fontSize:"inherit"}}):(0,x.jsx)(u.c,{sx:{fontSize:"inherit"}})},{name:"Open Detail (T)",icon:(0,x.jsx)(v.c,{sx:{fontSize:"inherit"}}),onclick:()=>{var e;m(null===(e=r[0])||void 0===e?void 0:e.navLink,{state:{ModuleName:t.ModuleName,Fromdate:null===C||void 0===C?void 0:C.fetchFrom,Todate:null===C||void 0===C?void 0:C.fetchTo}})}},{name:"Open Detail (ERP)",icon:(0,x.jsx)(v.c,{sx:{fontSize:"inherit"}}),onclick:()=>{var e;m(null===(e=i[0])||void 0===e?void 0:e.navLink,{state:{ModuleName:t.ModuleName,Fromdate:null===C||void 0===C?void 0:C.fetchFrom,Todate:null===C||void 0===C?void 0:C.fetchTo}})}}]})})]}),a&&(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("tr",{children:(0,x.jsxs)("td",{colSpan:7,className:"bg-light fw-bold",children:["ERP ","(".concat(i.length,")")]})}),i.map(((e,t)=>(0,x.jsxs)("tr",{children:[(0,x.jsx)("td",{children:d+".1."+(t+1)}),(0,x.jsx)("td",{children:null===e||void 0===e?void 0:e.Voucher_Type}),(0,x.jsx)("td",{children:null===e||void 0===e?void 0:e.VoucherBreakUpCount}),(0,x.jsx)("td",{children:(0,n.SA)(null===e||void 0===e?void 0:e.Amount)}),(0,x.jsx)("td",{}),(0,x.jsx)("td",{}),(0,x.jsx)("td",{className:"p-0 text-center vctr",children:(0,x.jsx)(s.c,{title:"Open "+(null===e||void 0===e?void 0:e.Voucher_Type)+" Details",children:(0,x.jsx)("button",{onClick:()=>{m(null===e||void 0===e?void 0:e.navLink,{state:(0,o.c)((0,o.c)({},e),{},{Fromdate:null===C||void 0===C?void 0:C.fetchFrom,Todate:null===C||void 0===C?void 0:C.fetchTo})})},className:"icon-btn",children:(0,x.jsx)(j,{sx:{fontSize:"inherit"}})})})})]},t))),(0,x.jsx)("tr",{children:(0,x.jsxs)("td",{colSpan:7,className:"bg-light fw-bold",children:["TALLY ","(".concat(r.length,")")]})}),null===r||void 0===r?void 0:r.map(((e,t)=>(0,x.jsxs)("tr",{children:[(0,x.jsx)("td",{children:d+".2."+(t+1)}),(0,x.jsx)("td",{children:null===e||void 0===e?void 0:e.Voucher_Type}),(0,x.jsx)("td",{}),(0,x.jsx)("td",{}),(0,x.jsx)("td",{children:null===e||void 0===e?void 0:e.VoucherBreakUpCount}),(0,x.jsx)("td",{children:(0,n.SA)(null===e||void 0===e?void 0:e.Amount)}),(0,x.jsx)("td",{className:"p-0 text-center vctr",children:(0,x.jsx)(s.c,{title:"Open "+(null===e||void 0===e?void 0:e.Voucher_Type)+" Details",children:(0,x.jsx)("button",{onClick:()=>{m(null===e||void 0===e?void 0:e.navLink,{state:(0,o.c)((0,o.c)({},e),{},{Fromdate:null===C||void 0===C?void 0:C.fetchFrom,Todate:null===C||void 0===C?void 0:C.fetchTo})})},className:"icon-btn",children:(0,x.jsx)(j,{sx:{fontSize:"inherit"}})})})})]},t)))]})]})};return(0,x.jsx)(x.Fragment,{children:(0,x.jsxs)(c.c,{children:[(0,x.jsxs)("div",{className:"p-2 d-flex align-items-center flex-wrap border-bottom",children:[(0,x.jsxs)("h5",{className:"m-0 my-1 flex-grow-1 d-flex align-items-center flex-wrap",children:[(0,x.jsx)("span",{className:"mx-2",children:"Day Book"}),(0,x.jsx)(S.c,{})]}),(0,x.jsx)("div",{children:(0,x.jsx)("input",{type:"date",value:C.Fromdate,onChange:e=>D((0,o.c)((0,o.c)({},C),{},{Fromdate:e.target.value})),className:"cus-inpt w-auto p-1"})}),(0,x.jsx)("span",{className:"px-2",children:"To"}),(0,x.jsx)("input",{type:"date",value:C.Todate,onChange:e=>D((0,o.c)((0,o.c)({},C),{},{Todate:e.target.value})),className:"cus-inpt me-2 w-auto p-1"}),(0,x.jsx)(i.c,{onClick:()=>{(e=>{const t=new URLSearchParams(e);m("?".concat(t.toString()),{replace:!0})})({Fromdate:null===C||void 0===C?void 0:C.Fromdate,Todate:null===C||void 0===C?void 0:C.Todate}),D((0,o.c)((0,o.c)({},C),{},{filterDialog:!1}))},variant:"outlined",size:"small",children:(0,x.jsx)(p.c,{})})]}),(0,x.jsx)(r.c,{children:(0,x.jsx)("div",{className:"table-responsive",children:(0,x.jsxs)("table",{className:"table table-bordered fa-13",children:[(0,x.jsx)("thead",{children:(0,x.jsxs)("tr",{children:[(0,x.jsx)("th",{children:"Sno"}),(0,x.jsx)("th",{children:"Voucher"}),(0,x.jsx)("th",{children:"ERP Entries"}),(0,x.jsx)("th",{children:"ERP Amount"}),(0,x.jsx)("th",{children:"Tally Entries"}),(0,x.jsx)("th",{children:"Tally Amount"}),(0,x.jsx)("th",{children:"Detilas"})]})}),(0,x.jsx)("tbody",{children:F.map(((e,t)=>(0,x.jsx)(w,{row:e,Sno:t+1},t)))})]})})})]})})}},43684:(e,t,d)=>{d.d(t,{c:()=>n});var o=d(27664),l=d(82496);const n=(0,o.c)((0,l.jsx)("path",{d:"M19 19H5V5h7V3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2v-7h-2zM14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3z"}),"OpenInNew")},57704:(e,t,d)=>{d.d(t,{c:()=>n});var o=d(27664),l=d(82496);const n=(0,o.c)((0,l.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"}),"Search")},84436:(e,t,d)=>{d.d(t,{c:()=>j});var o=d(45072),l=d(95656),n=d(69060),a=d(79736),s=d(21412),c=d(12556),i=d(49836),r=d(10099),h=d(33448);function u(e){return(0,h.cp)("MuiCardContent",e)}(0,r.c)("MuiCardContent",["root"]);var v=d(82496);const m=["className","component"],x=(0,c.cp)("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(e,t)=>t.root})((()=>({padding:16,"&:last-child":{paddingBottom:24}}))),j=n.forwardRef((function(e,t){const d=(0,i.C)({props:e,name:"MuiCardContent"}),{className:n,component:c="div"}=d,r=(0,l.c)(d,m),h=(0,o.c)({},d,{component:c}),j=(e=>{const{classes:t}=e;return(0,s.c)({root:["root"]},u,t)})(h);return(0,v.jsx)(x,(0,o.c)({as:c,className:(0,a.c)(j.root,n),ownerState:h,ref:t},r))}))}}]);
//# sourceMappingURL=1836.bd94356b.chunk.js.map
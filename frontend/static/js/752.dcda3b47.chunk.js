"use strict";(self.webpackChunkerp=self.webpackChunkerp||[]).push([[752],{62344:(e,t,l)=>{l.d(t,{o$:()=>o,o5:()=>r,cF:()=>n,iI:()=>d});var a=l(30800);const i=l.p+"static/media/smt.aa4d4f940bbebff07a57.png",d={table:{style:{width:"auto",backgroundColor:"transparent"}},rows:{style:{backgroundColor:"transparent"}},headCells:{style:{backgroundColor:"#6b9080f8",color:"white",fontSize:"14px"}}},n={menu:(e,t)=>(0,a.c)((0,a.c)({},e),{},{zIndex:9999}),menuPortal:e=>(0,a.c)((0,a.c)({},e),{},{zIndex:9999}),groupHeading:e=>(0,a.c)((0,a.c)({},e),{},{backgroundColor:"#f5f5f5",color:"#333",fontWeight:"bold",fontSize:"14px",padding:"8px 12px",borderBottom:"1px solid #ddd",textTransform:"uppercase"}),option:(e,t)=>(0,a.c)((0,a.c)({},e),{},{backgroundColor:t.isSelected?"#2684FF":t.isFocused?"#E2ECF9":"white",color:t.isSelected?"white":"#333",padding:"10px 12px"})},o=[{id:1,headname:"Menu ID",variant:"head",align:"left",width:100},{id:2,headname:"MenuName"},{id:3,headname:"Read Rights"},{id:4,headname:"Add Rights"},{id:5,headname:"Edit Rights"},{id:6,headname:"Delete Rights"},{id:7,headname:"Print Rights"},{id:8,headname:"Action"}],r=[{dataBase:1,name:"SHANKAR TRADERS",business:"Wholesale Merchant in Dhall",address:"32, Chitrakara Street, Madurai - 01 <br /> Bill of Supply -Disclaimer Affidavlt Field Extemped",logo:i,gstin:"33AADFS6973R1ZD",phone:"984-313-1353, 984-335-5166",fssai:"12418012000818",bankAccount:"0021 5032 0885 122",ifsc:"TMBL0000002"},{dataBase:2,name:"SMT AGRO PRODUCTS",business:"",address:"H.O: 153, Chitrakara Street, 2nd Floor, Madurai -01 <br /> G.O: 746 Puliyur, Sayanapuram, Svga <br /> Bill of Supply -Disclaimer Affidavlt Field Extemped",logo:i,gstin:"33ACMFS3420Q1ZQ",phone:"0452-4371625",fssai:"12418012000818",bankAccount:"0025 3031 0875 947",ifsc:"TMBL0000002"},{dataBase:3,name:"BHAVANI TRADERS",business:"",address:"H.O: 152-A, Chitrakara Street, Madurai -01 <br /> G.O: 30/1-Rajman Nagar, Chintamani Main Road, Mdu-01 <br /> Tax Invoice",logo:i,gstin:"33AAEFB6728J1ZG",phone:"958-559-7641, 958-559-7614",fssai:"12418012000670",bankAccount:"0021 5005 0800 309",ifsc:"TMBL0000002"}]},60989:(e,t,l)=>{l.d(t,{KA:()=>i,Si:()=>r,Yf:()=>n,aW:()=>o,kf:()=>c,uk:()=>d});var a=l(39308);const i={receipt_id:"",year_id:"",receipt_voucher_type_id:"",receipt_sno:"",receipt_invoice_no:"",receipt_date:(0,a.Q7)(),receipt_bill_type:1,credit_ledger:"",credit_ledger_name:"Select",credit_amount:0,debit_ledger:"",debit_ledger_name:"Select",debit_amount:0,remarks:"",status:1,check_no:"",check_date:"",bank_name:"",bank_date:"",created_by:(0,a.Q$)(null===a.Ej||void 0===a.Ej?void 0:a.Ej.UserId)?null===a.Ej||void 0===a.Ej?void 0:a.Ej.UserId:"",altered_by:(0,a.Q$)(null===a.Ej||void 0===a.Ej?void 0:a.Ej.UserId)?null===a.Ej||void 0===a.Ej?void 0:a.Ej.UserId:"",created_on:"",alterd_on:""},d={auto_id:"",created_on:"",receipt_id:"",receipt_no:"",receipt_date:"",receipt_bill_type:"",DR_CR_Acc_Id:"",bill_id:"",JournalBillType:"",bill_name:"",bill_amount:0,Debit_Amo:0,Credit_Amo:0,SalesInvoiceDate:"",StockJournalDate:"",TotalPaidAmount:0,PendingAmount:0},n={auto_id:"",receipt_id:"",receipt_no:"",receipt_date:"",receipt_bill_type:"",Debit_Ledger_Id:"",created_on:"",bill_id:"",JournalBillType:"",item_id:"",item_name:"",expence_value:0,itemQuantity:0,PaidAmount:0},o=[{value:1,label:"CUSTOMER - SALES INVOICE"},{value:2,label:"EXPENCES - RETURN"},{value:3,label:"ON ACCOUNT"}],r=[{label:"MATERIAL INWARD",value:1},{label:"GODOWN TRANSFER",value:2},{label:"PROCESSING",value:3}],c=[{label:"New",value:1},{label:"Process",value:2},{label:"Completed",value:3},{label:"Canceled",value:0}]},26888:(e,t,l)=>{l.r(t),l.d(t,{default:()=>v});var a=l(30800),i=l(69060),d=l(43692),n=l(89e3),o=(l(13724),l(51560)),r=l(1908),c=l(39308),s=l(60989),u=l(40656),m=l(62344),p=l(82496);const v=e=>{let{loadingOn:t,loadingOff:l,AddRights:v}=e;const[h,_]=(0,i.useState)([]),[b,g]=(0,i.useState)([]),[x,A]=(0,i.useState)([]),f=(0,o.i6)(),[j,S]=(0,i.useState)({Fromdate:(0,c.Q7)(),Todate:(0,c.Q7)(),ledger:{value:"",label:"Select Ledger"},refresh:!1,filterDialog:!1});(0,i.useEffect)((()=>{(0,r.q)({address:"receipt/getCustomerWhoHasBills"}).then((e=>{e.success&&g(e.data)})).catch((e=>console.error(e)))}),[]),(0,i.useEffect)((()=>{(0,c.Q$)(j.ledger.value)&&(A([]),(0,r.q)({address:"receipt/receiptMaster/pendingSalesInvoiceReceipt?Acc_Id=".concat(j.ledger.value),loadingOn:t,loadingOff:l}).then((e=>{if(e.success){const t=(0,c.dq)(e.data).map((e=>(0,a.c)((0,a.c)({},e),{},{receiptPendingAmount:(0,c.od)(e.Total_Invoice_value,e.Paid_Amount)})));_(t)}})).catch((e=>console.error(e))))}),[j.ledger.value]);const R=(e,t)=>{A((l=>{const i=(0,c.dq)(l).filter((t=>!(0,c.Qr)(null===t||void 0===t?void 0:t.Do_Id,e.Do_Id)));let d;return d=t?i:[...i,(0,a.c)((0,a.c)({},e),{},{newReceiptBillAmount:(0,c.gH)(null===e||void 0===e?void 0:e.receiptPendingAmount)})],d}))};return(0,p.jsx)(p.Fragment,{children:(0,p.jsxs)(d.c,{children:[(0,p.jsxs)("div",{className:"p-2 d-flex justify-content-between align-items-center",children:[(0,p.jsx)("h5",{children:"Customer Outstaing Receipts"}),(0,p.jsx)("div",{style:{minWidth:"360px"},children:(0,p.jsx)(u.cp,{value:null===j||void 0===j?void 0:j.ledger,onChange:e=>S((t=>(0,a.c)((0,a.c)({},t),{},{ledger:e}))),options:[{value:"",label:"ALL"},...b],styles:m.cF,isSearchable:!0,placeholder:"Select Leder Name",menuPortalTarget:document.body})})]}),(0,p.jsx)("form",{onSubmit:e=>{e.preventDefault(),f("/erp/receipts/listReceipts/create",{state:(0,a.c)((0,a.c)({},s.KA),{},{credit_ledger:j.ledger.value,credit_ledger_name:j.ledger.label,credit_amount:x.reduce(((e,t)=>(0,c.Q5)(e,null===t||void 0===t?void 0:t.newReceiptBillAmount)),0),BillsDetails:x.map((e=>({bill_id:e.Do_Id,bill_name:e.Do_Inv_No,bill_amount:e.Total_Invoice_value,Debit_Amo:0,Credit_Amo:e.newReceiptBillAmount})))})})},children:(0,p.jsx)("div",{className:"table-responsive",children:(0,p.jsxs)("table",{className:"table table-bordered fa-12",children:[(0,p.jsx)("thead",{children:(0,p.jsx)("tr",{children:["Sno","Sales Invoice No","Date","Inv-Value","Closed Value","Outstanding","Make a Receipt"].map(((e,t)=>(0,p.jsx)("th",{className:"fa-13",children:e},t)))})}),(0,p.jsxs)("tbody",{children:[(0,p.jsxs)("tr",{children:[(0,p.jsx)("td",{colSpan:3,className:"fw-bold bg-light text-center",children:"Total"}),(0,p.jsx)("td",{className:"bg-light",children:h.reduce(((e,t)=>(0,c.Q5)(e,t.Total_Invoice_value)),0)}),(0,p.jsx)("td",{className:"bg-light",children:h.reduce(((e,t)=>(0,c.Q5)(e,t.Paid_Amount)),0)}),(0,p.jsx)("td",{className:"bg-light",children:h.reduce(((e,t)=>(0,c.Q5)(e,(0,c.od)(t.Total_Invoice_value,t.Paid_Amount))),0)}),(0,p.jsx)("td",{className:"text-primary fw-bold text-end fa-17 bg-light",children:x.reduce(((e,t)=>(0,c.Q5)(e,null===t||void 0===t?void 0:t.newReceiptBillAmount)),0)})]}),h.map(((e,t)=>{var l;const i=x.findIndex((t=>(0,c.Qr)(null===t||void 0===t?void 0:t.Do_Id,null===e||void 0===e?void 0:e.Do_Id))),d=x[i]?null===(l=x[i])||void 0===l?void 0:l.newReceiptBillAmount:0,n=-1!==i;return(0,p.jsxs)("tr",{children:[(0,p.jsx)("td",{children:t+1}),(0,p.jsx)("td",{children:null===e||void 0===e?void 0:e.Do_Inv_No}),(0,p.jsx)("td",{children:(0,c.uy)(null===e||void 0===e?void 0:e.Do_Date)}),(0,p.jsx)("td",{children:(0,c.SA)(null===e||void 0===e?void 0:e.Total_Invoice_value)}),(0,p.jsx)("td",{children:(0,c.SA)(null===e||void 0===e?void 0:e.Paid_Amount)}),(0,p.jsx)("td",{children:(0,c.SA)(null===e||void 0===e?void 0:e.receiptPendingAmount)}),(0,p.jsx)("td",{className:"p-0 vctr text-center",style:{verticalAlign:"middle"},children:(0,p.jsxs)("div",{className:"d-flex align-items-center",children:[(0,p.jsx)("input",{className:"form-check-input shadow-none pointer mx-2",style:{padding:"0.7em"},type:"checkbox",checked:n,onChange:()=>{n?R(e,!0):R(e)}}),n&&(0,p.jsx)("input",{value:d||"",onInput:c.Gk,required:n,type:"number",max:(0,c.gH)(null===e||void 0===e?void 0:e.receiptPendingAmount),className:"cus-inpt flex-grow-1 p-2 border-0 me-1",onChange:t=>{return l=null===e||void 0===e?void 0:e.Do_Id,i=t.target.value,void A((e=>e.map((e=>(0,a.c)((0,a.c)({},e),{},{newReceiptBillAmount:(0,c.Qr)(l,e.Do_Id)?i:e.newReceiptBillAmount})))));var l,i},placeholder:n?"Enter amount":""})]})})]},t)})),(0,p.jsx)("tr",{children:(0,p.jsx)("td",{colSpan:7,className:"text-end",children:(0,p.jsx)(n.c,{variant:"outlined",disabled:0===x.length,type:"submit",children:"Create Receipt"})})})]})]})})})]})})}}}]);
//# sourceMappingURL=752.dcda3b47.chunk.js.map
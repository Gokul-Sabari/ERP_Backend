{"version":3,"file":"static/js/2176.d6c3b149.chunk.js","mappings":"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","sources":["Components/requiredStar.jsx","Components/tablecolumn.js","Components/taxCalculator.js","../node_modules/@mui/icons-material/esm/ArrowLeft.js","../node_modules/@mui/icons-material/esm/Done.js","Pages/Sales/SaleOrder/column.js","Pages/Sales/SaleOrder/importFromPos.jsx","Pages/Sales/SaleOrder/addItemToCart.jsx","Pages/Sales/SaleOrder/saleOrderCreation.jsx","../node_modules/@mui/icons-material/esm/Add.js","../node_modules/@mui/icons-material/esm/Clear.js","../node_modules/@mui/icons-material/esm/ClearAll.js","../node_modules/@mui/icons-material/esm/Delete.js","../node_modules/@mui/icons-material/esm/Edit.js","../node_modules/@mui/icons-material/esm/Save.js","../node_modules/@mui/material/CardContent/cardContentClasses.js","../node_modules/@mui/material/CardContent/CardContent.js"],"sourcesContent":["const RequiredStar = () => (\r\n    <span style={{ color: 'red', fontWeight: 'bold', fontSize: '1em' }}> *</span>\r\n);\r\n\r\nexport default RequiredStar;\r\n","\r\nimport SMT_LOGO from './smt.png';\r\n\r\nexport const customTableStyles = {\r\n    table: {\r\n        style: {\r\n            width: 'auto',\r\n            backgroundColor: 'transparent',\r\n            // borderRadius: '5px',\r\n        }\r\n    },\r\n    rows: {\r\n        style: {\r\n            backgroundColor: 'transparent',\r\n        },\r\n    },\r\n    headCells: {\r\n        style: {\r\n            backgroundColor: '#6b9080f8',\r\n            color: 'white',\r\n            fontSize: '14px',\r\n            // borderRadius: '5px',\r\n        },\r\n    },\r\n};\r\n\r\nexport const customSelectStyles = {\r\n    control: (provided, state) => ({\r\n        ...provided,\r\n        height: '45px',\r\n        background: 'rgba(255, 255, 255, 0.322)'\r\n    }),\r\n    menu: (provided, state) => ({\r\n        ...provided,\r\n        zIndex: 9999,\r\n    }),\r\n    menuPortal: base => ({ ...base, zIndex: 9999 })\r\n};\r\n\r\nexport const customSelectStyles2 = {\r\n    control: (provided, state) => ({\r\n        ...provided,\r\n        background: 'transparent',\r\n        border: 'none',\r\n        color: 'rgba(255, 255, 255, 0.322)',\r\n        // minWidth: '160px'\r\n    }),\r\n    menu: (provided, state) => ({\r\n        ...provided,\r\n        color: 'black',\r\n        zIndex: 9999,\r\n    }),\r\n};\r\n\r\nexport const MainMenu = [\r\n    {\r\n        id: 1,\r\n        headname: 'Menu ID',\r\n        variant: 'head',\r\n        align: 'left',\r\n        width: 100\r\n    },\r\n    {\r\n        id: 2,\r\n        headname: 'MenuName',\r\n    },\r\n    {\r\n        id: 3,\r\n        headname: 'Read Rights'\r\n    },\r\n    {\r\n        id: 4,\r\n        headname: 'Add Rights'\r\n    },\r\n    {\r\n        id: 5,\r\n        headname: 'Edit Rights'\r\n    },\r\n    {\r\n        id: 6,\r\n        headname: 'Delete Rights'\r\n    },\r\n    {\r\n        id: 7,\r\n        headname: 'Print Rights'\r\n    },\r\n    {\r\n        id: 8,\r\n        headname: 'Action'\r\n    }\r\n];\r\n\r\nexport const companyDetails = [\r\n    {\r\n        dataBase: 1,\r\n        name: 'SHANKAR TRADERS',\r\n        business: 'Wholesale Merchant in Dhall',\r\n        address: '32, Chitrakara Street, Madurai - 01 <br /> Bill of Supply -Disclaimer Affidavlt Field Extemped',\r\n        logo: SMT_LOGO,\r\n        gstin: '33AADFS6973R1ZD',\r\n        phone: '984-313-1353, 984-335-5166',\r\n        fssai: '12418012000818',\r\n        bankAccount: '0021 5032 0885 122',\r\n        ifsc: 'TMBL0000002'\r\n    },\r\n    {\r\n        dataBase: 2,\r\n        name: 'SMT AGRO PRODUCTS',\r\n        business: '',\r\n        address: 'H.O: 153, Chitrakara Street, 2nd Floor, Madurai -01 <br /> G.O: 746 Puliyur, Sayanapuram, Svga <br /> Bill of Supply -Disclaimer Affidavlt Field Extemped',\r\n        logo: SMT_LOGO,\r\n        gstin: '33ACMFS3420Q1ZQ',\r\n        phone: '0452-4371625',\r\n        fssai: '12418012000818',\r\n        bankAccount: '0025 3031 0875 947',\r\n        ifsc: 'TMBL0000002'\r\n    },\r\n    {\r\n        dataBase: 3,\r\n        name: 'BHAVANI TRADERS',\r\n        business: '',\r\n        address: 'H.O: 152-A, Chitrakara Street, Madurai -01 <br /> G.O: 30/1-Rajman Nagar, Chintamani Main Road, Mdu-01 <br /> Tax Invoice',\r\n        logo: SMT_LOGO,\r\n        gstin: '33AAEFB6728J1ZG',\r\n        phone: '958-559-7641, 958-559-7614',\r\n        fssai: '12418012000670',\r\n        bankAccount: '0021 5005 0800 309',\r\n        ifsc: 'TMBL0000002'\r\n    },\r\n]","/**\r\n * @param {number} amount \r\n * @param {number} gstRate \r\n * @param {string} type 3 Types add, remove, zerotax\r\n * @returns {object} \r\n */\r\n\r\nimport { toNumber } from \"./functions\";\r\n\r\nexport const calculateGSTDetails = (amount, gstRate, type = 'add') => {\r\n\r\n    const validatedAmount = toNumber(amount);\r\n    const validatedGstRate = toNumber(gstRate);\r\n\r\n    const halfGstRate = validatedGstRate / 2;\r\n    let baseAmount, taxAmount, withTax, withoutTax;\r\n\r\n    if (type === 'zerotax') {\r\n        baseAmount = validatedAmount; // No tax applied\r\n        taxAmount = 0;\r\n        withTax = validatedAmount;\r\n        withoutTax = validatedAmount;\r\n    } else if (type === 'add') {\r\n        taxAmount = (validatedAmount * validatedGstRate) / 100;\r\n        baseAmount = validatedAmount;\r\n        withTax = validatedAmount + taxAmount;\r\n        withoutTax = validatedAmount;\r\n    } else if (type === 'remove') {\r\n        baseAmount = validatedAmount / (1 + validatedGstRate / 100);\r\n        taxAmount = validatedAmount - baseAmount;\r\n        withTax = validatedAmount;\r\n        withoutTax = baseAmount;\r\n    } else {\r\n        throw new Error(\"Invalid type. Use 'add', 'remove', or 'zerotax'.\");\r\n    }\r\n\r\n    const sgstAmount = (taxAmount / 2).toFixed(2);\r\n    const cgstAmount = (taxAmount / 2).toFixed(2);\r\n    const igstAmount = taxAmount.toFixed(2);\r\n\r\n    return {\r\n        base_amount: Number(baseAmount).toFixed(2),\r\n        with_tax: Number(withTax).toFixed(2),\r\n        without_tax: Number(withoutTax).toFixed(2),\r\n        tax_per: Number(validatedGstRate),\r\n        tax_amount: Number(taxAmount).toFixed(2),\r\n        sgst_per: Number(halfGstRate),\r\n        sgst_amount: Number(sgstAmount),\r\n        cgst_per: Number(halfGstRate),\r\n        cgst_amount: Number(cgstAmount),\r\n        igst_per: Number(validatedGstRate),\r\n        igst_amount: Number(igstAmount),\r\n        type,\r\n    };\r\n};","\"use client\";\n\nimport createSvgIcon from './utils/createSvgIcon';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"m14 7-5 5 5 5z\"\n}), 'ArrowLeft');","\"use client\";\n\nimport createSvgIcon from './utils/createSvgIcon';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M9 16.2 4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4z\"\n}), 'Done');","import { getSessionUser, ISOString } from \"../../../Components/functions\"\r\n\r\nconst storage = getSessionUser().user;\r\n\r\nexport const saleOrderGeneralInfo = {\r\n    So_Id: '',\r\n    So_Inv_No: '',\r\n    So_Year: '',\r\n    So_Branch_Inv_Id: '',\r\n\r\n    So_Date: ISOString(),\r\n    Retailer_Id: '',\r\n    Sales_Person_Id: '',\r\n    Branch_Id: '',\r\n    VoucherType: '',\r\n    GST_Inclusive: 2,\r\n    IS_IGST: 0,\r\n    Narration: '',\r\n    isConverted: '',\r\n    Cancel_status: '',\r\n    \r\n    CSGT_Total: 0,\r\n    SGST_Total: 0,\r\n    IGST_Total: 0,\r\n    Round_off: 0,\r\n    Total_Before_Tax: 0,\r\n    Total_Tax: 0,\r\n    Total_Invoice_value: 0,\r\n\r\n    Created_by: storage?.UserId,\r\n    Altered_by: storage?.UserId,\r\n    Approved_By: '',\r\n    Approve_Status: '',\r\n\r\n    Created_on: '',\r\n    Alterd_on: '',\r\n    Trans_Type: '',\r\n    Alter_Id: '',\r\n}\r\n\r\nexport const saleOrderStockInfo = {\r\n    // front-end purpose\r\n    BrandID: '',\r\n    Brand: '',\r\n    GroupID: '',\r\n    Group: '',\r\n\r\n    // backend generated\r\n    SO_St_Id: '',\r\n    So_Date: '',\r\n    Sales_Order_Id: '',\r\n    S_No: '',\r\n\r\n    // from entry\r\n    Pre_Id: '',\r\n    Item_Id: '',\r\n    Item_Rate: 0,\r\n    Bill_Qty: 0,\r\n    Amount: 0,\r\n    HSN_Code: '',\r\n    Unit_Id: '',\r\n    Unit_Name: '',\r\n\r\n    // others\r\n    Free_Qty: 0,\r\n    Total_Qty: 0,\r\n\r\n    // from product master  \r\n    Taxble: 0, // 0 means tax not applicable\r\n    Taxable_Rate: 0,\r\n    Taxable_Amount: 0,\r\n    Tax_Rate: 0,\r\n    Cgst: 0,\r\n    Cgst_Amo: 0,\r\n    Sgst: 0,\r\n    Sgst_Amo: 0,\r\n    Igst: 0,\r\n    Igst_Amo: 0,\r\n    Final_Amo: 0,\r\n\r\n    // generated from server\r\n    Created_on: '',\r\n}","import { useEffect, useState } from \"react\";\r\nimport { checkIsNumber, Division, isEqualNumber, ISOString, LocalDate, Multiplication, toNumber } from \"../../../Components/functions\";\r\nimport { Button, Dialog, DialogContent, DialogTitle, IconButton } from \"@mui/material\";\r\nimport { fetchLink } from \"../../../Components/fetchComponent\";\r\nimport { Done } from \"@mui/icons-material\";\r\nimport { saleOrderStockInfo } from \"./column\";\r\nimport { calculateGSTDetails } from \"../../../Components/taxCalculator\";\r\n\r\n\r\n\r\nconst ImportFromPOS = ({\r\n    loadingOn,\r\n    loadingOff,\r\n    open,\r\n    onClose,\r\n    retailer,\r\n    children,\r\n    selectedItems,\r\n    setSelectedItems,\r\n    products = [],\r\n    GST_Inclusive,\r\n    IS_IGST\r\n}) => {\r\n\r\n    const isInclusive = isEqualNumber(GST_Inclusive, 1);\r\n    const isNotTaxableBill = isEqualNumber(GST_Inclusive, 2);\r\n\r\n    const findProductDetails = (productid) => products?.find(obj => isEqualNumber(obj?.Product_Id, productid)) ?? {};\r\n\r\n    const [saleOrders, setSaleOrders] = useState([]);\r\n    const [filters, setFilters] = useState({\r\n        Fromdate: ISOString(),\r\n        Todate: ISOString(),\r\n        search: false\r\n    })\r\n\r\n    useEffect(() => {\r\n        if (checkIsNumber(retailer) && open) {\r\n            const { Fromdate, Todate } = filters;\r\n            if (loadingOn) loadingOn();\r\n            fetchLink({\r\n                address: `sales/saleOrder/importPosOrders?Fromdate=${Fromdate}&Todate=${Todate}&Retailer_Id=${retailer}`\r\n            }).then(data => {\r\n                if (data.success) setSaleOrders(data.data);\r\n                else setSaleOrders([]);\r\n            }).catch(e => console.error(e)).finally(() => {\r\n                if (loadingOff) loadingOff();\r\n            })\r\n        }\r\n    }, [filters.search])\r\n\r\n    const changeSelectedItems = (itemDetail, deleteRow = false) => {\r\n        setSelectedItems(prev => {\r\n            const preItems = prev.filter(o => !isEqualNumber(o?.Pre_Id, itemDetail.Pre_Id));\r\n\r\n            let tempArray;\r\n            if (deleteRow) {\r\n                tempArray = preItems;\r\n            } else {\r\n                const currentOrder = saleOrders.filter(sale => isEqualNumber(sale.Pre_Id, itemDetail.Pre_Id))\r\n                const reStruc = currentOrder.map(cur => (\r\n                    Object.fromEntries(\r\n                        Object.entries(saleOrderStockInfo).map(([key, value]) => {\r\n\r\n                            const productMaster = findProductDetails(cur.Item_Id);\r\n                            const gstPercentage = IS_IGST ? productMaster.Igst_P : productMaster.Gst_P;\r\n                            const isTaxable = gstPercentage > 0;\r\n\r\n                            const { Item_Rate, Bill_Qty, Tonnage, PackValue } = cur;\r\n                            const Amount = Multiplication(Item_Rate, Multiplication(Bill_Qty, PackValue))\r\n\r\n                            const taxType = isNotTaxableBill ? 'zerotax' : isInclusive ? 'remove' : 'add';\r\n                            const itemRateGst = calculateGSTDetails(Item_Rate, gstPercentage, taxType);\r\n                            const gstInfo = calculateGSTDetails(Amount, gstPercentage, taxType);\r\n\r\n                            const cgstPer = !IS_IGST ? gstInfo.cgst_per : 0;\r\n                            const igstPer = IS_IGST ? gstInfo.igst_per : 0;\r\n                            const Cgst_Amo = !IS_IGST ? gstInfo.cgst_amount : 0;\r\n                            const Igst_Amo = IS_IGST ? gstInfo.igst_amount : 0;\r\n\r\n                            switch (key) {\r\n                                case 'Pre_Id': return [key, cur['Pre_Id'] ?? value];\r\n                                case 'Item_Id': return [key, cur['Item_Id'] ?? value];\r\n                                case 'Item_Rate': return [key, toNumber(Item_Rate)];\r\n                                case 'Bill_Qty': return [key, toNumber(Tonnage)];\r\n                                case 'Amount': return [key, Amount];\r\n                                case 'Unit_Id': return [key, cur['Unit_Id'] ?? value];\r\n                                case 'Unit_Name': return [key, cur['Units'] ?? value];\r\n                                case 'HSN_Code': return [key, productMaster.HSN_Code ?? value];\r\n\r\n                                case 'Taxable_Rate': return [key, itemRateGst.base_amount]\r\n                                case 'Total_Qty': return [key, toNumber(Tonnage)]\r\n                                case 'Taxble': return [key, isTaxable ? 1 : 0]\r\n                                case 'Taxable_Amount': return [key, gstInfo.base_amount]\r\n                                case 'Tax_Rate': return [key, gstPercentage]\r\n                                case 'Cgst':\r\n                                case 'Sgst': return [key, cgstPer ?? 0]\r\n                                case 'Cgst_Amo':\r\n                                case 'Sgst_Amo': return [key, isNotTaxableBill ? 0 : Cgst_Amo]\r\n                                case 'Igst': return [key, igstPer ?? 0]\r\n                                case 'Igst_Amo': return [key, isNotTaxableBill ? 0 : Igst_Amo]\r\n                                case 'Final_Amo': return [key, gstInfo.with_tax]\r\n\r\n                                default: return [key, value]\r\n                            }\r\n                        })\r\n                    )\r\n                ))\r\n                tempArray = [...preItems, ...reStruc];\r\n            }\r\n            return tempArray;\r\n        });\r\n    }\r\n\r\n    const closeDialog = () => {\r\n        if (onClose) onClose();\r\n        setSaleOrders([]);\r\n    }\r\n\r\n    return (\r\n        <>\r\n            {children}\r\n\r\n            <Dialog\r\n                open={open}\r\n                onClose={closeDialog}\r\n                fullScreen\r\n            >\r\n                <DialogTitle>\r\n                    <div className=\"d-flex flex-wrap align-items-center \">\r\n                        <span className=\"flex-grow-1\">Import from POS</span>\r\n                        <IconButton\r\n                            onClick={closeDialog}\r\n                            color='success'\r\n                        >\r\n                            <Done className=\"fa-20\" />\r\n                        </IconButton>\r\n                    </div>\r\n                </DialogTitle>\r\n                <DialogContent>\r\n\r\n                    <form onSubmit={e => {\r\n                        e.preventDefault();\r\n                        setFilters(pre => ({ ...pre, search: !pre.search }))\r\n                    }}>\r\n                        <div className=\"d-flex flex-wrap align-items-end\">\r\n                            <div>\r\n                                <label className='d-block ms-2'>From Date</label>\r\n                                <input\r\n                                    className=\"cus-inpt p-2 w-auto\"\r\n                                    type=\"date\"\r\n                                    value={filters?.Fromdate}\r\n                                    onChange={e => setFilters(pre => ({ ...pre, Fromdate: e.target.value }))}\r\n                                    required\r\n                                />\r\n                            </div>\r\n                            <div>\r\n                                <label className='d-block ms-2'>To Date</label>\r\n                                <input\r\n                                    className=\"cus-inpt p-2 w-auto ms-2\"\r\n                                    type=\"date\"\r\n                                    min={filters.Fromdate}\r\n                                    value={filters?.Todate}\r\n                                    onChange={e => setFilters(pre => ({ ...pre, Todate: e.target.value }))}\r\n                                    required\r\n                                />\r\n                            </div>\r\n                            <Button\r\n                                variant=\"outlined\"\r\n                                className=\"ms-2\"\r\n                                type=\"submit\"\r\n                            >search</Button>\r\n                        </div>\r\n                    </form>\r\n\r\n                    <div className=\"table-responsive mt-3\">\r\n                        <table className=\"table table-bordered fa-13\">\r\n                            <thead>\r\n                                <tr>\r\n                                    {['Sno', '#', 'Item', 'Qty', 'Pack', 'Rate', 'Amount', 'Order ID', 'Date', 'Invoice Value'].map((col, ind) => (\r\n                                        <th key={ind} >{col}</th>\r\n                                    ))}\r\n                                </tr>\r\n                            </thead>\r\n                            <tbody>\r\n                                {saleOrders.filter(\r\n                                    sale => isEqualNumber(sale.Custome_Id, retailer)\r\n                                ).map((sale, saleInd) => (\r\n                                    <tr key={saleInd}>\r\n                                        <td>{saleInd + 1}</td>\r\n                                        <td>\r\n                                            {(() => {\r\n                                                const isChecked = selectedItems.findIndex(o =>\r\n                                                    isEqualNumber(o?.Pre_Id, sale.Pre_Id)\r\n                                                ) !== -1;\r\n\r\n                                                return (\r\n                                                    <div>\r\n                                                        <input\r\n                                                            className=\"form-check-input shadow-none pointer\"\r\n                                                            style={{ padding: '0.7em' }}\r\n                                                            type=\"checkbox\"\r\n                                                            checked={isChecked}\r\n                                                            onChange={() => {\r\n                                                                if (isChecked) changeSelectedItems(sale, true)\r\n                                                                else changeSelectedItems(sale)\r\n                                                            }}\r\n                                                        />\r\n                                                    </div>\r\n                                                )\r\n                                            })()}\r\n                                        </td>\r\n                                        <td>{sale?.Product_Name}</td>\r\n                                        <td>{sale?.Bill_Qty}</td>\r\n                                        <td>{sale?.Tonnage}</td>\r\n                                        <td>{sale?.Item_Rate}</td>\r\n                                        <td>{sale?.Amount}</td>\r\n                                        <td>{sale?.Pre_Id}</td>\r\n                                        <td>{LocalDate(sale?.Pre_Date)}</td>\r\n                                        <td>{sale?.Total_Invoice_value}</td>\r\n                                    </tr>\r\n                                ))}\r\n                            </tbody>\r\n                        </table>\r\n                    </div>\r\n                </DialogContent>\r\n            </Dialog>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default ImportFromPOS;","import { useEffect, useState } from \"react\";\r\nimport { Button, Dialog, DialogActions, DialogContent, DialogTitle } from \"@mui/material\";\r\nimport { checkIsNumber, Division, isEqualNumber, isValidObject, Multiplication, onlynum, RoundNumber } from \"../../../Components/functions\";\r\nimport { customSelectStyles } from \"../../../Components/tablecolumn\";\r\nimport { saleOrderStockInfo } from \"./column\";\r\nimport { ClearAll } from \"@mui/icons-material\";\r\nimport RequiredStar from \"../../../Components/requiredStar\";\r\nimport { calculateGSTDetails } from \"../../../Components/taxCalculator\";\r\nimport { toast } from \"react-toastify\";\r\nimport Select from \"react-select\";\r\n\r\nconst AddItemToSaleOrderCart = ({\r\n    children,\r\n    orderProducts = [],\r\n    setOrderProducts,\r\n    open = false,\r\n    onClose,\r\n    products = [],\r\n    brands = [],\r\n    uom = [],\r\n    GST_Inclusive,\r\n    IS_IGST,\r\n    editValues = null\r\n}) => {\r\n\r\n    const [productDetails, setProductDetails] = useState(saleOrderStockInfo);\r\n\r\n    const isInclusive = isEqualNumber(GST_Inclusive, 1);\r\n    const isNotTaxableBill = isEqualNumber(GST_Inclusive, 2);\r\n\r\n    const findProductDetails = (productid) => products?.find(obj => isEqualNumber(obj?.Product_Id, productid)) ?? {};\r\n\r\n    const handleProductInputChange = () => {\r\n\r\n        setOrderProducts(pre => {\r\n            const existingProducts = pre.filter(ordered => !isEqualNumber(ordered.Item_Id, productDetails.Item_Id));\r\n\r\n            const currentProductDetails = Object.fromEntries(\r\n                Object.entries(saleOrderStockInfo).map(([key, value]) => {\r\n                    const productMaster = findProductDetails(productDetails.Item_Id);\r\n                    const gstPercentage = IS_IGST ? productMaster.Igst_P : productMaster.Gst_P;\r\n                    const isTaxable = gstPercentage > 0;\r\n\r\n                    const { Bill_Qty, Item_Rate, Amount } = productDetails;\r\n\r\n                    const taxType = isNotTaxableBill ? 'zerotax' : isInclusive ? 'remove' : 'add';\r\n                    const itemRateGst = calculateGSTDetails(Item_Rate, gstPercentage, taxType);\r\n                    const gstInfo = calculateGSTDetails(Amount, gstPercentage, taxType);\r\n\r\n                    const cgstPer = !IS_IGST ? gstInfo.cgst_per : 0;\r\n                    const igstPer = IS_IGST ? gstInfo.igst_per : 0;\r\n                    const Cgst_Amo = !IS_IGST ? gstInfo.cgst_amount : 0;\r\n                    const Igst_Amo = IS_IGST ? gstInfo.igst_amount : 0;\r\n\r\n                    switch (key) {\r\n                        case 'Taxable_Rate': return [key, itemRateGst.base_amount]\r\n                        case 'Total_Qty': return [key, Bill_Qty]\r\n                        case 'Taxble': return [key, isTaxable ? 1 : 0]\r\n                        case 'Taxable_Amount': return [key, gstInfo.base_amount]\r\n                        case 'Tax_Rate': return [key, gstPercentage]\r\n                        case 'Cgst':\r\n                        case 'Sgst': return [key, cgstPer ?? 0]\r\n                        case 'Cgst_Amo':\r\n                        case 'Sgst_Amo': return [key, isNotTaxableBill ? 0 : Cgst_Amo]\r\n                        case 'Igst': return [key, igstPer ?? 0]\r\n                        case 'Igst_Amo': return [key, isNotTaxableBill ? 0 : Igst_Amo]\r\n                        case 'Final_Amo': return [key, gstInfo.with_tax]\r\n\r\n                        default: return [key, productDetails[key] || value]\r\n                    }\r\n                })\r\n            );\r\n\r\n            return [...existingProducts, currentProductDetails];\r\n        });\r\n\r\n        setProductDetails(saleOrderStockInfo);\r\n        onClose();\r\n    };\r\n\r\n    useEffect(() => {\r\n        if (isValidObject(editValues) && open) {\r\n            setProductDetails(pre => (\r\n                Object.fromEntries(\r\n                    Object.entries(pre).map(([key, value]) => [key, editValues[key] ? editValues[key] : value])\r\n                )\r\n            ))\r\n        }\r\n    }, [editValues])\r\n\r\n    return (\r\n        <>\r\n            {children}\r\n\r\n            <Dialog\r\n                open={open}\r\n                onClose={onClose}\r\n                maxWidth='sm' fullWidth\r\n            >\r\n                <DialogTitle className=\"border-bottom\">\r\n                    <span>Add Products Details</span>\r\n                </DialogTitle>\r\n                <form onSubmit={e => {\r\n                    e.preventDefault();\r\n                    if (productDetails.Item_Id) {\r\n                        handleProductInputChange();\r\n                    } else {\r\n                        toast.warn('Select Product');\r\n                    }\r\n                }}>\r\n                    <DialogContent>\r\n                        <div className=\"row pb-5\">\r\n\r\n                            <div className=\"col-6 p-2\">\r\n                                <label>Brand</label>\r\n                                <Select\r\n                                    value={{ value: productDetails.BrandID, label: productDetails.Brand }}\r\n                                    onChange={(e) => setProductDetails(pre => ({ ...pre, BrandID: e.value, Brand: e.label }))}\r\n                                    options={[\r\n                                        { value: '', label: 'select', isDisabled: true },\r\n                                        brands.map(obj => ({ value: obj?.Brand, label: obj?.Brand_Name }))\r\n                                    ]}\r\n                                    styles={customSelectStyles}\r\n                                    isSearchable={true}\r\n                                    placeholder={\"Select Brand\"}\r\n                                    maxMenuHeight={200}\r\n                                />\r\n                            </div>\r\n\r\n                            <div className=\"col-6 p-2\">\r\n                                <label>Group</label>\r\n                                <Select\r\n                                    value={{ value: productDetails.GroupID, label: productDetails.Group }}\r\n                                    onChange={(e) =>\r\n                                        setProductDetails((pre) => ({ ...pre, GroupID: e.value, Group: e.label }))\r\n                                    }\r\n                                    options={[\r\n                                        { value: '', label: 'select', isDisabled: true },\r\n                                        products\r\n                                            .filter(\r\n                                                (pro) =>\r\n                                                    productDetails.BrandID\r\n                                                        ? isEqualNumber(pro.Brand, productDetails.BrandID)\r\n                                                        : true\r\n                                            )\r\n                                            .reduce((acc, pro) => {\r\n                                                if (\r\n                                                    !acc.some((grp) => grp.value === pro.Product_Group)\r\n                                                ) {\r\n                                                    acc.push({\r\n                                                        value: pro.Product_Group,\r\n                                                        label: pro.Pro_Group,\r\n                                                    });\r\n                                                }\r\n                                                return acc;\r\n                                            }, []),\r\n                                    ]}\r\n                                    styles={customSelectStyles}\r\n                                    isSearchable={true}\r\n                                    placeholder={\"Select Group\"}\r\n                                    maxMenuHeight={200}\r\n                                />\r\n                            </div>\r\n\r\n                            <div className=\"col-12 p-2\">\r\n                                <label>Item Name <RequiredStar /></label>\r\n                                <Select\r\n                                    value={{\r\n                                        value: productDetails.Item_Id,\r\n                                        label: findProductDetails(productDetails.Item_Id)?.Product_Name\r\n                                    }}\r\n                                    isDisabled={checkIsNumber(productDetails.Pre_Id)}\r\n                                    onChange={e => {\r\n                                        const productInfo = findProductDetails(e.value);\r\n                                        setProductDetails(pre => ({\r\n                                            ...pre,\r\n\r\n                                            Group: productInfo.Pro_Group ?? pre.Group,\r\n                                            GroupID: productInfo.Product_Group ?? pre.GroupID,\r\n                                            Brand: productInfo.Brand_Name ?? pre.Brand,\r\n                                            BrandID: productInfo.Brand ?? pre.BrandID,\r\n\r\n                                            Item_Id: e.value,\r\n                                            Item_Rate: productInfo.Item_Rate ?? 0,\r\n                                            Bill_Qty: 0,\r\n                                            Amount: 0,\r\n                                            Unit_Id: productInfo.UOM_Id ?? pre.Unit_Id,\r\n                                            Unit_Name: productInfo.Units ?? pre.Unit_Name,\r\n                                            HSN_Code: productInfo?.HSN_Code\r\n                                        }));\r\n                                    }}\r\n                                    options={[\r\n                                        { value: '', label: 'select', isDisabled: true },\r\n                                        ...[\r\n                                            ...products\r\n                                                .filter(pro => productDetails.BrandID ? isEqualNumber(pro.Brand, productDetails.BrandID) : true)\r\n                                                .filter(pro => productDetails.GroupID ? isEqualNumber(pro.Product_Group, productDetails.GroupID) : true)\r\n                                        ].map(obj => ({\r\n                                            value: obj?.Product_Id,\r\n                                            label: obj?.Product_Name,\r\n                                            isDisabled: (\r\n                                                orderProducts.findIndex(ind => isEqualNumber(\r\n                                                    ind?.Item_Id, obj?.Product_Id\r\n                                                ))\r\n                                            ) === -1 ? false : true\r\n                                        }))\r\n                                    ]}\r\n                                    styles={customSelectStyles}\r\n                                    isSearchable={true}\r\n                                    required\r\n                                    placeholder={\"Select Product\"}\r\n                                    maxMenuHeight={200}\r\n                                />\r\n                            </div>\r\n\r\n                            <div className=\"col-lg-4 col-md-6 p-2\">\r\n                                <label>Quantity <RequiredStar /></label>\r\n                                <input\r\n                                    required\r\n                                    value={productDetails.Bill_Qty ? productDetails.Bill_Qty : ''}\r\n                                    onInput={onlynum}\r\n                                    onChange={e => {\r\n                                        if (productDetails.Item_Rate) {\r\n                                            setProductDetails(pre => ({\r\n                                                ...pre,\r\n                                                Amount: Multiplication(productDetails.Item_Rate, e.target.value),\r\n                                                Bill_Qty: e.target.value,\r\n                                            }))\r\n                                        } else if (productDetails.Amount) {\r\n                                            setProductDetails(pre => ({\r\n                                                ...pre,\r\n                                                Item_Rate: Division(pre.Amount, e.target.value),\r\n                                                Bill_Qty: e.target.value,\r\n                                            }))\r\n                                        } else {\r\n                                            setProductDetails(pre => ({\r\n                                                ...pre,\r\n                                                Bill_Qty: e.target.value,\r\n                                            }));\r\n                                        }\r\n                                    }}\r\n                                    className=\"cus-inpt\"\r\n                                    min={1}\r\n                                />\r\n                            </div>\r\n\r\n                            <div className=\"col-lg-4 col-md-6 p-2\">\r\n                                <label>Rate </label>\r\n                                <input\r\n                                    value={productDetails.Item_Rate ? productDetails.Item_Rate : ''}\r\n                                    onInput={onlynum}\r\n                                    onChange={e => setProductDetails(pre => ({\r\n                                        ...pre,\r\n                                        Item_Rate: e.target.value,\r\n                                        Amount: pre.Bill_Qty ? Multiplication(e.target.value, pre.Bill_Qty) : pre.Amount\r\n                                    }))}\r\n                                    required\r\n                                    className=\"cus-inpt\"\r\n                                />\r\n                            </div>\r\n\r\n                            <div className=\"col-lg-4 col-md-6 p-2\">\r\n                                <label>UOM</label>\r\n                                <select\r\n                                    value={productDetails.UOM}\r\n                                    onChange={e => {\r\n                                        const selectedIndex = e.target.selectedIndex;\r\n                                        const label = e.target.options[selectedIndex].text;\r\n                                        const value = e.target.value;\r\n                                        setProductDetails(pre => ({ ...pre, UOM: value, Units: label }));\r\n                                    }}\r\n                                    className=\"cus-inpt\"\r\n                                >\r\n                                    <option value=\"\" disabled>select</option>\r\n                                    {uom.map((o, i) => (\r\n                                        <option value={o.Unit_Id} key={i} >{o.Units}</option>\r\n                                    ))}\r\n                                </select>\r\n                            </div>\r\n\r\n                            <div className=\"col-md-6 p-2\">\r\n                                <label>Amount</label>\r\n                                <input\r\n                                    required\r\n                                    value={productDetails.Amount ? productDetails.Amount : ''}\r\n                                    onInput={onlynum}\r\n                                    onChange={e => setProductDetails(pre => ({\r\n                                        ...pre,\r\n                                        Amount: e.target.value,\r\n                                        Item_Rate: pre.Bill_Qty ? Division(e.target.value, pre.Bill_Qty) : pre.Item_Rate\r\n                                    }))}\r\n                                    className=\"cus-inpt\"\r\n                                    min={1}\r\n                                />\r\n                            </div>\r\n\r\n                        </div>\r\n\r\n                    </DialogContent>\r\n                    <DialogActions className=\"d-flex justify-content-between align-items-center\">\r\n                        <Button onClick={() => setProductDetails(saleOrderStockInfo)} type='button' startIcon={<ClearAll />}>Clear</Button>\r\n                        <span>\r\n                            <Button type=\"button\" onClick={onClose}>cancel</Button>\r\n                            <Button type='submit' variant=\"outlined\">Add</Button>\r\n                        </span>\r\n                    </DialogActions>\r\n                </form>\r\n            </Dialog>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default AddItemToSaleOrderCart;","import React, { useState, useEffect, useMemo } from \"react\";\r\nimport { Button, IconButton, CardContent, Card } from \"@mui/material\";\r\nimport Select from \"react-select\";\r\nimport { customSelectStyles } from \"../../../Components/tablecolumn\";\r\nimport { toast } from 'react-toastify';\r\nimport {\r\n    isEqualNumber, isGraterNumber, isValidObject, ISOString, getUniqueData,\r\n    NumberFormat, numberToWords,\r\n    RoundNumber, Addition,\r\n    getSessionUser,\r\n    checkIsNumber,\r\n    toNumber\r\n} from \"../../../Components/functions\";\r\nimport { Add, ArrowLeft, Clear, Delete, Download, Edit, Save } from \"@mui/icons-material\";\r\nimport { fetchLink } from '../../../Components/fetchComponent';\r\nimport FilterableTable, { createCol } from \"../../../Components/filterableTable2\";\r\nimport { calculateGSTDetails } from '../../../Components/taxCalculator';\r\nimport { useLocation, useNavigate } from \"react-router-dom\";\r\nimport ImportFromPOS from \"./importFromPos\";\r\nimport { saleOrderGeneralInfo, saleOrderStockInfo } from \"./column\";\r\nimport AddItemToSaleOrderCart from \"./addItemToCart\";\r\n\r\nconst storage = getSessionUser().user;\r\n\r\nconst findProductDetails = (arr = [], productid) => arr.find(obj => isEqualNumber(obj.Product_Id, productid)) ?? {};\r\n\r\nconst SaleOrderCreation = ({ loadingOn, loadingOff }) => {\r\n    const navigate = useNavigate();\r\n    const location = useLocation();\r\n    const editValues = location.state;\r\n    const [baseData, setBaseData] = useState({\r\n        products: [],\r\n        branch: [],\r\n        retailers: [],\r\n        voucherType: [],\r\n        uom: [],\r\n        staff: [],\r\n        staffType: [],\r\n        salesPerson: [],\r\n        brand: [],\r\n    });\r\n\r\n    const [orderDetails, setOrderDetails] = useState(saleOrderGeneralInfo)\r\n    const [orderProducts, setOrderProducts] = useState([]);\r\n\r\n    const [companyInfo, setCompanyInfo] = useState({});\r\n    const [selectedProductToEdit, setSelectedProductToEdit] = useState(null);\r\n    const [addProductDialog, setAddProductDialog] = useState(false);\r\n    const [importPosDialog, setImportPosDialog] = useState(false);\r\n\r\n    const isInclusive = isEqualNumber(orderDetails.GST_Inclusive, 1);\r\n    const isNotTaxableBill = isEqualNumber(orderDetails.GST_Inclusive, 2);\r\n    const IS_IGST = isEqualNumber(orderDetails.IS_IGST, 1);\r\n    const taxType = isNotTaxableBill ? 'zerotax' : isInclusive ? 'remove' : 'add';\r\n\r\n    useEffect(() => {\r\n        if (\r\n            isValidObject(editValues) &&\r\n            Array.isArray(editValues?.Products_List)\r\n        ) {\r\n            const { Products_List } = editValues;\r\n            setOrderDetails(\r\n                Object.fromEntries(\r\n                    Object.entries(saleOrderGeneralInfo).map(([key, value]) => {\r\n                        if (key === 'So_Date') return [key, editValues[key] ? ISOString(editValues[key]) : value]\r\n                        return [key, editValues[key] ?? value]\r\n                    })\r\n                )\r\n            );\r\n            setOrderProducts(\r\n                Products_List.map(item => Object.fromEntries(\r\n                    Object.entries(saleOrderStockInfo).map(([key, value]) => {\r\n                        return [key, item[key] ?? value]\r\n                    })\r\n                ))\r\n            );\r\n        }\r\n    }, [editValues])\r\n\r\n    useEffect(() => {\r\n\r\n        const fetchData = async () => {\r\n            try {\r\n                const [\r\n                    branchResponse,\r\n                    productsResponse,\r\n                    retailerResponse,\r\n                    voucherTypeResponse,\r\n                    uomResponse,\r\n                    staffResponse,\r\n                    staffCategory,\r\n                    salesPersonResponse,\r\n                    companyResponse,\r\n                ] = await Promise.all([\r\n                    fetchLink({ address: `masters/branch/dropDown` }),\r\n                    fetchLink({ address: `masters/products` }),\r\n                    fetchLink({ address: `masters/retailers/dropDown?Company_Id=${storage?.Company_id}` }),\r\n                    fetchLink({ address: `purchase/voucherType` }),\r\n                    fetchLink({ address: `masters/uom` }),\r\n                    fetchLink({ address: `dataEntry/costCenter` }),\r\n                    fetchLink({ address: `dataEntry/costCenter/category` }),\r\n                    fetchLink({ address: `masters/users/salesPerson/dropDown` }),\r\n                    fetchLink({ address: `masters/company?Company_id=${storage?.Company_id}` }),\r\n                ]);\r\n\r\n                const branchData = (branchResponse.success ? branchResponse.data : []).sort(\r\n                    (a, b) => String(a?.BranchName).localeCompare(b?.BranchName)\r\n                );\r\n                const productsData = (productsResponse.success ? productsResponse.data : []).sort(\r\n                    (a, b) => String(a?.Product_Name).localeCompare(b?.Product_Name)\r\n                );\r\n                const retailersData = (retailerResponse.success ? retailerResponse.data : []).sort(\r\n                    (a, b) => String(a?.Retailer_Name).localeCompare(b?.Retailer_Name)\r\n                );\r\n                const voucherType = (voucherTypeResponse.success ? voucherTypeResponse.data : []).sort(\r\n                    (a, b) => String(a?.Voucher_Type).localeCompare(b?.Voucher_Type)\r\n                );\r\n                const uomData = (uomResponse.success ? uomResponse.data : []).sort(\r\n                    (a, b) => String(a.Units).localeCompare(b.Units)\r\n                );\r\n                const staffData = (staffResponse.success ? staffResponse.data : []).sort(\r\n                    (a, b) => String(a?.Cost_Center_Name).localeCompare(b?.Cost_Center_Name)\r\n                );\r\n                const staffCategoryData = (staffCategory.success ? staffCategory.data : []).sort(\r\n                    (a, b) => String(a?.Cost_Category).localeCompare(b?.Cost_Category)\r\n                );\r\n                const salesPersonData = (salesPersonResponse.success ? salesPersonResponse.data : []).sort(\r\n                    (a, b) => String(a?.Name).localeCompare(b?.Name)\r\n                );\r\n\r\n                setBaseData((pre) => ({\r\n                    ...pre,\r\n                    products: productsData,\r\n                    branch: branchData,\r\n                    retailers: retailersData,\r\n                    voucherType: voucherType,\r\n                    uom: uomData,\r\n                    staff: staffData,\r\n                    staffType: staffCategoryData,\r\n                    salesPerson: salesPersonData,\r\n                    brand: getUniqueData(productsData, 'Brand', ['Brand_Name'])\r\n                }));\r\n                setCompanyInfo((companyResponse.success && companyResponse?.data[0]) ? companyResponse?.data[0] : {})\r\n            } catch (e) {\r\n                console.error(\"Error fetching data:\", e);\r\n            }\r\n        };\r\n\r\n        fetchData();\r\n\r\n    }, [storage?.Company_id])\r\n\r\n    const clearValues = () => {\r\n        setOrderDetails(saleOrderGeneralInfo);\r\n        setOrderProducts([]);\r\n    }\r\n\r\n    const postSaleOrder = () => {\r\n        if (orderProducts?.length > 0 && orderDetails?.Retailer_Id) {\r\n            loadingOn();\r\n            fetchLink({\r\n                address: `sales/saleOrder`,\r\n                method: checkIsNumber(orderDetails?.So_Id) ? 'PUT' : 'POST',\r\n                bodyData: {\r\n                    ...orderDetails,\r\n                    Product_Array: orderProducts.filter(o => isGraterNumber(o?.Bill_Qty, 0))\r\n                }\r\n            }).then(data => {\r\n                if (data.success) {\r\n                    toast.success(data?.message);\r\n                    setOrderDetails(saleOrderGeneralInfo);\r\n                    setOrderProducts([])\r\n                } else {\r\n                    toast.error(data?.message)\r\n                }\r\n            }).catch(e => console.error(e)).finally(() => loadingOff())\r\n\r\n        } else {\r\n            if (orderProducts.length <= 0) {\r\n                return toast.error('Enter any one product quantity')\r\n            }\r\n            if (!orderDetails?.Retailer_Id) {\r\n                return toast.error('Select Retailer')\r\n            }\r\n        }\r\n    }\r\n\r\n    const Total_Invoice_value = useMemo(() => {\r\n        return orderProducts.reduce((acc, item) => {\r\n            const Amount = RoundNumber(item?.Amount);\r\n\r\n            if (isNotTaxableBill) return Addition(acc, Amount);\r\n\r\n            const product = findProductDetails(baseData.products, item.Item_Id);\r\n            const gstPercentage = isEqualNumber(IS_IGST, 1) ? product.Igst_P : product.Gst_P;\r\n\r\n            if (isInclusive) {\r\n                return Addition(acc, calculateGSTDetails(Amount, gstPercentage, 'remove').with_tax);\r\n            } else {\r\n                return Addition(acc, calculateGSTDetails(Amount, gstPercentage, 'add').with_tax);\r\n            }\r\n        }, 0)\r\n    }, [orderProducts, isNotTaxableBill, baseData.products, IS_IGST, isInclusive])\r\n\r\n    const totalValueBeforeTax = useMemo(() => {\r\n        return orderProducts.reduce((acc, item) => {\r\n            const Amount = RoundNumber(item?.Amount);\r\n\r\n            if (isNotTaxableBill) return {\r\n                TotalValue: Addition(acc.TotalValue, Amount),\r\n                TotalTax: 0\r\n            }\r\n\r\n            const product = findProductDetails(baseData.products, item.Item_Id);\r\n            const gstPercentage = isEqualNumber(IS_IGST, 1) ? product.Igst_P : product.Gst_P;\r\n\r\n            const taxInfo = calculateGSTDetails(Amount, gstPercentage, isInclusive ? 'remove' : 'add');\r\n            const TotalValue = Addition(acc.TotalValue, taxInfo.without_tax);\r\n            const TotalTax = Addition(acc.TotalTax, taxInfo.tax_amount);\r\n\r\n            return {\r\n                TotalValue, TotalTax\r\n            };\r\n        }, {\r\n            TotalValue: 0,\r\n            TotalTax: 0\r\n        });\r\n    }, [orderProducts, isNotTaxableBill, baseData.products, IS_IGST, isInclusive])\r\n\r\n    useEffect(() => {\r\n        setOrderProducts(pre => {\r\n            const exist = [...pre];\r\n\r\n            return exist.map(item => {\r\n                return Object.fromEntries(\r\n                    Object.entries(saleOrderStockInfo).map(([key, value]) => {\r\n                        const productMaster = findProductDetails(baseData.products, item?.Item_Id);\r\n                        const gstPercentage = IS_IGST ? productMaster.Igst_P : productMaster.Gst_P;\r\n                        const isTaxable = gstPercentage > 0;\r\n\r\n                        const { Bill_Qty, Item_Rate, Amount } = item;\r\n\r\n                        const itemRateGst = calculateGSTDetails(Item_Rate, gstPercentage, taxType);\r\n                        const gstInfo = calculateGSTDetails(Amount, gstPercentage, taxType);\r\n\r\n                        const cgstPer = !IS_IGST ? gstInfo.cgst_per : 0;\r\n                        const igstPer = IS_IGST ? gstInfo.igst_per : 0;\r\n                        const Cgst_Amo = !IS_IGST ? gstInfo.cgst_amount : 0;\r\n                        const Igst_Amo = IS_IGST ? gstInfo.igst_amount : 0;\r\n\r\n                        switch (key) {\r\n                            case 'Taxable_Rate': return [key, itemRateGst.base_amount]\r\n                            case 'Total_Qty': return [key, Bill_Qty]\r\n                            case 'Taxble': return [key, isTaxable ? 1 : 0]\r\n                            case 'Taxable_Amount': return [key, gstInfo.base_amount]\r\n                            case 'Tax_Rate': return [key, gstPercentage]\r\n                            case 'Cgst':\r\n                            case 'Sgst': return [key, cgstPer ?? 0]\r\n                            case 'Cgst_Amo':\r\n                            case 'Sgst_Amo': return [key, isNotTaxableBill ? 0 : Cgst_Amo]\r\n                            case 'Igst': return [key, igstPer ?? 0]\r\n                            case 'Igst_Amo': return [key, isNotTaxableBill ? 0 : Igst_Amo]\r\n                            case 'Final_Amo': return [key, gstInfo.with_tax]\r\n\r\n                            default: return [key, item[key] || value]\r\n                        }\r\n                    })\r\n                )\r\n            })\r\n        });\r\n    }, [\r\n        saleOrderStockInfo,\r\n        baseData.products,\r\n        IS_IGST,\r\n        taxType,\r\n    ])\r\n\r\n    return (\r\n        <>\r\n            <AddItemToSaleOrderCart\r\n                orderProducts={orderProducts}\r\n                setOrderProducts={setOrderProducts}\r\n                open={addProductDialog}\r\n                onClose={() => {\r\n                    setAddProductDialog(false);\r\n                    setSelectedProductToEdit(null);\r\n                }}\r\n                products={baseData.products}\r\n                brands={baseData.brand}\r\n                uom={baseData.uom}\r\n                GST_Inclusive={orderDetails.GST_Inclusive}\r\n                IS_IGST={IS_IGST}\r\n                editValues={selectedProductToEdit}\r\n            />\r\n\r\n            <Card>\r\n\r\n                <div className=\"d-flex align-items-center flex-wrap p-2\">\r\n                    <h5 className=\"flex-grow-1 ps-2\">Create Order</h5>\r\n                    <Button\r\n                        variant='outlined' sx={{ ml: 1 }}\r\n                        startIcon={<ArrowLeft />}\r\n                        onClick={() => navigate('/erp/sales/saleOrder')}\r\n                    >\r\n                        {'Back'}\r\n                    </Button>\r\n                    <Button\r\n                        variant='outlined' sx={{ ml: 1 }}\r\n                        startIcon={<Clear />}\r\n                        onClick={clearValues}\r\n                    >\r\n                        {'Clear'}\r\n                    </Button>\r\n                </div>\r\n\r\n                <CardContent>\r\n                    <div className=\"pt-0\">\r\n                        {/* CompnayInfo  */}\r\n                        <div className=\"p-3 rounded-3 mb-3 shadow-sm\">\r\n                            <h5 className=\"border-bottom\">From:</h5>\r\n\r\n                            <div className=\"row\">\r\n\r\n                                <div className=\"col-lg-4 col-md-6\">\r\n                                    <table className=\"table table-borderless m-0 fa-13\">\r\n                                        <tbody>\r\n                                            <tr><td>\r\n                                                <span className=\"me-2\">Company: </span>\r\n                                                <span>{companyInfo?.Company_Name}</span>\r\n                                            </td></tr>\r\n                                            <tr><td>\r\n                                                <span className=\"me-2\">Address: </span>\r\n                                                <span>{companyInfo?.Company_Address}</span>\r\n                                            </td></tr>\r\n                                            <tr><td>\r\n                                                <span className=\"me-2\">Phone: </span>\r\n                                                <span>{companyInfo?.Telephone_Number}</span>\r\n                                            </td></tr>\r\n                                        </tbody>\r\n                                    </table>\r\n                                </div>\r\n\r\n                                <div className=\"col-lg-4 col-md-6\">\r\n                                    <table className=\"table table-borderless fa-13 m-0\">\r\n                                        <tbody>\r\n                                            <tr>\r\n                                                <td>Date:</td>\r\n                                                <td>\r\n                                                    <input\r\n                                                        type=\"date\"\r\n                                                        value={orderDetails?.So_Date ? ISOString(orderDetails?.So_Date) : ''}\r\n                                                        onChange={e => setOrderDetails({ ...orderDetails, So_Date: e.target.value })}\r\n                                                        className=\"cus-inpt p-1\"\r\n                                                    />\r\n                                                </td>\r\n                                            </tr>\r\n                                            <tr>\r\n                                                <td>Invoice Type:</td>\r\n                                                <td>\r\n                                                    <select\r\n                                                        className=\"cus-inpt p-1\"\r\n                                                        onChange={e => setOrderDetails({ ...orderDetails, GST_Inclusive: Number(e.target.value) })}\r\n                                                        value={orderDetails.GST_Inclusive}\r\n                                                    >\r\n                                                        <option value={1}>Inclusive Tax</option>\r\n                                                        <option value={0}>Exclusive Tax</option>\r\n                                                        <option value={2}>Not Taxable</option>\r\n                                                    </select>\r\n                                                </td>\r\n                                            </tr>\r\n                                            <tr>\r\n                                                <td>Tax Type:</td>\r\n                                                <td>\r\n                                                    <select\r\n                                                        className=\"cus-inpt p-1\"\r\n                                                        onChange={e => setOrderDetails({ ...orderDetails, IS_IGST: Number(e.target.value) })}\r\n                                                        value={orderDetails.IS_IGST}\r\n                                                    >\r\n                                                        <option value='0'>GST</option>\r\n                                                        <option value='1'>IGST</option>\r\n                                                    </select>\r\n                                                </td>\r\n                                            </tr>\r\n                                        </tbody>\r\n                                    </table>\r\n                                </div>\r\n\r\n                                <div className=\"col-lg-4 col-md-6\">\r\n                                    <table className=\"table table-borderless fa-13 m-0\">\r\n                                        <tbody>\r\n                                            <tr>\r\n                                                <td>Sales Person:</td>\r\n                                                <td>\r\n                                                    <select\r\n                                                        className=\"cus-inpt p-1\"\r\n                                                        onChange={e => setOrderDetails({ ...orderDetails, Sales_Person_Id: Number(e.target.value) })}\r\n                                                        value={orderDetails.Sales_Person_Id}\r\n                                                    >\r\n                                                        <option value='' disabled>select sales person</option>\r\n                                                        <option value={storage?.UserId}>{storage?.Name}</option>\r\n                                                        {baseData.salesPerson?.map((vou, ind) => (\r\n                                                            <option value={vou.UserId} key={ind}>{vou.Name}</option>\r\n                                                        ))}\r\n                                                    </select>\r\n                                                </td>\r\n                                            </tr>\r\n                                            <tr>\r\n                                                <td>Voucher Type:</td>\r\n                                                <td>\r\n                                                    <select\r\n                                                        className=\"cus-inpt p-1\"\r\n                                                        onChange={e => setOrderDetails({ ...orderDetails, VoucherType: Number(e.target.value) })}\r\n                                                        value={orderDetails.VoucherType}\r\n                                                    >\r\n                                                        <option value='' disabled>select voucher</option>\r\n                                                        {baseData.voucherType?.filter(vou => vou.Type === 'SALES').map((vou, ind) => (\r\n                                                            <option value={vou.Vocher_Type_Id} key={ind}>{vou.Voucher_Type}</option>\r\n                                                        ))}\r\n                                                    </select>\r\n                                                </td>\r\n                                            </tr>\r\n                                            <tr>\r\n                                                <td>Branch</td>\r\n                                                <td>\r\n                                                    <select\r\n                                                        className=\"cus-inpt p-1\"\r\n                                                        onChange={e => setOrderDetails({ ...orderDetails, Branch_Id: Number(e.target.value) })}\r\n                                                        value={orderDetails.Branch_Id}\r\n                                                    >\r\n                                                        <option value='' disabled>select Branch</option>\r\n                                                        {baseData.branch.map((branch, ind) => (\r\n                                                            <option value={branch.BranchId} key={ind}>{branch.BranchName}</option>\r\n                                                        ))}\r\n                                                    </select>\r\n                                                </td>\r\n                                            </tr>\r\n                                        </tbody>\r\n                                    </table>\r\n                                </div>\r\n\r\n                            </div>\r\n                        </div>\r\n\r\n                        {/* Customer Info */}\r\n\r\n                        <div className=\"p-3 rounded-3 mb-3 shadow-sm\">\r\n                            <h5 className=\"border-bottom\">To:</h5>\r\n\r\n                            <div className=\"row \">\r\n\r\n                                <div className=\"col-md-6\">\r\n                                    <table className=\"table table-borderless\">\r\n                                        <tbody>\r\n                                            <tr>\r\n                                                <td>Retailer Name:</td>\r\n                                                <td>\r\n                                                    <Select\r\n                                                        value={{ value: orderDetails?.Retailer_Id, label: orderDetails?.Retailer_Name }}\r\n                                                        onChange={(e) => {\r\n                                                            setOrderDetails({ ...orderDetails, Retailer_Id: e.value, Retailer_Name: e.label });\r\n                                                            setOrderProducts([]);\r\n                                                        }}\r\n                                                        options={[\r\n                                                            { value: '', label: 'select', isDisabled: true },\r\n                                                            ...baseData.retailers.map(obj => ({ value: obj?.Retailer_Id, label: obj?.Retailer_Name }))\r\n                                                        ]}\r\n                                                        styles={customSelectStyles}\r\n                                                        isSearchable={true}\r\n                                                        placeholder={\"Retailer Name\"}\r\n                                                        maxMenuHeight={200}\r\n                                                    />\r\n                                                </td>\r\n                                            </tr>\r\n                                            <tr>\r\n                                                <td>Address:</td>\r\n                                                <td>{storage.Name}</td>\r\n                                            </tr>\r\n                                            <tr>\r\n                                                <td>Phone:</td>\r\n                                                <td>{ }</td>\r\n                                            </tr>\r\n                                        </tbody>\r\n                                    </table>\r\n                                </div>\r\n\r\n                                <div className=\"col-md-6\">\r\n                                    <table className=\"table table-borderless\">\r\n                                        <tbody>\r\n                                            <tr>\r\n                                                <td>Q-Pay:</td>\r\n                                                <td>{10}</td>\r\n                                            </tr>\r\n                                            <tr>\r\n                                                <td>Frequency Days:</td>\r\n                                                <td>{20}</td>\r\n                                            </tr>\r\n\r\n                                        </tbody>\r\n                                    </table>\r\n                                </div>\r\n\r\n                            </div>\r\n                        </div>\r\n\r\n                        <FilterableTable\r\n                            title=\"Products\"\r\n                            ButtonArea={\r\n                                <>\r\n                                    {/* <AddItemToSaleOrderCart\r\n                                        orderProducts={orderProducts}\r\n                                        setOrderProducts={setOrderProducts}\r\n                                        open={addProductDialog}\r\n                                        onClose={() => setAddProductDialog(false)}\r\n                                        products={baseData.products}\r\n                                        brands={baseData.brand}\r\n                                        uom={baseData.uom}\r\n                                        GST_Inclusive={orderDetails.GST_Inclusive}\r\n                                        IS_IGST={IS_IGST}\r\n                                    >\r\n                                        <Button\r\n                                            onClick={() => setAddProductDialog(true)}\r\n                                            sx={{ ml: 1 }}\r\n                                            variant='outlined'\r\n                                            startIcon={<Add />}\r\n                                            disabled={\r\n                                                !checkIsNumber(orderDetails.Retailer_Id)\r\n                                                || (orderProducts.length > 0\r\n                                                    && orderProducts.some(pro => checkIsNumber(pro.Pre_Id)))\r\n                                            }\r\n                                        >Add Product</Button>\r\n                                    </AddItemToSaleOrderCart> */}\r\n\r\n                                    <Button\r\n                                        onClick={() => {\r\n                                            setSelectedProductToEdit(null); \r\n                                            setAddProductDialog(true);\r\n                                        }}\r\n                                        sx={{ ml: 1 }}\r\n                                        variant='outlined'\r\n                                        startIcon={<Add />}\r\n                                        disabled={\r\n                                            !checkIsNumber(orderDetails.Retailer_Id)\r\n                                            || (orderProducts.length > 0\r\n                                                && orderProducts.some(pro => checkIsNumber(pro.Pre_Id)))\r\n                                        }\r\n                                    >Add Product</Button>\r\n\r\n                                    <ImportFromPOS\r\n                                        loadingOn={loadingOn} loadingOff={loadingOff}\r\n                                        open={importPosDialog} onClose={() => setImportPosDialog(false)}\r\n                                        retailer={orderDetails?.Retailer_Id}\r\n                                        selectedItems={orderProducts} setSelectedItems={setOrderProducts}\r\n                                        products={baseData.products}\r\n                                        GST_Inclusive={orderDetails.GST_Inclusive}\r\n                                        IS_IGST={IS_IGST}\r\n                                    >\r\n                                        <Button\r\n                                            onClick={() => setImportPosDialog(true)}\r\n                                            disabled={\r\n                                                !checkIsNumber(orderDetails.Retailer_Id)\r\n                                                || (orderProducts.length > 0\r\n                                                    && orderProducts.some(pro => !checkIsNumber(pro.Pre_Id)))\r\n                                            }\r\n                                            sx={{ ml: 1 }}\r\n                                            variant='outlined'\r\n                                            startIcon={<Download />}\r\n                                        >Import pos</Button>\r\n                                    </ImportFromPOS>\r\n\r\n                                </>\r\n                            }\r\n                            dataArray={orderProducts}\r\n                            columns={[\r\n                                {\r\n                                    isCustomCell: true,\r\n                                    Cell: ({ row }) => findProductDetails(baseData.products, row?.Item_Id).Product_Name,\r\n                                    ColumnHeader: 'Product',\r\n                                    isVisible: 1,\r\n                                },\r\n                                {\r\n                                    isCustomCell: true,\r\n                                    Cell: ({ row }) => findProductDetails(baseData.products, row?.Item_Id).Product_Name?.HSN_Code,\r\n                                    ColumnHeader: 'HSN Code',\r\n                                    isVisible: 1,\r\n                                },\r\n                                {\r\n                                    isCustomCell: true,\r\n                                    Cell: ({ row }) => row?.Bill_Qty + ' ' + (row?.Units ?? ''),\r\n                                    ColumnHeader: 'Quantity',\r\n                                    isVisible: 1,\r\n                                    align: 'center'\r\n                                },\r\n                                createCol('Item_Rate', 'number', 'Rate', 'right'),\r\n                                createCol('Taxable_Amount', 'number', 'Taxable Amount', 'right'),\r\n                                {\r\n                                    isCustomCell: true,\r\n                                    Cell: ({ row }) => {\r\n                                        const percentage = findProductDetails(baseData.products, row?.Item_Id)?.Gst_P\r\n                                        const amount = toNumber(row?.Amount);\r\n                                        const taxDetails = calculateGSTDetails(amount, percentage, taxType);\r\n                                        // console.log({ percentage, amount, taxDetails, taxType })\r\n                                        return NumberFormat(taxDetails.tax_amount) + ' (' + taxDetails.tax_per + '%)'\r\n                                    },\r\n                                    ColumnHeader: 'Tax',\r\n                                    isVisible: 1,\r\n                                    align: 'right'\r\n                                },\r\n                                // createCol('Amount', 'number', 'Amount', 'right'),\r\n                                {\r\n                                    ColumnHeader: 'Amount',\r\n                                    isCustomCell: true,\r\n                                    Cell: ({ row }) => {\r\n                                        const percentage = findProductDetails(baseData.products, row?.Item_Id)?.Gst_P\r\n                                        const amount = row.Amount ?? 0;\r\n                                        const tax = calculateGSTDetails(amount, percentage, taxType).tax_amount;\r\n                                        return NumberFormat(\r\n                                            isEqualNumber(orderDetails.GST_Inclusive, 1) ? amount : Addition(amount, tax)\r\n                                        )\r\n                                    },\r\n                                    isVisible: 1,\r\n                                    align: 'right'\r\n                                },\r\n                                {\r\n                                    isCustomCell: true,\r\n                                    Cell: ({ row }) => {\r\n                                        return (\r\n                                            <>\r\n                                                {/* {!checkIsNumber(row?.Pre_Id) && ( */}\r\n                                                {/* <AddItemToSaleOrderCart\r\n                                                    orderProducts={orderProducts}\r\n                                                    setOrderProducts={setOrderProducts}\r\n                                                    open={addProductDialog}\r\n                                                    onClose={() => setAddProductDialog(false)}\r\n                                                    products={baseData.products}\r\n                                                    brands={baseData.brand}\r\n                                                    uom={baseData.uom}\r\n                                                    GST_Inclusive={orderDetails.GST_Inclusive}\r\n                                                    IS_IGST={IS_IGST}\r\n                                                    editValues={row}\r\n                                                >\r\n                                                    <IconButton\r\n                                                        onClick={() => setAddProductDialog(true)}\r\n                                                        size=\"small\"\r\n                                                    >\r\n                                                        <Edit />\r\n                                                    </IconButton>\r\n                                                </AddItemToSaleOrderCart> */}\r\n                                                {/* )} */}\r\n                                                <IconButton\r\n                                                    onClick={() => {\r\n                                                        setSelectedProductToEdit(row);\r\n                                                        setAddProductDialog(true);\r\n                                                    }}\r\n                                                    size=\"small\"\r\n                                                >\r\n                                                    <Edit />\r\n                                                </IconButton>\r\n                                                <IconButton\r\n                                                    size=\"small\"\r\n                                                    onClick={() => {\r\n                                                        if (checkIsNumber(row?.Pre_Id)) {\r\n                                                            setOrderProducts(pre => pre.filter(o => !isEqualNumber(o?.Pre_Id, row?.Pre_Id)))\r\n                                                        } else {\r\n                                                            setOrderProducts(pre => pre.filter(obj => !isEqualNumber(obj.Item_Id, row.Item_Id)))\r\n                                                        }\r\n                                                    }}\r\n                                                    color='error'\r\n                                                >\r\n                                                    <Delete />\r\n                                                </IconButton>\r\n                                            </>\r\n                                        )\r\n                                    },\r\n                                    ColumnHeader: 'Action',\r\n                                    isVisible: 1,\r\n                                },\r\n                            ]}\r\n                            EnableSerialNumber\r\n                            CellSize=\"small\"\r\n                            disablePagination={true}\r\n                        />\r\n\r\n                        {/* invoice Gst and total  */}\r\n                        {orderProducts.length > 0 && (\r\n                            <div className=\"d-flex justify-content-end py-2\">\r\n                                <table className=\"table\">\r\n                                    <tbody>\r\n                                        <tr>\r\n                                            <td className=\"border p-2\" rowSpan={isEqualNumber(orderDetails.IS_IGST, 1) ? 4 : 5}>\r\n                                                Total in words: {numberToWords(parseInt(Total_Invoice_value))}\r\n                                            </td>\r\n                                            <td className=\"border p-2\">Total Taxable Amount</td>\r\n                                            <td className=\"border p-2\">\r\n                                                {NumberFormat(totalValueBeforeTax.TotalValue)}\r\n                                            </td>\r\n                                        </tr>\r\n                                        {!isEqualNumber(orderDetails.IS_IGST, 1) ? (\r\n                                            <>\r\n                                                <tr>\r\n                                                    <td className=\"border p-2\">CGST</td>\r\n                                                    <td className=\"border p-2\">\r\n                                                        {NumberFormat(totalValueBeforeTax.TotalTax / 2)}\r\n                                                    </td>\r\n                                                </tr>\r\n                                                <tr>\r\n                                                    <td className=\"border p-2\">SGST</td>\r\n                                                    <td className=\"border p-2\">\r\n                                                        {NumberFormat(totalValueBeforeTax.TotalTax / 2)}\r\n                                                    </td>\r\n                                                </tr>\r\n                                            </>\r\n                                        ) : (\r\n                                            <tr>\r\n                                                <td className=\"border p-2\">IGST</td>\r\n                                                <td className=\"border p-2\">\r\n                                                    {NumberFormat(totalValueBeforeTax.TotalTax)}\r\n                                                </td>\r\n                                            </tr>\r\n                                        )}\r\n                                        <tr>\r\n                                            <td className=\"border p-2\">Round Off</td>\r\n                                            <td className=\"border p-2\">\r\n                                                {RoundNumber(Math.round(Total_Invoice_value) - Total_Invoice_value)}\r\n                                            </td>\r\n                                        </tr>\r\n                                        <tr>\r\n                                            <td className=\"border p-2\">Total</td>\r\n                                            <td className=\"border p-2\">\r\n                                                {NumberFormat(Math.round(Total_Invoice_value))}\r\n                                            </td>\r\n                                        </tr>\r\n                                    </tbody>\r\n                                </table>\r\n                            </div>\r\n                        )}\r\n\r\n                        <p className=\"fa-15 mt-3 m-0\">Narration</p>\r\n                        <textarea\r\n                            className=\"cus-inpt \"\r\n                            value={orderDetails.Narration}\r\n                            onChange={e => setOrderDetails(pre => ({ ...pre, Narration: e.target.value }))}\r\n                        />\r\n\r\n                        <div className=\"d-flex justify-content-end\">\r\n                            <Button\r\n                                onClick={postSaleOrder}\r\n                                sx={{ ml: 1 }}\r\n                                variant='outlined'\r\n                                color='success'\r\n                                startIcon={<Save />}\r\n                                disabled={orderProducts?.length === 0 || !orderDetails?.Retailer_Id}\r\n                            >Save</Button>\r\n                        </div>\r\n                    </div>\r\n                </CardContent>\r\n            </Card>\r\n\r\n        </>\r\n    )\r\n}\r\n\r\nexport default SaleOrderCreation;","\"use client\";\n\nimport createSvgIcon from './utils/createSvgIcon';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z\"\n}), 'Add');","\"use client\";\n\nimport createSvgIcon from './utils/createSvgIcon';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z\"\n}), 'Clear');","\"use client\";\n\nimport createSvgIcon from './utils/createSvgIcon';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M5 13h14v-2H5zm-2 4h14v-2H3zM7 7v2h14V7z\"\n}), 'ClearAll');","\"use client\";\n\nimport createSvgIcon from './utils/createSvgIcon';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z\"\n}), 'Delete');","\"use client\";\n\nimport createSvgIcon from './utils/createSvgIcon';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z\"\n}), 'Edit');","\"use client\";\n\nimport createSvgIcon from './utils/createSvgIcon';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3m3-10H5V5h10z\"\n}), 'Save');","import generateUtilityClasses from '@mui/utils/generateUtilityClasses';\nimport generateUtilityClass from '@mui/utils/generateUtilityClass';\nexport function getCardContentUtilityClass(slot) {\n  return generateUtilityClass('MuiCardContent', slot);\n}\nconst cardContentClasses = generateUtilityClasses('MuiCardContent', ['root']);\nexport default cardContentClasses;","'use client';\n\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nconst _excluded = [\"className\", \"component\"];\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport composeClasses from '@mui/utils/composeClasses';\nimport styled from '../styles/styled';\nimport { useDefaultProps } from '../DefaultPropsProvider';\nimport { getCardContentUtilityClass } from './cardContentClasses';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst useUtilityClasses = ownerState => {\n  const {\n    classes\n  } = ownerState;\n  const slots = {\n    root: ['root']\n  };\n  return composeClasses(slots, getCardContentUtilityClass, classes);\n};\nconst CardContentRoot = styled('div', {\n  name: 'MuiCardContent',\n  slot: 'Root',\n  overridesResolver: (props, styles) => styles.root\n})(() => {\n  return {\n    padding: 16,\n    '&:last-child': {\n      paddingBottom: 24\n    }\n  };\n});\nconst CardContent = /*#__PURE__*/React.forwardRef(function CardContent(inProps, ref) {\n  const props = useDefaultProps({\n    props: inProps,\n    name: 'MuiCardContent'\n  });\n  const {\n      className,\n      component = 'div'\n    } = props,\n    other = _objectWithoutPropertiesLoose(props, _excluded);\n  const ownerState = _extends({}, props, {\n    component\n  });\n  const classes = useUtilityClasses(ownerState);\n  return /*#__PURE__*/_jsx(CardContentRoot, _extends({\n    as: component,\n    className: clsx(classes.root, className),\n    ownerState: ownerState,\n    ref: ref\n  }, other));\n});\nprocess.env.NODE_ENV !== \"production\" ? CardContent.propTypes /* remove-proptypes */ = {\n  // ┌────────────────────────────── Warning ──────────────────────────────┐\n  // │ These PropTypes are generated from the TypeScript type definitions. │\n  // │    To update them, edit the d.ts file and run `pnpm proptypes`.     │\n  // └─────────────────────────────────────────────────────────────────────┘\n  /**\n   * The content of the component.\n   */\n  children: PropTypes.node,\n  /**\n   * Override or extend the styles applied to the component.\n   */\n  classes: PropTypes.object,\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n  /**\n   * The component used for the root node.\n   * Either a string to use a HTML element or a component.\n   */\n  component: PropTypes.elementType,\n  /**\n   * The system prop that allows defining system overrides as well as additional CSS styles.\n   */\n  sx: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.func, PropTypes.object, PropTypes.bool])), PropTypes.func, PropTypes.object])\n} : void 0;\nexport default CardContent;"],"names":["RequiredStar","_jsx","style","color","fontWeight","fontSize","children","customTableStyles","table","width","backgroundColor","rows","headCells","customSelectStyles","control","provided","state","_objectSpread","height","background","menu","zIndex","menuPortal","base","MainMenu","id","headname","variant","align","companyDetails","dataBase","name","business","address","logo","SMT_LOGO","gstin","phone","fssai","bankAccount","ifsc","calculateGSTDetails","amount","gstRate","type","arguments","length","undefined","validatedAmount","toNumber","validatedGstRate","halfGstRate","baseAmount","taxAmount","withTax","withoutTax","Error","sgstAmount","toFixed","cgstAmount","igstAmount","base_amount","Number","with_tax","without_tax","tax_per","tax_amount","sgst_per","sgst_amount","cgst_per","cgst_amount","igst_per","igst_amount","createSvgIcon","d","storage","getSessionUser","user","saleOrderGeneralInfo","So_Id","So_Inv_No","So_Year","So_Branch_Inv_Id","So_Date","ISOString","Retailer_Id","Sales_Person_Id","Branch_Id","VoucherType","GST_Inclusive","IS_IGST","Narration","isConverted","Cancel_status","CSGT_Total","SGST_Total","IGST_Total","Round_off","Total_Before_Tax","Total_Tax","Total_Invoice_value","Created_by","UserId","Altered_by","Approved_By","Approve_Status","Created_on","Alterd_on","Trans_Type","Alter_Id","saleOrderStockInfo","BrandID","Brand","GroupID","Group","SO_St_Id","Sales_Order_Id","S_No","Pre_Id","Item_Id","Item_Rate","Bill_Qty","Amount","HSN_Code","Unit_Id","Unit_Name","Free_Qty","Total_Qty","Taxble","Taxable_Rate","Taxable_Amount","Tax_Rate","Cgst","Cgst_Amo","Sgst","Sgst_Amo","Igst","Igst_Amo","Final_Amo","_ref","loadingOn","loadingOff","open","onClose","retailer","selectedItems","setSelectedItems","products","isInclusive","isEqualNumber","isNotTaxableBill","saleOrders","setSaleOrders","useState","filters","setFilters","Fromdate","Todate","search","useEffect","checkIsNumber","fetchLink","concat","then","data","success","catch","e","console","error","finally","changeSelectedItems","itemDetail","deleteRow","prev","preItems","filter","o","tempArray","reStruc","sale","map","cur","Object","fromEntries","entries","_ref2","_cur$Pre_Id","_cur$Item_Id","_cur$Unit_Id","_cur$Units","_productMaster$HSN_Co","key","value","productMaster","productid","_products$find","find","obj","Product_Id","findProductDetails","gstPercentage","Igst_P","Gst_P","isTaxable","Tonnage","PackValue","Multiplication","taxType","itemRateGst","gstInfo","cgstPer","igstPer","closeDialog","_jsxs","_Fragment","Dialog","fullScreen","DialogTitle","className","IconButton","onClick","Done","DialogContent","onSubmit","preventDefault","pre","onChange","target","required","min","Button","col","ind","Custome_Id","saleInd","isChecked","findIndex","padding","checked","Product_Name","LocalDate","Pre_Date","_findProductDetails","orderProducts","setOrderProducts","brands","uom","editValues","productDetails","setProductDetails","isValidObject","_ref3","maxWidth","fullWidth","ordered","toast","warn","Select","label","options","isDisabled","Brand_Name","styles","isSearchable","placeholder","maxMenuHeight","pro","reduce","acc","some","grp","Product_Group","push","Pro_Group","productInfo","_productInfo$Pro_Grou","_productInfo$Product_","_productInfo$Brand_Na","_productInfo$Brand","_productInfo$Item_Rat","_productInfo$UOM_Id","_productInfo$Units","UOM_Id","Units","onInput","onlynum","Division","UOM","selectedIndex","text","disabled","i","DialogActions","startIcon","ClearAll","_arr$find","_baseData$salesPerson","_baseData$voucherType","navigate","useNavigate","useLocation","baseData","setBaseData","branch","retailers","voucherType","staff","staffType","salesPerson","brand","orderDetails","setOrderDetails","companyInfo","setCompanyInfo","selectedProductToEdit","setSelectedProductToEdit","addProductDialog","setAddProductDialog","importPosDialog","setImportPosDialog","Array","isArray","Products_List","_editValues$key","item","_item$key","async","branchResponse","productsResponse","retailerResponse","voucherTypeResponse","uomResponse","staffResponse","staffCategory","salesPersonResponse","companyResponse","Promise","all","Company_id","branchData","sort","a","b","String","BranchName","localeCompare","productsData","retailersData","Retailer_Name","Voucher_Type","uomData","staffData","Cost_Center_Name","staffCategoryData","Cost_Category","salesPersonData","Name","getUniqueData","fetchData","useMemo","RoundNumber","Addition","product","totalValueBeforeTax","TotalValue","TotalTax","taxInfo","_ref4","AddItemToSaleOrderCart","Card","sx","ml","ArrowLeft","Clear","clearValues","CardContent","Company_Name","Company_Address","Telephone_Number","vou","Type","Vocher_Type_Id","BranchId","FilterableTable","title","ButtonArea","Add","ImportFromPOS","Download","dataArray","columns","isCustomCell","Cell","_ref5","row","ColumnHeader","isVisible","_ref6","_findProductDetails$P","_ref7","_row$Units","createCol","_ref8","percentage","taxDetails","NumberFormat","_ref9","_findProductDetails2","_row$Amount","tax","_ref10","size","Edit","Delete","EnableSerialNumber","CellSize","disablePagination","rowSpan","numberToWords","parseInt","Math","round","postSaleOrder","method","bodyData","Product_Array","isGraterNumber","message","Save","getCardContentUtilityClass","slot","generateUtilityClass","generateUtilityClasses","_excluded","CardContentRoot","styled","overridesResolver","props","root","paddingBottom","React","inProps","ref","useDefaultProps","component","other","_objectWithoutPropertiesLoose","ownerState","_extends","classes","composeClasses","useUtilityClasses","as","clsx"],"sourceRoot":""}
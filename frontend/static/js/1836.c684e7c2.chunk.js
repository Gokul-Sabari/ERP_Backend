"use strict";(self.webpackChunkerp=self.webpackChunkerp||[]).push([[1836,3692],{63676:(e,o,t)=>{t.d(o,{c:()=>s});var d=t(69060),a=t(39308),n=t(1908),r=t(82496);const s=()=>{const e=JSON.parse(localStorage.getItem("user")),o=0===Number(null===e||void 0===e?void 0:e.UserTypeId)||1===Number(null===e||void 0===e?void 0:e.UserTypeId),[t,s]=(0,d.useState)(null);return(0,d.useEffect)((()=>{o&&(0,n.q)({address:"dashboard/lastSyncedTime",headers:{Db:null===e||void 0===e?void 0:e.Company_id}}).then((e=>{if(e.success){var o,t;const d=null!==e&&void 0!==e&&null!==(o=e.data[0])&&void 0!==o&&o.Last_Sync_Date_Time?new Date(null===e||void 0===e||null===(t=e.data[0])||void 0===t?void 0:t.Last_Sync_Date_Time):null;s(d)}}))}),[o,null===e||void 0===e?void 0:e.Company_id]),(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("span",{className:"fa-14 px-2 py-1 bg-white rounded border",children:[" Sync: ",t?(0,a.gt)(t):"-"]})})}},21836:(e,o,t)=>{t.r(o),t.d(o,{default:()=>C});var d=t(30800),a=t(69060),n=t(39308),r=t(1908),s=t(5548),c=t(3358),l=t(43692),i=t(84436),u=t(41459),v=t(46864),h=t(43684),m=t(27664),x=t(82496);const p=(0,m.c)((0,x.jsx)("path",{d:"m10 17 5-5-5-5z"}),"ArrowRight");var j=t(57704),f=t(51560),g=t(63676);const T={Fromdate:(0,n.Q7)(),Todate:(0,n.Q7)()},C=e=>{let{loadingOn:o,loadingOff:t}=e;const m=(0,f.i6)(),C=(0,f.IT)(),S=new URLSearchParams((0,f.IT)().search),F=(0,n.gV)().user,[N,b]=(0,a.useState)([]),[w,y]=(0,a.useState)({Fromdate:T.Fromdate,Todate:T.Todate,fetchFrom:T.Fromdate,fetchTo:T.Todate,filterDialog:!1,refresh:!1});(0,a.useEffect)((()=>{o&&o(),b([]),(0,r.q)({address:"dashboard/dayBook?Fromdate=".concat(null===w||void 0===w?void 0:w.fetchFrom,"&Todate=").concat(null===w||void 0===w?void 0:w.fetchTo),headers:{Db:null===F||void 0===F?void 0:F.Company_id}}).then((e=>{e.success&&b(e.data)})).finally((()=>{t&&t()})).catch((e=>console.error(e)))}),[null===w||void 0===w?void 0:w.fetchFrom,null===w||void 0===w?void 0:w.fetchTo]),(0,a.useEffect)((()=>{const e={Fromdate:S.get("Fromdate")&&(0,n.e8)(S.get("Fromdate"))?S.get("Fromdate"):T.Fromdate,Todate:S.get("Todate")&&(0,n.e8)(S.get("Todate"))?S.get("Todate"):T.Todate};y((o=>(0,d.c)((0,d.c)({},o),{},{fetchFrom:e.Fromdate,fetchTo:e.Todate})))}),[C.search]);const D=e=>{var o,t,r,l;let{row:i,Sno:j}=e;const[f,g]=(0,a.useState)(!1);return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)("tr",{children:[(0,x.jsx)("td",{children:j}),(0,x.jsx)("td",{children:null===i||void 0===i?void 0:i.ModuleName}),(0,x.jsx)("td",{children:(null===i||void 0===i||null===(o=i.groupedData)||void 0===o?void 0:o.length)+" ( "+(null===i||void 0===i||null===(t=i.groupedData)||void 0===t?void 0:t.reduce(((e,o)=>(0,n.Q5)(e,null===o||void 0===o?void 0:o.VoucherBreakUpCount)),0))+" - Entry )"}),(0,x.jsx)("td",{children:(0,n.SA)(null===i||void 0===i||null===(r=i.groupedData)||void 0===r?void 0:r.reduce(((e,o)=>(0,n.Q5)(e,o.Amount)),0))}),(0,x.jsxs)("td",{className:"p-0 text-center vctr",children:[(0,x.jsx)(s.c,{onClick:()=>g(!f),size:"small",children:f?(0,x.jsx)(u.c,{sx:{fontSize:"inherit"}}):(0,x.jsx)(v.c,{sx:{fontSize:"inherit"}})}),(0,x.jsx)(s.c,{size:"small",onClick:()=>{var e;m(null===i||void 0===i||null===(e=i.groupedData[0])||void 0===e?void 0:e.navLink,{state:{ModuleName:i.ModuleName,Fromdate:null===w||void 0===w?void 0:w.fetchFrom,Todate:null===w||void 0===w?void 0:w.fetchTo}})},className:"ms-2",children:(0,x.jsx)(h.c,{sx:{fontSize:"inherit"}})})]})]}),f&&(null===i||void 0===i||null===(l=i.groupedData)||void 0===l?void 0:l.map(((e,o)=>(0,x.jsxs)("tr",{children:[(0,x.jsx)("td",{children:j+"."+(o+1)}),(0,x.jsx)("td",{children:null===e||void 0===e?void 0:e.Voucher_Type}),(0,x.jsx)("td",{children:null===e||void 0===e?void 0:e.VoucherBreakUpCount}),(0,x.jsx)("td",{children:(0,n.SA)(null===e||void 0===e?void 0:e.Amount)}),(0,x.jsx)("td",{className:"p-0 text-center vctr",children:(0,x.jsx)(c.c,{title:"Open "+(null===e||void 0===e?void 0:e.Voucher_Type)+" Details",children:(0,x.jsx)("button",{onClick:()=>{m(null===e||void 0===e?void 0:e.navLink,{state:(0,d.c)((0,d.c)({},e),{},{Fromdate:null===w||void 0===w?void 0:w.fetchFrom,Todate:null===w||void 0===w?void 0:w.fetchTo})})},className:"icon-btn",children:(0,x.jsx)(p,{sx:{fontSize:"inherit"}})})})})]},o))))]})};return(0,x.jsx)(x.Fragment,{children:(0,x.jsxs)(l.c,{children:[(0,x.jsxs)("div",{className:"p-2 d-flex align-items-center flex-wrap border-bottom",children:[(0,x.jsxs)("h5",{className:"m-0 flex-grow-1",children:["Day Book ",(0,x.jsx)(g.c,{})]}),(0,x.jsx)("div",{children:(0,x.jsx)("input",{type:"date",value:w.Fromdate,onChange:e=>y((0,d.c)((0,d.c)({},w),{},{Fromdate:e.target.value})),className:"cus-inpt w-auto p-1"})}),(0,x.jsx)("span",{className:"px-2",children:"To"}),(0,x.jsx)("input",{type:"date",value:w.Todate,onChange:e=>y((0,d.c)((0,d.c)({},w),{},{Todate:e.target.value})),className:"cus-inpt me-2 w-auto p-1"}),(0,x.jsx)(s.c,{onClick:()=>{(e=>{const o=new URLSearchParams(e);m("?".concat(o.toString()),{replace:!0})})({Fromdate:null===w||void 0===w?void 0:w.Fromdate,Todate:null===w||void 0===w?void 0:w.Todate}),y((0,d.c)((0,d.c)({},w),{},{filterDialog:!1}))},variant:"outlined",size:"small",children:(0,x.jsx)(j.c,{})})]}),(0,x.jsx)(i.c,{children:(0,x.jsx)("div",{className:"table-responsive",children:(0,x.jsxs)("table",{className:"table table-bordered fa-13",children:[(0,x.jsx)("thead",{children:(0,x.jsxs)("tr",{children:[(0,x.jsx)("th",{children:"Sno"}),(0,x.jsx)("th",{children:"Voucher"}),(0,x.jsx)("th",{children:"Voucher Count"}),(0,x.jsx)("th",{children:"Total Amount"}),(0,x.jsx)("th",{children:"Detilas"})]})}),(0,x.jsx)("tbody",{children:N.map(((e,o)=>(0,x.jsx)(D,{row:e,Sno:o+1},o)))})]})})})]})})}},43684:(e,o,t)=>{t.d(o,{c:()=>n});var d=t(27664),a=t(82496);const n=(0,d.c)((0,a.jsx)("path",{d:"M19 19H5V5h7V3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2v-7h-2zM14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3z"}),"OpenInNew")},57704:(e,o,t)=>{t.d(o,{c:()=>n});var d=t(27664),a=t(82496);const n=(0,d.c)((0,a.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"}),"Search")},84436:(e,o,t)=>{t.d(o,{c:()=>p});var d=t(45072),a=t(95656),n=t(69060),r=t(79736),s=t(21412),c=t(12556),l=t(49836),i=t(10099),u=t(33448);function v(e){return(0,u.cp)("MuiCardContent",e)}(0,i.c)("MuiCardContent",["root"]);var h=t(82496);const m=["className","component"],x=(0,c.cp)("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(e,o)=>o.root})((()=>({padding:16,"&:last-child":{paddingBottom:24}}))),p=n.forwardRef((function(e,o){const t=(0,l.C)({props:e,name:"MuiCardContent"}),{className:n,component:c="div"}=t,i=(0,a.c)(t,m),u=(0,d.c)({},t,{component:c}),p=(e=>{const{classes:o}=e;return(0,s.c)({root:["root"]},v,o)})(u);return(0,h.jsx)(x,(0,d.c)({as:c,className:(0,r.c)(p.root,n),ownerState:u,ref:o},i))}))},43692:(e,o,t)=>{t.d(o,{c:()=>j});var d=t(45072),a=t(95656),n=t(69060),r=t(79736),s=t(21412),c=t(12556),l=t(49836),i=t(85624),u=t(10099),v=t(33448);function h(e){return(0,v.cp)("MuiCard",e)}(0,u.c)("MuiCard",["root"]);var m=t(82496);const x=["className","raised"],p=(0,c.cp)(i.c,{name:"MuiCard",slot:"Root",overridesResolver:(e,o)=>o.root})((()=>({overflow:"hidden"}))),j=n.forwardRef((function(e,o){const t=(0,l.C)({props:e,name:"MuiCard"}),{className:n,raised:c=!1}=t,i=(0,a.c)(t,x),u=(0,d.c)({},t,{raised:c}),v=(e=>{const{classes:o}=e;return(0,s.c)({root:["root"]},h,o)})(u);return(0,m.jsx)(p,(0,d.c)({className:(0,r.c)(v.root,n),elevation:c?8:void 0,ref:o,ownerState:u},i))}))}}]);
//# sourceMappingURL=1836.c684e7c2.chunk.js.map
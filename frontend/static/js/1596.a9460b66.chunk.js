"use strict";(self.webpackChunkerp=self.webpackChunkerp||[]).push([[1596],{91596:(e,t,a)=>{a.r(t),a.d(t,{default:()=>g});var o=a(30800),d=a(69060),n=a(89e3),r=a(13724),c=a(51560),l=a(1908),s=a(39308),i=a(86e3),m=a(82496);const u={Fromdate:(0,s.Q7)(),Todate:(0,s.Q7)()},g=e=>{let{loadingOn:t,loadingOff:a,AddRights:g,EditRights:h,DeleteRights:T}=e;const[F,A]=(0,d.useState)({Fromdate:(0,s.Q7)(),Todate:(0,s.Q7)(),DebitAccount:{value:"",label:"ALL"},CreditAccount:{value:"",label:"ALL"},refresh:!1}),[v,b]=(0,d.useState)(!1),[p,f]=(0,d.useState)([]),x=(0,c.i6)(),y=(0,c.IT)(),_=y.state,S=new URLSearchParams((0,c.IT)().search);(0,d.useEffect)((()=>{const e={Fromdate:S.get("Fromdate")&&(0,s.e8)(S.get("Fromdate"))?S.get("Fromdate"):u.Fromdate,Todate:S.get("Todate")&&(0,s.e8)(S.get("Todate"))?S.get("Todate"):u.Todate};A((t=>(0,o.c)((0,o.c)({},t),{},{Fromdate:e.Fromdate,Todate:e.Todate})))}),[y.search]),(0,d.useEffect)((()=>{const e=null!==_&&void 0!==_&&_.Fromdate&&(0,s.e8)(null===_||void 0===_?void 0:_.Fromdate)?(0,s.Q7)(null===_||void 0===_?void 0:_.Fromdate):null,t=null!==_&&void 0!==_&&_.Todate&&(0,s.e8)(null===_||void 0===_?void 0:_.Todate)?(0,s.Q7)(null===_||void 0===_?void 0:_.Todate):null;e&&t&&(C({Fromdate:e,Todate:t}),A((e=>(0,o.c)((0,o.c)({},e),{},{Fromdate:(0,s.Q7)(_.Fromdate),Todate:_.Todate}))),b((e=>!e)))}),[_]),(0,d.useEffect)((()=>{const e=F.Fromdate,o=F.Todate;(0,l.q)({address:"payment/paymentMaster?Fromdate=".concat(e,"&Todate=").concat(o),loadingOff:a,loadingOn:t}).then((e=>{e.success&&f(e.data)})).catch((e=>console.error(e)))}),[v]);const C=e=>{const t=new URLSearchParams(e);x("?".concat(t.toString()),{replace:!0})},j=(0,d.useMemo)((()=>p.reduce(((e,t)=>(0,s.Q5)(e,null===t||void 0===t?void 0:t.debit_amount)),0)),[p]);return(0,m.jsx)(m.Fragment,{children:(0,m.jsx)(r.cp,{title:"Payments",headerFontSizePx:12,bodyFontSizePx:12,ButtonArea:(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(n.c,{onClick:()=>x("create"),variant:"outlined",children:"Add"}),(0,s.gH)(j)>0&&(0,m.jsxs)("h6",{className:"m-0 text-end text-muted px-3",children:["Total: ",(0,s.SA)(j)]})]}),dataArray:p,columns:[(0,r.A5)("payment_date","date","Date"),(0,r.A5)("payment_invoice_no","string","Payment ID"),(0,r.A5)("debit_amount","number","Amount"),(0,r.A5)("debit_ledger_name","string","Debit-Acc"),(0,r.A5)("credit_ledger_name","string","Credit-Acc"),(0,r.A5)("Voucher_Type","string","Voucher"),(0,r.A5)("pay_bill_type","string","Type"),{isVisible:1,ColumnHeader:"Action",isCustomCell:!0,Cell:e=>{let{row:t}=e;return(0,m.jsx)(r.Om,{buttonsData:[{name:"Edit",icon:(0,m.jsx)(i.c,{}),onclick:()=>x("create",{state:t}),disabled:!h}]})}}],EnableSerialNumber:!0})})}},86e3:(e,t,a)=>{a.d(t,{c:()=>n});var o=a(27664),d=a(82496);const n=(0,o.c)((0,d.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"}),"Edit")}}]);
//# sourceMappingURL=1596.a9460b66.chunk.js.map
"use strict";(self.webpackChunkerp=self.webpackChunkerp||[]).push([[4080],{34080:(e,c,a)=>{a.r(c),a.d(c,{default:()=>b});var s=a(30800),r=a(69060),l=a(5548),t=a(82656),n=a(26773),o=a(4488),d=a(90048),i=a(89e3),h=a(56480),u=a(42136),p=a(86e3),x=a(45180),m=a(1908),y=a(13724),j=a(82496);const v={Voucher_Type_Id:"",Voucher_Type:"",Voucher_Code:"",Branch_Id:"",Branch_Name:"",Type:""};const b=function(){const[e,c]=(0,r.useState)([]),[a,b]=(0,r.useState)(!1),[g,C]=(0,r.useState)(!1),[_,V]=(0,r.useState)(!1),[N,T]=(0,r.useState)(v),[f,B]=(0,r.useState)(!1),[I,k]=(0,r.useState)(""),[S,w]=(0,r.useState)([]),[D,E]=(0,r.useState)(""),[z,A]=(0,r.useState)(""),[O,P]=(0,r.useState)(""),q=JSON.parse(localStorage.getItem("user")),M=null===q||void 0===q?void 0:q.UserId;return(0,r.useEffect)((()=>{(0,m.q)({address:"masters/voucher"}).then((e=>{e.success&&c(e.data)})).catch((e=>console.error(e))),(0,m.q)({address:"masters/branch/dropDown"}).then((e=>{e.success&&w(e.data)})).catch((e=>console.error(e)))}),[a]),(0,j.jsxs)(r.Fragment,{children:[(0,j.jsxs)("div",{className:"card",children:[(0,j.jsxs)("div",{className:"card-header bg-white fw-bold d-flex align-items-center justify-content-between",children:["Voucher Master",(0,j.jsx)("div",{className:"text-end",children:(0,j.jsx)(u.c,{className:"rounded-5 px-3 py-1 fa-13 btn-primary shadow",onClick:()=>V(!0),children:"Create Voucher"})})]}),(0,j.jsx)(y.cp,{dataArray:e,EnableSerialNumber:!0,isExpendable:!0,maxHeightOption:!0,columns:[(0,y.A5)("Voucher_Type","string","Voucher Type"),(0,y.A5)("Type","string","Type"),(0,y.A5)("BranchName","string","Branch Name"),(0,y.A5)("Voucher_Code","string","Voucher Code"),{ColumnHeader:"Actions",isVisible:1,isCustomCell:!0,Cell:e=>{let{row:c}=e;return(0,j.jsxs)("td",{className:"fa-12",style:{minWidth:"80px"},children:[(0,j.jsx)(l.c,{onClick:()=>(e=>{B(!0),T({Voucher_Type_Id:e.Vocher_Type_Id,Voucher_Type:e.Voucher_Type,Branch_Id:e.Branch_Id,Voucher_Code:e.Voucher_Code,Type:e.Type}),E(e.Branch_Id)})(c),size:"small",children:(0,j.jsx)(p.c,{className:"fa-in"})}),(0,j.jsx)(l.c,{onClick:()=>{C(!0),T({Voucher_Type_Id:c.Vocher_Type_Id})},size:"small",color:"error",children:(0,j.jsx)(x.c,{className:"fa-in "})})]})}}]})]}),(0,j.jsxs)(t.c,{open:_,onClose:()=>V(!1),"aria-labelledby":"create-dialog-title","aria-describedby":"create-dialog-description",children:[(0,j.jsx)(n.c,{id:"create-dialog-title",children:"Voucher Creation"}),(0,j.jsx)(o.c,{children:(0,j.jsxs)("div",{children:[(0,j.jsxs)("div",{className:"p-2",children:[(0,j.jsx)("label",{children:"Voucher Name"}),(0,j.jsx)("input",{type:"text",onChange:e=>k(e.target.value),placeholder:"",value:I,className:"cus-inpt"})]}),(0,j.jsxs)("div",{className:"p-2",children:[(0,j.jsx)("label",{children:"Branch"}),(0,j.jsxs)("select",{value:D,onChange:e=>E(e.target.value),className:"cus-inpt",children:[(0,j.jsx)("option",{value:"",children:"Select Branch"}),S.map((e=>(0,j.jsx)("option",{value:e.BranchId,children:e.BranchName},e.BranchId)))]})]}),(0,j.jsxs)("div",{className:"p-2",children:[(0,j.jsx)("label",{children:"Voucher Code"}),(0,j.jsx)("input",{type:"text",onChange:e=>P(e.target.value),placeholder:"",value:O,className:"cus-inpt"})]}),(0,j.jsxs)("div",{className:"p-2",children:[(0,j.jsx)("label",{children:"Type"}),(0,j.jsx)("input",{type:"text",onChange:e=>A(e.target.value),placeholder:"",value:z,className:"cus-inpt"})]})]})}),(0,j.jsxs)(d.c,{children:[(0,j.jsx)(i.c,{onClick:()=>V(!1),children:"Cancel"}),(0,j.jsx)(i.c,{onClick:()=>{D&&I&&z&&O?(0,m.q)({address:"masters/voucher",method:"POST",bodyData:{Voucher_Type:I,Branch_Id:Number(D),Type:z,Voucher_Code:O,Created_By:M}}).then((e=>{e.success?(V(!1),b(!a),h.m4.success(e.message),k(""),E(""),A(""),P("")):h.m4.error(e.message)})).catch((e=>console.error(e))):h.m4.error("Please fill all fields")},color:"success",children:"CREATE"})]})]}),(0,j.jsxs)(t.c,{open:f,onClose:()=>B(!1),"aria-labelledby":"create-dialog-title","aria-describedby":"create-dialog-description",children:[(0,j.jsx)(n.c,{id:"create-dialog-title",children:"Edit Voucher"}),(0,j.jsxs)(o.c,{children:[(0,j.jsxs)("div",{className:"p-2",children:[(0,j.jsx)("label",{children:"Voucher Type"}),(0,j.jsx)("input",{type:"text",onChange:e=>T((0,s.c)((0,s.c)({},N),{},{Voucher_Type:e.target.value})),placeholder:N.Voucher_Type,value:N.Voucher_Type,className:"cus-inpt"})]}),(0,j.jsxs)("div",{className:"p-2",children:[(0,j.jsx)("label",{children:"Branch"}),(0,j.jsxs)("select",{value:D,onChange:e=>{E(e.target.value),T((0,s.c)((0,s.c)({},N),{},{Branch_Id:e.target.value}))},className:"cus-inpt",children:[(0,j.jsx)("option",{value:"",children:"Select Branch"}),S.map((e=>(0,j.jsx)("option",{value:e.BranchId,children:e.BranchName},e.BranchId)))]})]}),(0,j.jsxs)("div",{className:"p-2",children:[(0,j.jsx)("label",{children:"Voucher Code"}),(0,j.jsx)("input",{type:"text",onChange:e=>T((0,s.c)((0,s.c)({},N),{},{Voucher_Code:e.target.value})),placeholder:N.Voucher_Code,value:N.Voucher_Code,className:"cus-inpt"})]}),(0,j.jsxs)("div",{className:"p-2",children:[(0,j.jsx)("label",{children:"Type"}),(0,j.jsx)("input",{type:"text",onChange:e=>T((0,s.c)((0,s.c)({},N),{},{Type:e.target.value})),placeholder:N.Type,value:N.Type,className:"cus-inpt"})]})]}),(0,j.jsxs)(d.c,{children:[(0,j.jsx)(i.c,{onClick:()=>B(!1),children:"Cancel"}),(0,j.jsx)(i.c,{onClick:()=>{(0,m.q)({address:"masters/voucher",method:"PUT",bodyData:{Vocher_Type_Id:N.Voucher_Type_Id,Voucher_Type:N.Voucher_Type,Branch_Id:N.Branch_Id,Voucher_Code:N.Voucher_Code,Type:N.Type,Alter_By:M}}).then((e=>{e.success?(h.m4.success(e.message),b(!a),B(!1)):h.m4.error(e.message)})).catch((e=>console.error(e)))},color:"success",children:"Update"})]})]}),(0,j.jsxs)(t.c,{open:g,onClose:()=>C(!1),"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[(0,j.jsx)(n.c,{id:"alert-dialog-title",children:"Confirmation"}),(0,j.jsx)(o.c,{children:(0,j.jsx)("b",{children:"Do you want to delete the Voucher?"})}),(0,j.jsxs)(d.c,{children:[(0,j.jsx)(i.c,{onClick:()=>C(!1),children:"Cancel"}),(0,j.jsx)(i.c,{onClick:()=>{(0,m.q)({address:"masters/voucher",method:"DELETE",bodyData:{Vocher_Type_Id:N.Voucher_Type_Id}}).then((e=>{e.success?(b(!a),C(!1),h.m4.success("Voucher Type deleted successfully!")):h.m4.error("Failed to delete voucher: "+e.message)})).catch((e=>{console.error(e),h.m4.error("Error deleting voucher")}))},autoFocus:!0,color:"error",children:"Delete"})]})]})]})}},45180:(e,c,a)=>{a.d(c,{c:()=>l});var s=a(27664),r=a(82496);const l=(0,s.c)((0,r.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"}),"Delete")},86e3:(e,c,a)=>{a.d(c,{c:()=>l});var s=a(27664),r=a(82496);const l=(0,s.c)((0,r.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"}),"Edit")},16344:(e,c,a)=>{a.d(c,{cV:()=>t,cp:()=>o});var s=a(69060),r=a(82496);const l=["as","disabled"];function t(e){let{tagName:c,disabled:a,href:s,target:r,rel:l,role:t,onClick:n,tabIndex:o=0,type:d}=e;c||(c=null!=s||null!=r||null!=l?"a":"button");const i={tagName:c};if("button"===c)return[{type:d||"button",disabled:a},i];const h=e=>{(a||"a"===c&&function(e){return!e||"#"===e.trim()}(s))&&e.preventDefault(),a?e.stopPropagation():null==n||n(e)};return"a"===c&&(s||(s="#"),a&&(s=void 0)),[{role:null!=t?t:"button",disabled:void 0,tabIndex:a?void 0:o,href:s,target:"a"===c?r:void 0,"aria-disabled":a||void 0,rel:"a"===c?l:void 0,onClick:h,onKeyDown:e=>{" "===e.key&&(e.preventDefault(),h(e))}},i]}const n=s.forwardRef(((e,c)=>{let{as:a,disabled:s}=e,n=function(e,c){if(null==e)return{};var a,s,r={},l=Object.keys(e);for(s=0;s<l.length;s++)a=l[s],c.indexOf(a)>=0||(r[a]=e[a]);return r}(e,l);const[o,{tagName:d}]=t(Object.assign({tagName:a,disabled:s},n));return(0,r.jsx)(d,Object.assign({},n,o,{ref:c}))}));n.displayName="Button";const o=n},42136:(e,c,a)=>{a.d(c,{c:()=>p});var s=a(30800),r=a(31024),l=a(264),t=a.n(l),n=a(69060),o=a(16344),d=a(83576),i=a(82496);const h=["as","bsPrefix","variant","size","active","disabled","className"],u=n.forwardRef(((e,c)=>{let{as:a,bsPrefix:l,variant:n="primary",size:u,active:p=!1,disabled:x=!1,className:m}=e,y=(0,r.c)(e,h);const j=(0,d.Ky)(l,"btn"),[v,{tagName:b}]=(0,o.cV)((0,s.c)({tagName:a,disabled:x},y)),g=b;return(0,i.jsx)(g,(0,s.c)((0,s.c)((0,s.c)({},v),y),{},{ref:c,disabled:x,className:t()(m,j,p&&"active",n&&"".concat(j,"-").concat(n),u&&"".concat(j,"-").concat(u),y.href&&x&&"disabled")}))}));u.displayName="Button";const p=u}}]);
//# sourceMappingURL=4080.c11389df.chunk.js.map
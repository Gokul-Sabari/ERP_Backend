"use strict";(self.webpackChunkerp=self.webpackChunkerp||[]).push([[156],{13724:(e,l,n)=>{n.d(l,{A5:()=>O,Om:()=>H,cp:()=>$,oN:()=>B});var t=n(69060),i=n(3358),a=n(5548),o=n(66931),r=n(89500),s=n(93996),d=n(14696),c=n(13224),u=n(27454),m=n(96464),x=n(43692),v=n(85624),p=n(99904),h=n(33856),g=n(58612),b=n(53248),j=n(29504),f=n(5930),F=n(39308),C=n(4284),y=n(41459),N=n(46864),_=n(76491),w=n(10728),S=n(49608),D=n(28064),P=(n(37692),n(35832)),k=n(82496);const z=(e,l)=>e.map((e=>{const n={};return l.forEach(((l,t)=>{if(l.isVisible||l.Defult_Display)if(l.isCustomCell&&l.Cell){const i=l.Cell({row:e}),a=l.ColumnHeader?String(l.ColumnHeader).replace(/\s+/g,"_").toLowerCase():`field_${t+1}`;"string"!==typeof i&&"number"!==typeof i&&"bigint"!==typeof i||(n[a]=i)}else{let t=l.Field_Name;n[t]=e[t]||""}})),n})),O=function(){let e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return{isVisible:arguments.length>5&&void 0!==arguments[5]?arguments[5]:1,Field_Name:arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",Fied_Data:arguments.length>1&&void 0!==arguments[1]?arguments[1]:"string",align:arguments.length>3&&void 0!==arguments[3]?arguments[3]:"left",verticalAlign:arguments.length>4&&void 0!==arguments[4]?arguments[4]:"center",...e&&{ColumnHeader:e}}},H=e=>{let{buttonsData:l=[],ToolTipText:n="Options"}=e;const[u,m]=(0,t.useState)(null),x=Boolean(u);return(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(i.c,{title:n,children:(0,k.jsx)(a.c,{"aria-describedby":x,onClick:e=>{m(e.currentTarget)},className:"ms-2",size:"small",children:(0,k.jsx)(C.c,{})})}),(0,k.jsx)(o.cp,{open:x,anchorEl:u,onClose:()=>{m(null)},anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},children:(0,k.jsx)(r.c,{children:l.map(((e,l)=>(0,k.jsxs)(s.c,{onClick:()=>(null===e||void 0===e?void 0:e.onclick)&&(null===e||void 0===e?void 0:e.onclick()),disabled:null===e||void 0===e?void 0:e.disabled,children:[(0,k.jsx)(d.c,{children:null===e||void 0===e?void 0:e.icon}),(0,k.jsx)(c.c,{children:null===e||void 0===e?void 0:e.name})]},l)))})})]})},B=(e,l)=>{switch(l){case"number":return e?(0,F.SA)(e):e;case"date":return e?(0,F.uy)(e):e;case"time":return e?(0,F.AX)(e):e;case"string":return e;default:return""}},E=e=>{let{dataArray:l=[],columns:n=[],onClickFun:i=null,isExpendable:o=!1,expandableComp:r=null,tableMaxHeight:s=550,initialPageCount:d=20,EnableSerialNumber:c=!1,CellSize:C="small",disablePagination:O=!1,title:E="",PDFPrintOption:$=!1,ExcelPrintOption:A=!1,maxHeightOption:Q=!1,ButtonArea:M=null,MenuButtons:T=[],bodyFontSizePx:I=13,headerFontSizePx:L=13}=e;const[V,R]=(0,t.useState)(0),[W,q]=(0,t.useState)(d),[U,G]=(0,t.useState)([]),[X,J]=(0,t.useState)(!0),K=X&&Q?" max-content ":s,Y=[{type:"left",class:"text-start"},{type:"right",class:"text-end"},{type:"center",class:"text-center"}],Z=[{type:"top",class:" vtop "},{type:"bottom",class:" vbottom "},{type:"center",class:" vctr "}],ee=(e=>{if(!U.length)return e;return[...e].sort(((e,l)=>{for(const n of U){const{columnId:t,direction:i}=n,a=e[t],o=l[t];if(a!==o)return"asc"===i?a>o?1:-1:a<o?1:-1}return 0}))})(l),le=V*W,ne=le+W,te=ee.slice(le,ne),ie=e=>{let{row:l,index:s}=e;const[d,x]=(0,t.useState)(!1),v="20px";return(0,k.jsxs)(t.Fragment,{children:[(0,k.jsxs)(u.c,{children:[!0===o&&r&&(0,k.jsx)(m.c,{className:"border-end text-center vtop",sx:{fontSize:`${I}px`},children:(0,k.jsx)(a.c,{size:"small",onClick:()=>x((e=>!e)),children:d?(0,k.jsx)(y.c,{sx:{fontSize:v}}):(0,k.jsx)(N.c,{sx:{fontSize:v}})})}),!0===c&&(0,k.jsx)(m.c,{className:"border-end text-center vtop",sx:{fontSize:`${I}px`},children:W*V+s+1}),null===n||void 0===n?void 0:n.map(((e,n)=>{var t,a;const o=(0,F.Qr)(null===e||void 0===e?void 0:e.Defult_Display,1)||(0,F.Qr)(null===e||void 0===e?void 0:e.isVisible,1),r=Boolean(null===e||void 0===e?void 0:e.isCustomCell)&&e.Cell,d=!r,c=(l,n,t)=>null!==e&&void 0!==e&&e.tdClass?` ${null===e||void 0===e?void 0:e.tdClass({row:l,Field_Name:n,index:t})} `:"",u=e.align?null===(t=Y.find((l=>l.type===String(e.align).toLowerCase())))||void 0===t?void 0:t.class:"",x=e.verticalAlign?null===(a=Z.find((l=>l.type===String(e.verticalAlign).toLowerCase())))||void 0===a?void 0:a.class:" vctr ";if(o&&d){const t=Object.entries(l).find((l=>{let[n]=l;return n===e.Field_Name}));return(0,k.jsx)(m.c,{className:`border-end ${u} ${x} ${c(l,e.Field_Name,s)}`,sx:{fontSize:`${I}px`},onClick:()=>i?i(l):console.log("Function not supplied"),children:t?B(t[1],null===e||void 0===e?void 0:e.Fied_Data):"-"},n)}return o&&r?(0,k.jsx)(m.c,{className:`border-end ${u} ${x} ${c(l,e.Field_Name,s)}`,sx:{fontSize:`${I}px`},children:e.Cell({row:l,Field_Name:e.Field_Name,index:s})},n):(0,k.jsx)(m.c,{sx:{fontSize:`${I}px`},className:`border-end ${u} ${x}`,children:"-"},n)}))]}),!0===o&&r&&d&&(0,k.jsx)(u.c,{children:(0,k.jsx)(m.c,{colSpan:Number(null===n||void 0===n?void 0:n.length)+(!0===c?2:1),children:r({row:l,index:s})})})]})};return(0,k.jsxs)(x.c,{className:"rounded-3 bg-white overflow-hidden",component:v.c,children:[(0,k.jsxs)("div",{className:"d-flex align-items-center flex-wrap px-3 py-2 flex-row-reverse ",children:[($||A||T.length>0||Q)&&(0,k.jsx)(H,{ToolTipText:"Table Options",buttonsData:[...Q?[{name:"Max Height",icon:X?(0,k.jsx)(_.c,{fontSize:"small",color:"primary"}):(0,k.jsx)(w.c,{fontSize:"small"}),onclick:()=>J((e=>!e)),disabled:(0,F.Qr)(null===l||void 0===l?void 0:l.length,0)}]:[],...$?[{name:"PDF Print",icon:(0,k.jsx)(S.c,{fontSize:"small",color:"primary"}),onclick:()=>((e,l)=>{try{const n=new D.default,t=z(e,l),i=l.filter((e=>e.isVisible||e.Defult_Display)).map((e=>e.Field_Name||String(e.ColumnHeader).replace(/\s+/g,"_").toLowerCase())),a=t.map((e=>i.map((l=>e[l])))).map(((e,l)=>({...e,Sno:l+1})));n.autoTable({head:[i],body:a}),n.save("table.pdf")}catch(n){console.error(n)}})(l,n),disabled:(0,F.Qr)(null===l||void 0===l?void 0:l.length,0)}]:[],...A?[{name:"Excel Print",icon:(0,k.jsx)(S.c,{fontSize:"small",color:"primary"}),onclick:()=>((e,l)=>{try{const n=z(e,l),t=P.c$.json_to_sheet(n),i=P.c$.book_new();P.c$.book_append_sheet(i,t,"Data"),P.a8(i,"table.xlsx")}catch(n){console.error(n)}})(l,n),disabled:(0,F.Qr)(null===l||void 0===l?void 0:l.length,0)}]:[],...T]}),M&&M,E&&(0,k.jsx)("h6",{className:"fw-bold text-muted flex-grow-1 m-0",children:E})]}),(0,k.jsx)(p.c,{sx:{maxHeight:K},children:(0,k.jsxs)(h.c,{stickyHeader:!0,size:C,children:[(0,k.jsx)(g.c,{children:(0,k.jsxs)(u.c,{children:[o&&r&&(0,k.jsx)(m.c,{className:"fw-bold border-end border-top text-center",sx:{fontSize:`${L}px`,backgroundColor:"#EDF0F7"},children:"#"}),c&&(0,k.jsx)(m.c,{className:"fw-bold border-end border-top text-center",sx:{fontSize:`${L}px`,backgroundColor:"#EDF0F7"},children:"SNo"}),n.map(((e,l)=>{const n=(0,F.Qr)(null===e||void 0===e?void 0:e.Defult_Display,1)||(0,F.Qr)(null===e||void 0===e?void 0:e.isVisible,1),t=!1===Boolean(null===e||void 0===e?void 0:e.isCustomCell)||!e.Cell,i=U.find((l=>l.columnId===e.Field_Name)),a=i?i.direction:"asc";var o,r,s,d;return n?t?(0,k.jsx)(m.c,{className:"fw-bold border-end border-top "+(e.align?null===(o=Y.find((l=>l.type===String(e.align).toLowerCase())))||void 0===o?void 0:o.class:""),sx:{fontSize:`${L}px`,backgroundColor:"#EDF0F7"},sortDirection:!!i&&a,children:(0,k.jsx)(b.c,{active:!!i,direction:a,onClick:()=>(e=>{const l=U.find((l=>l.columnId===e));if(l){const n="asc"===l.direction;G(U.map((l=>l.columnId===e?{...l,direction:n?"desc":"asc"}:l)))}else G([...U,{columnId:e,direction:"asc"}])})(e.Field_Name),children:e.ColumnHeader||(null===e||void 0===e||null===(r=e.Field_Name)||void 0===r?void 0:r.replace(/_/g," "))})},l):(0,k.jsx)(m.c,{className:(e.ColumnHeader||null!==e&&void 0!==e&&e.Field_Name?" fw-bold border-end border-top p-2 appFont ":" p-0 ")+" "+(e.align?null===(s=Y.find((l=>l.type===String(e.align).toLowerCase())))||void 0===s?void 0:s.class:""),sx:{fontSize:`${L}px`,backgroundColor:"#EDF0F7"},children:e.ColumnHeader||(null===e||void 0===e||null===(d=e.Field_Name)||void 0===d?void 0:d.replace(/_/g," "))},l):null}))]})}),(0,k.jsxs)(j.c,{children:[(O?ee:te).map(((e,l)=>(0,k.jsx)(ie,{row:e,index:l},l))),0===l.length&&(0,k.jsx)(u.c,{children:(0,k.jsx)(m.c,{colSpan:n.length+(!0===o&&r?1:0)+(!0===c?1:0),sx:{textAlign:"center"},children:"No Data"})})]})]})}),!O&&0!==te.length&&(0,k.jsx)("div",{className:"p-2 pb-0",children:(0,k.jsx)(f.c,{component:"div",count:l.length,page:V,onPageChange:(e,l)=>{R(l)},rowsPerPage:W,onRowsPerPageChange:e=>{q(parseInt(e.target.value,10)),R(0)},rowsPerPageOptions:Array.from(new Set([d,5,20,50,100,200,500])).sort(((e,l)=>e-l)),labelRowsPerPage:"Rows per page",showFirstButton:!0,showLastButton:!0})})]})};E.defaultProps={dataArray:[],columns:[],onClickFun:null,isExpendable:!1,expandableComp:null,tableMaxHeight:550,initialPageCount:20,EnableSerialNumber:!1,CellSize:"small",disablePagination:!1,title:void 0,PDFPrintOption:!1,ExcelPrintOption:!1,maxHeightOption:!1,ButtonArea:null,MenuButtons:[],headerFontSizePx:13,bodyFontSizePx:13};const $=E},70156:(e,l,n)=>{n.r(l),n.d(l,{default:()=>re});var t=n(69060),i=n(1908),a=n(39308),o=n(13724),r=n(71448),s=n(52924),d=n(44380),c=n(3358),u=n(5548),m=n(82656),x=n(4488),v=n(89e3),p=n(90048),h=n(68424),g=n(39504),b=n(74912),j=n(61988),f=n(57704),F=n(27454),C=n(96464),y=n(43692),N=n(85624),_=n(99904),w=n(33856),S=n(58612),D=n(53248),P=n(29504),k=n(5930),z=n(41459),O=n(46864),H=n(12120),B=n(82496);const E=e=>{let{open:l,onClose:n,columns:t,filters:i,setFilters:a,dataArray:o,setColumnDialog:h}=e;const g=(e,l)=>{a((n=>({...n,[e]:l})))},j=e=>{const{Field_Name:l,Fied_Data:n}=e;var t,a,c,u,m,x,v,p,h,b;if("number"===n)return(0,B.jsxs)("div",{className:"d-flex justify-content-between px-2",children:[(0,B.jsx)("input",{placeholder:"Min",type:"number",className:"bg-light border-0 m-1 p-1 w-50",value:null!==(t=null===(a=i[l])||void 0===a?void 0:a.min)&&void 0!==t?t:"",onChange:e=>g(l,{type:"range",...i[l],min:e.target.value?parseFloat(e.target.value):void 0})}),(0,B.jsx)("input",{placeholder:"Max",type:"number",className:"bg-light border-0 m-1 p-1 w-50",value:null!==(c=null===(u=i[l])||void 0===u?void 0:u.max)&&void 0!==c?c:"",onChange:e=>g(l,{type:"range",...i[l],max:e.target.value?parseFloat(e.target.value):void 0})})]});if("date"===n)return(0,B.jsxs)("div",{className:"d-flex justify-content-between px-2",children:[(0,B.jsx)("input",{type:"date",className:"bg-light border-0 m-1 p-1 w-50",value:null!==(m=null===(x=i[l])||void 0===x||null===(v=x.value)||void 0===v?void 0:v.start)&&void 0!==m?m:"",onChange:e=>{var n;return g(l,{type:"date",value:{...null===(n=i[l])||void 0===n?void 0:n.value,start:e.target.value||void 0}})}}),(0,B.jsx)("input",{type:"date",className:"bg-light border-0 m-1 p-1 w-50",value:null!==(p=null===(h=i[l])||void 0===h||null===(b=h.value)||void 0===b?void 0:b.end)&&void 0!==p?p:"",onChange:e=>{var n;return g(l,{type:"date",value:{...null===(n=i[l])||void 0===n?void 0:n.value,end:e.target.value||void 0}})}})]});if("string"===n){const e=[...new Set(o.map((e=>{var n,t;return null===(n=e[l])||void 0===n||null===(t=n.toLowerCase())||void 0===t?void 0:t.trim()})))];return(0,B.jsx)(r.c,{multiple:!0,options:e,disableCloseOnSelect:!0,value:i[l]||[],onChange:(e,n)=>g(l,n),renderOption:(e,l,n)=>{let{selected:t}=n;return(0,B.jsxs)("li",{...e,children:[(0,B.jsx)(s.c,{checked:t,style:{marginRight:8}}),l]})},isOptionEqualToValue:(e,l)=>e===l,renderInput:e=>(0,B.jsx)(d.c,{...e,label:l,placeholder:`Select ${null===l||void 0===l?void 0:l.replace(/_/g," ")}`})})}return null};return(0,B.jsxs)(m.c,{open:l,onClose:n,maxWidth:"sm",fullWidth:!0,children:[(0,B.jsxs)(x.c,{children:[(0,B.jsxs)("h5",{className:"d-flex justify-content-between px-2",children:[(0,B.jsx)("span",{children:"Filters"}),(0,B.jsxs)("span",{children:[(0,B.jsx)(c.c,{title:"Column Visibility",children:(0,B.jsx)(u.c,{size:"small",onClick:()=>h(!0),children:(0,B.jsx)(H.c,{})})}),(0,B.jsx)(c.c,{title:"Clear Filters",children:(0,B.jsx)(u.c,{size:"small",onClick:()=>a({}),children:(0,B.jsx)(b.c,{})})})]})]}),(0,B.jsx)("div",{className:"border rounded-3",children:t.map(((e,l)=>{var n;return(0,B.jsxs)("div",{className:"py-3 px-3 hov-bg border-bottom",children:[(0,B.jsx)("label",{className:"mt-2 mb-1",children:null===(n=e.Field_Name)||void 0===n?void 0:n.replace(/_/g," ")}),j(e)]},l)}))})]}),(0,B.jsx)(p.c,{children:(0,B.jsx)(v.c,{onClick:n,color:"error",children:"Close"})})]})};var $=n(26773),A=n(78092);const Q=e=>{let{open:l,onClose:n,columns:t,setColumns:i,originalColumns:a=[]}=e;return(0,B.jsxs)(m.c,{open:l,onClose:n,maxWidth:"lg",fullWidth:!0,children:[(0,B.jsx)($.c,{children:"Column Settings"}),(0,B.jsx)(x.c,{children:(0,B.jsx)("div",{className:"row",children:t.map(((e,l)=>{return(0,B.jsx)("div",{className:"col-lg-4 col-md-6 p-2",children:(0,B.jsxs)(y.c,{component:N.c,className:"p-2 d-flex justify-content-between align-items-center flex-wrap "+(l%2!==0?"bg-light":""),children:[(0,B.jsxs)("div",{className:"d-flex justify-content-between align-items-center flex-wrap",children:[(0,B.jsx)(A.c,{checked:Boolean(null===e||void 0===e?void 0:e.isDefault)||Boolean(null===e||void 0===e?void 0:e.isVisible),disabled:Boolean(null===e||void 0===e?void 0:e.isDefault),onChange:l=>{return n=null===e||void 0===e?void 0:e.Field_Name,t=l.target.checked,void i((e=>e.map((e=>e.Field_Name===n?{...e,isVisible:t?1:0}:e))));var n,t}}),(0,B.jsx)("h6",{className:"fa-13 mb-0 fw-bold",children:null===e||void 0===e?void 0:e.Field_Name})]}),(0,B.jsx)("input",{type:"number",value:(n=null===e||void 0===e?void 0:e.OrderBy,isNaN(n)||null===n||""===n?"":null===e||void 0===e?void 0:e.OrderBy),onChange:l=>{return n=null===e||void 0===e?void 0:e.Field_Name,t=l.target.value,void i((e=>e.map((e=>e.Field_Name===n?{...e,OrderBy:t}:e))));var n,t},className:"mt-2 p-1 border-0 cus-inpt",style:{width:"80px"},placeholder:"Order"})]})},l);var n}))})}),(0,B.jsxs)(p.c,{children:[(0,B.jsx)(v.c,{onClick:()=>{i(a)},variant:"outlined",children:"Reset"}),(0,B.jsx)(v.c,{onClick:n,color:"error",children:"Close"})]})]})};var M=n(66931),T=n(89500),I=n(93996),L=n(14696),V=n(13224),R=n(76491),W=n(10728),q=n(49608),U=n(4284),G=n(37956),X=n(28064),J=(n(37692),n(35832));const K=(e,l)=>Number(e)===Number(l),Y=(e,l)=>{switch(l){case"number":return e?(new Intl.NumberFormat).format(e):e;case"date":return e?new Date(e).toLocaleDateString():e;case"time":return e?new Date(e).toLocaleTimeString():e;case"string":return e;default:return""}},Z=(e,l)=>e.map((e=>{const n={};return l.forEach(((l,t)=>{if(l.isVisible||l.Defult_Display){const i=l.ColumnHeader?String(l.ColumnHeader).replace(/\s+/g,"_").toLowerCase():`field_${t+1}`;if(l.isCustomCell&&l.Cell){const t=l.Cell({row:e});"string"!==typeof t&&"number"!==typeof t||(n[i]=t)}else n[i]=e[l.Field_Name]||""}})),n})),ee=e=>{let{dataArray:l=[],columns:n=[],PDFPrintOption:i=!1,ExcelPrintOption:a=!1,MenuButtons:o=[],maxHeightOption:r=!1,showFullHeight:s=!0,setShowFullHeight:d=(()=>{}),enableFilters:m=!1,setFilterDialog:x=(()=>{})}=e;const[v,p]=t.useState(null),h=Boolean(v),g=()=>p(null),b=[...r?[{name:"Max Height",icon:s?(0,B.jsx)(R.c,{fontSize:"small",color:"primary"}):(0,B.jsx)(W.c,{fontSize:"small"}),onclick:()=>d((e=>!e)),disabled:K(null===l||void 0===l?void 0:l.length,0)}]:[],...i?[{name:"PDF Print",icon:(0,B.jsx)(q.c,{fontSize:"small",color:"primary"}),onclick:()=>((e,l)=>{try{const n=new X.default,t=Z(e,l),i=l.filter((e=>e.isVisible||e.Defult_Display)).map((e=>e.Field_Name||e.ColumnHeader||"")),a=t.map((e=>i.map((l=>e[l]))));n.autoTable({head:[i],body:a}),n.save("table.pdf")}catch(n){console.error("PDF Export Error:",n)}})(l,n),disabled:K(null===l||void 0===l?void 0:l.length,0)}]:[],...a?[{name:"Excel Print",icon:(0,B.jsx)(q.c,{fontSize:"small",color:"primary"}),onclick:()=>((e,l)=>{try{const n=Z(e,l),t=J.c$.json_to_sheet(n),i=J.c$.book_new();J.c$.book_append_sheet(i,t,"Data"),J.a8(i,"table.xlsx")}catch(n){console.error("Excel Export Error:",n)}})(l,n),disabled:K(null===l||void 0===l?void 0:l.length,0)}]:[],...o];return(0,B.jsxs)(B.Fragment,{children:[(0,B.jsx)(c.c,{title:"Table Options",children:(0,B.jsx)(u.c,{onClick:e=>p(e.currentTarget),size:"small",children:(0,B.jsx)(U.c,{})})}),m&&(0,B.jsx)(c.c,{title:"Open Filters",children:(0,B.jsx)(u.c,{onClick:()=>x(!0),size:"small",children:(0,B.jsx)(G.c,{})})}),(0,B.jsx)(M.cp,{open:h,anchorEl:v,onClose:g,anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},children:(0,B.jsx)(T.c,{children:b.map(((e,l)=>(0,B.jsxs)(I.c,{onClick:()=>{(null===e||void 0===e?void 0:e.onclick)&&e.onclick(),g()},disabled:null===e||void 0===e?void 0:e.disabled,children:[(0,B.jsx)(L.c,{children:null===e||void 0===e?void 0:e.icon}),(0,B.jsx)(V.c,{children:null===e||void 0===e?void 0:e.name})]},l)))})})]})},le=(e,l)=>{const[n,i]=(0,t.useState)({}),[a,o]=(0,t.useState)(e||[]);(0,t.useEffect)((()=>{r()}),[n,e,l]);const r=()=>{let t=[...e];for(const e of l){const l=e.Field_Name,i=n[l];if(i)if("range"===i.type){const{min:e,max:n}=i;t=t.filter((t=>{const i=Number(t[l]);return(void 0===e||i>=e)&&(void 0===n||i<=n)}))}else if("date"===i.type){const{start:e,end:n}=i.value||{};t=t.filter((t=>{const i=new Date(t[l]);return(!e||i>=new Date(e))&&(!n||i<=new Date(n))}))}else Array.isArray(i)&&(t=i.length?t.filter((e=>{var n,t;return i.includes(null===(n=e[l])||void 0===n||null===(t=n.toLowerCase())||void 0===t?void 0:t.trim())})):t)}o(t)};return{filters:n,setFilters:i,filteredData:a}},ne=e=>{let{dataArray:l=[],columns:n=[],onClickFun:i=null,isExpendable:a=!1,expandableComp:o=null,tableMaxHeight:r=550,initialPageCount:s=20,EnableSerialNumber:d=!1,CellSize:c="small",disablePagination:m=!1,title:x="",PDFPrintOption:v=!1,ExcelPrintOption:p=!1,maxHeightOption:h=!1,ButtonArea:g=null,MenuButtons:b=[],headerFontSizePx:j=13,bodyFontSizePx:f=13,enableFilters:H=!1}=e;const[$,A]=(0,t.useState)(n),[M,T]=(0,t.useState)(!1),[I,L]=(0,t.useState)(!1),[V,R]=(0,t.useState)(0),[W,q]=(0,t.useState)(s),[U,G]=(0,t.useState)([]),[X,J]=(0,t.useState)(!0),Z=(0,t.useMemo)((()=>[...$].sort(((e,l)=>null!==e&&void 0!==e&&e.OrderBy&&null!==l&&void 0!==l&&l.OrderBy?e.OrderBy-l.OrderBy:0))),[$]),ne=(0,t.useMemo)((()=>Z.filter((e=>K(null===e||void 0===e?void 0:e.Defult_Display,1)||K(null===e||void 0===e?void 0:e.isVisible,1)))),[Z]),{filters:te,setFilters:ie,filteredData:ae}=le(l,Z),oe=(0,t.useMemo)((()=>{const e=Array.isArray(ae)?ae:[];return U.length?[...e].sort(((e,l)=>{for(const{columnId:n,direction:t}of U){const i=e[n],a=l[n];if(i!==a)return"asc"===t?i>a?1:-1:i<a?1:-1}return 0})):e}),[ae,U]),re=(0,t.useMemo)((()=>{const e=V*W;return Array.isArray(oe)?oe.slice(e,e+W):[]}),[oe,V,W]),se=e=>{let{row:l,index:n}=e;const[r,s]=(0,t.useState)(!1);return(0,B.jsxs)(t.Fragment,{children:[(0,B.jsxs)(F.c,{children:[a&&o&&(0,B.jsx)(C.c,{sx:{fontSize:`${f}px`},children:(0,B.jsx)(u.c,{size:"small",onClick:()=>s(!r),children:r?(0,B.jsx)(z.c,{}):(0,B.jsx)(O.c,{})})}),d&&(0,B.jsx)(C.c,{sx:{fontSize:`${f}px`},children:W*V+n+1}),ne.map(((e,t)=>(0,B.jsx)(C.c,{sx:{fontSize:`${f}px`},onClick:()=>null===i||void 0===i?void 0:i(l),children:null!==e&&void 0!==e&&e.isCustomCell&&null!==e&&void 0!==e&&e.Cell?e.Cell({row:l,Field_Name:e.Field_Name,index:n}):Y(l[e.Field_Name],null===e||void 0===e?void 0:e.Fied_Data)},t)))]}),r&&o&&(0,B.jsx)(F.c,{children:(0,B.jsx)(C.c,{colSpan:ne.length+(d?1:0)+(a?1:0),children:o({row:l,index:n})})})]})};return(0,B.jsxs)(y.c,{className:"rounded-3 bg-white overflow-hidden",component:N.c,children:[(0,B.jsxs)("div",{className:"d-flex align-items-center justify-content-between px-3 py-2",children:[(0,B.jsx)(ee,{dataArray:ae,columns:ne,PDFPrintOption:v,ExcelPrintOption:p,MenuButtons:b,setShowFullHeight:J,showFullHeight:X,maxHeightOption:h,enableFilters:H,setFilterDialog:T}),g&&g,x&&(0,B.jsx)("h6",{className:"fw-bold text-muted m-0",children:x})]}),(0,B.jsx)(_.c,{sx:{maxHeight:X&&h?"max-content":r},children:(0,B.jsxs)(w.c,{stickyHeader:!0,size:c,children:[(0,B.jsx)(S.c,{children:(0,B.jsxs)(F.c,{children:[a&&o&&(0,B.jsx)(C.c,{sx:{fontSize:`${j}px`},children:"#"}),d&&(0,B.jsx)(C.c,{sx:{fontSize:`${j}px`},children:"SNo"}),ne.map(((e,l)=>{const n=U.find((l=>l.columnId===e.Field_Name));return(0,B.jsx)(C.c,{sx:{fontSize:`${j}px`},sortDirection:(null===n||void 0===n?void 0:n.direction)||!1,children:(0,B.jsx)(D.c,{active:!!n,direction:(null===n||void 0===n?void 0:n.direction)||"asc",onClick:()=>(e=>{const l=U.find((l=>l.columnId===e));G(l?U.map((l=>l.columnId===e?{...l,direction:"asc"===l.direction?"desc":"asc"}:l)):[...U,{columnId:e,direction:"asc"}])})(e.Field_Name),children:e.ColumnHeader||e.Field_Name})},l)}))]})}),(0,B.jsxs)(P.c,{children:[(m?oe:re).map(((e,l)=>(0,B.jsx)(se,{row:e,index:l},l))),!ae.length&&(0,B.jsx)(F.c,{children:(0,B.jsx)(C.c,{colSpan:ne.length+(d?1:0)+(a?1:0),align:"center",children:"No Data"})})]})]})}),!m&&ae.length>0&&(0,B.jsx)("div",{className:"p-2 pb-0",children:(0,B.jsx)(k.c,{component:"div",count:ae.length,page:V,onPageChange:(e,l)=>R(l),rowsPerPage:W,onRowsPerPageChange:e=>{q(parseInt(e.target.value,10)),R(0)},rowsPerPageOptions:[5,10,20,50,100],labelRowsPerPage:"Rows per page",showFirstButton:!0,showLastButton:!0})}),H&&(0,B.jsxs)(t.Fragment,{children:[(0,B.jsx)(E,{open:M,onClose:()=>T(!1),columns:ne,filters:te,setFilters:ie,dataArray:l,setColumnDialog:L}),(0,B.jsx)(Q,{open:I,onClose:()=>L(!1),columns:$,setColumns:A,originalColumns:n})]})]})};ne.defaultProps={onClickFun:null,isExpendable:!1,expandableComp:null,tableMaxHeight:550,initialPageCount:20,EnableSerialNumber:!1,CellSize:"small",disablePagination:!1,title:void 0,PDFPrintOption:!1,ExcelPrintOption:!1,maxHeightOption:!1,ButtonArea:null,MenuButtons:[],headerFontSizePx:13,bodyFontSizePx:13,enableFilters:!1};const te=(0,a.gV)().user,ie=((0,a.Q$)(null===te||void 0===te?void 0:te.UserId)&&(null===te||void 0===te||te.UserId),(0,a.Q$)(null===te||void 0===te?void 0:te.UserId)&&(null===te||void 0===te||te.UserId),[{Field_Name:"trans_date",Fied_Data:"date",ColumnHeader:"Date"},{Field_Name:"batch",Fied_Data:"string",ColumnHeader:"Batch"},{Field_Name:"productNameGet",Fied_Data:"string",ColumnHeader:"Product"},{Field_Name:"godownName",Fied_Data:"string",ColumnHeader:"Godown"},{Field_Name:"stockDays",Fied_Data:"number",ColumnHeader:"Stock Days"},{Field_Name:"pendingQuantity",Fied_Data:"number",ColumnHeader:"Available Qty"},{Field_Name:"consumedQuantity",Fied_Data:"number",ColumnHeader:"Consumed Qty"},{Field_Name:"totalQuantity",Fied_Data:"number",ColumnHeader:"Max Qty"}]),ae=(0,B.jsx)(h.c,{fontSize:"small"}),oe=(0,B.jsx)(g.c,{fontSize:"small"}),re=e=>{let{loadingOn:l,loadingOff:n}=e;const[h,g]=(0,t.useState)([]),[F,C]=(0,t.useState)({Fromdate:(0,a.Q7)(),Todate:(0,a.Q7)(),FilterFromDate:(0,a.Q7)(),FilterTodate:(0,a.Q7)(),dateBased:"no",filterDialog:!1}),[y,N]=(0,t.useState)({}),[_,w]=(0,t.useState)(""),[S,D]=(0,t.useState)([]),[P,k]=(0,t.useState)(!1);(0,t.useEffect)((()=>{(0,i.q)({address:`inventory/batchMaster/stockBalance?\n            Fromdate=${F.Fromdate}&\n            Todate=${F.Todate}&\n            dateBased=${F.dateBased}`,loadingOn:l,loadingOff:n}).then((e=>{e.success?g(e.data):g([])})).catch((e=>console.error(e)))}),[F.Fromdate,F.Todate,F.dateBased]);const z=ie.map(((e,l)=>({isVisible:l<10?1:0,Field_Name:null===e||void 0===e?void 0:e.Field_Name,Fied_Data:null===e||void 0===e?void 0:e.Fied_Data,ColumnHeader:e.ColumnHeader,OrderBy:l+1}))),O=(0,t.useMemo)((()=>z.filter((e=>(0,a.Qr)(null===e||void 0===e?void 0:e.Defult_Display,1)||(0,a.Qr)(null===e||void 0===e?void 0:e.isVisible,1)))),[z]),H=(0,t.useMemo)((()=>{const e=Object.keys(y).length>0,l=!!_,n=e?S:h,t=l?(0,a.ui)(n,_):[],i=O.filter((e=>"number"===(0,a.MP)(e.Fied_Data))).map((e=>e.Field_Name)),o=t.map((e=>{const l=["Total_Qty","pendingQuantity","consumedQuantity","totalQuantity"];return{...e,...Object.fromEntries(i.map((n=>{var t,i;return[n,l.includes(n)?null===e||void 0===e||null===(t=e.groupedData)||void 0===t?void 0:t.reduce(((e,l)=>(0,a.Q5)(e,(0,a.gH)(l[n])||0)),0):(0,a.yy)(null===e||void 0===e||null===(i=e.groupedData)||void 0===i?void 0:i.reduce(((e,l)=>(0,a.Q5)(e,(0,a.gH)(l[n])||0)),0),e.groupedData.length)]})))}}));return l?o:n}),[y,h,S,_,O]);(0,t.useEffect)((()=>{$()}),[y]);const E=(e,l)=>{N((n=>({...n,[e]:l})))},$=()=>{let e=[...h];for(const n of z)if(y[n.Field_Name])if("range"===y[n.Field_Name].type){const{min:l,max:t}=y[n.Field_Name];e=e.filter((e=>{const i=e[n.Field_Name];return(void 0===l||i>=l)&&(void 0===t||i<=t)}))}else if("date"===y[n.Field_Name].type){const{start:l,end:t}=y[n.Field_Name].value;e=e.filter((e=>{const i=new Date(e[n.Field_Name]);return(void 0===l||i>=new Date(l))&&(void 0===t||i<=new Date(t))}))}else if(Array.isArray(y[n.Field_Name])){var l;e=(null===(l=y[n.Field_Name])||void 0===l?void 0:l.length)>0?e.filter((e=>{var l;return y[n.Field_Name].includes(null===(l=e[n.Field_Name])||void 0===l?void 0:l.toLowerCase().trim())})):e}D(e)},A=e=>{const{Field_Name:l,Fied_Data:n}=e;var t,i,a,o,c,u,m,x,v,p;if("number"===n)return(0,B.jsxs)("div",{className:"d-flex justify-content-between px-2",children:[(0,B.jsx)("input",{placeholder:"Min",type:"number",className:"bg-light border-0 m-1 p-1 w-50",value:null!==(t=null===(i=y[l])||void 0===i?void 0:i.min)&&void 0!==t?t:"",onChange:e=>E(l,{type:"range",...y[l],min:e.target.value?parseFloat(e.target.value):void 0})}),(0,B.jsx)("input",{placeholder:"Max",type:"number",className:"bg-light border-0 m-1 p-1 w-50",value:null!==(a=null===(o=y[l])||void 0===o?void 0:o.max)&&void 0!==a?a:"",onChange:e=>E(l,{type:"range",...y[l],max:e.target.value?parseFloat(e.target.value):void 0})})]});if("date"===n)return(0,B.jsxs)("div",{className:"d-flex justify-content-between px-2",children:[(0,B.jsx)("input",{placeholder:"Start Date",type:"date",className:"bg-light border-0 m-1 p-1 w-50",value:null!==(c=null===(u=y[l])||void 0===u||null===(m=u.value)||void 0===m?void 0:m.start)&&void 0!==c?c:"",onChange:e=>{var n;return E(l,{type:"date",value:{...null===(n=y[l])||void 0===n?void 0:n.value,start:e.target.value||void 0}})}}),(0,B.jsx)("input",{placeholder:"End Date",type:"date",className:"bg-light border-0 m-1 p-1 w-50",value:null!==(x=null===(v=y[l])||void 0===v||null===(p=v.value)||void 0===p?void 0:p.end)&&void 0!==x?x:"",onChange:e=>{var n;return E(l,{type:"date",value:{...null===(n=y[l])||void 0===n?void 0:n.value,end:e.target.value||void 0}})}})]});if("string"===n){const e=[...new Set(h.map((e=>{var n,t;return null===(n=e[l])||void 0===n||null===(t=n.toLowerCase())||void 0===t?void 0:t.trim()})))];return(0,B.jsx)(r.c,{multiple:!0,id:`${l}-filter`,options:e,disableCloseOnSelect:!0,getOptionLabel:e=>e,value:y[l]||[],onChange:(e,n)=>E(l,n),renderOption:(e,l,n)=>{let{selected:t}=n;return(0,B.jsxs)("li",{...e,children:[(0,B.jsx)(s.c,{icon:ae,checkedIcon:oe,style:{marginRight:8},checked:t}),l]})},isOptionEqualToValue:(e,l)=>e===l,renderInput:e=>(0,B.jsx)(d.c,{...e,label:l,placeholder:`Select ${null===l||void 0===l?void 0:l.replace(/_/g," ")}`})})}},Q=()=>{k(!1)};return(0,B.jsxs)(B.Fragment,{children:[(0,B.jsx)(o.cp,{title:"Batch Listing",EnableSerialNumber:!0,ButtonArea:(0,B.jsxs)(B.Fragment,{children:[(0,B.jsx)(c.c,{title:"Clear Filters",children:(0,B.jsx)(u.c,{size:"small",onClick:()=>N({}),children:(0,B.jsx)(b.c,{})})}),(0,B.jsx)(c.c,{title:"Filters",children:(0,B.jsx)(u.c,{onClick:()=>k(!0),size:"small",children:(0,B.jsx)(j.c,{})})}),(0,B.jsxs)("select",{className:"cus-inpt p-2 w-auto m-1",value:_,onChange:e=>w(e.target.value),children:[(0,B.jsx)("option",{value:"",children:"Group By"}),O.filter((e=>"string"===(0,a.MP)(e.Fied_Data)&&"Ledger_Name"!==(null===e||void 0===e?void 0:e.Field_Name))).map(((e,l)=>{var n;return(0,B.jsx)("option",{value:null===e||void 0===e?void 0:e.Field_Name,children:null===e||void 0===e||null===(n=e.Field_Name)||void 0===n?void 0:n.replace(/_/g," ")},l)}))]})]}),maxHeightOption:!0,ExcelPrintOption:!0,dataArray:H,columns:_?O.filter((e=>H.length>0&&Object.keys(H[0]).includes(e.Field_Name))).map((e=>({...e,ColumnHeader:e.Field_Name===_?_:e.ColumnHeader}))):O,enableFilters:!0,isExpendable:!!_,expandableComp:e=>{let{row:l}=e;return(0,B.jsx)(o.cp,{EnableSerialNumber:!0,headerFontSizePx:12,bodyFontSizePx:12,dataArray:(0,a.dq)(null===l||void 0===l?void 0:l.groupedData),columns:O.filter((e=>!(0,a.m2)(e.Field_Name,_)))})}}),(0,B.jsxs)(m.c,{open:P,onClose:Q,maxWidth:"sm",fullWidth:!0,children:[(0,B.jsxs)(x.c,{children:[(0,B.jsxs)("h5",{className:"d-flex justify-content-between px-2",children:[(0,B.jsx)("span",{children:"Filters"}),(0,B.jsxs)("span",{children:[(0,B.jsx)(c.c,{title:"Clear Filters",children:(0,B.jsx)(u.c,{size:"small",onClick:()=>N({}),children:(0,B.jsx)(b.c,{})})}),(0,B.jsx)(v.c,{onClick:()=>{Q(),C((e=>({...e,Fromdate:null===F||void 0===F?void 0:F.FilterFromDate,Todate:F.FilterTodate,dateBased:"yes"})))},startIcon:(0,B.jsx)(f.c,{}),variant:"outlined",children:"Search"})]})]}),(0,B.jsx)("div",{className:"table-responsive",children:(0,B.jsx)("table",{className:"table table-bordered",children:(0,B.jsxs)("tbody",{children:[(0,B.jsxs)("tr",{children:[(0,B.jsx)("td",{style:{verticalAlign:"middle"},children:"From"}),(0,B.jsx)("td",{children:(0,B.jsx)("input",{type:"date",value:F.FilterFromDate,onChange:e=>C({...F,FilterFromDate:e.target.value}),className:"cus-inpt"})})]}),(0,B.jsxs)("tr",{children:[(0,B.jsx)("td",{style:{verticalAlign:"middle"},children:"To"}),(0,B.jsx)("td",{children:(0,B.jsx)("input",{type:"date",value:F.FilterTodate,onChange:e=>C({...F,FilterTodate:e.target.value}),className:"cus-inpt"})})]}),(0,B.jsx)("tr",{children:(0,B.jsxs)("td",{style:{verticalAlign:"middle"},children:[(0,B.jsx)("input",{className:"form-check-input shadow-none pointer mx-2",style:{padding:"0.7em"},type:"checkbox",id:"applyDateFilterCheckBox",checked:(0,a.m2)(F.dateBased,"yes"),onChange:()=>C((e=>({...e,dateBased:(0,a.m2)(e.dateBased,"yes")?"no":"yes"})))}),(0,B.jsx)("label",{htmlFor:"applyDateFilterCheckBox",className:"fw-bold",children:"Apply Date Filters"})]})})]})})}),(0,B.jsxs)("div",{className:"border rounded-3 ",children:[O.map(((e,l)=>{var n;return(0,B.jsxs)("div",{className:"py-3 px-3 hov-bg border-bottom",children:[(0,B.jsx)("label",{className:"mt-2 mb-1",children:null===e||void 0===e||null===(n=e.Field_Name)||void 0===n?void 0:n.replace(/_/g," ")}),A(e)]},l)})),(0,B.jsx)("br",{})]})]}),(0,B.jsx)(p.c,{children:(0,B.jsx)(v.c,{onClick:Q,children:"close"})})]})]})}}}]);
//# sourceMappingURL=156.cd730d7c.chunk.js.map
"use strict";(self.webpackChunkerp=self.webpackChunkerp||[]).push([[7016],{57016:(e,a,s)=>{s.r(a),s.d(a,{default:()=>b});var l=s(69060),t=s(86e3),n=s(41459),r=s(46864),d=s(27664),o=s(82496);const c=(0,d.c)((0,o.jsx)("path",{d:"M15.41 7.41 14 6l-6 6 6 6 1.41-1.41L10.83 12z"}),"ChevronLeft");var i=s(96064),m=s(56480),u=s(5548),h=s(60476),p=s(43692),v=s(84436),x=s(39308),j=s(1908);const N=e=>{let{emp:a,edit:s,del:d,setVal:c}=e;const[i,m]=(0,l.useState)(!1);return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("div",{className:"card-header fa-16 d-flex align-items-center justify-content-between",children:[(0,o.jsx)("span",{className:"fw-bold",children:a.Emp_Name}),(0,o.jsxs)("span",{children:[a.Designation_Name+" ",!0===s&&(0,o.jsx)(u.c,{size:"small",onClick:()=>c(a,"PUT"),children:(0,o.jsx)(t.c,{})}),(0,o.jsx)(u.c,{onClick:()=>m(!i),children:i?(0,o.jsx)(n.c,{}):(0,o.jsx)(r.c,{})})]})]}),(0,o.jsx)(h.c,{in:i,timeout:"auto",unmountOnExit:!0,children:(0,o.jsx)("div",{className:"card-body",children:(0,o.jsxs)("div",{className:"row",children:[(0,o.jsxs)("div",{className:"col-lg-4 col-md-12 p-2 ",children:[(0,o.jsxs)("h3",{className:"h6",children:[(0,o.jsx)("span",{className:"float-start",children:"Branch"}),(0,o.jsx)("span",{className:"float-end",children:a.BranchName?a.BranchName:"-"})]}),(0,o.jsx)("br",{}),(0,o.jsxs)("h3",{className:"h6",children:[(0,o.jsx)("span",{className:"float-start",children:"Salary"}),(0,o.jsx)("span",{className:"float-end",children:a.Salary?a.Salary:"-"})]}),(0,o.jsx)("br",{}),(0,o.jsxs)("h3",{className:"h6",children:[(0,o.jsx)("span",{className:"float-start",children:"Joining"}),(0,o.jsx)("span",{className:"float-end",children:a.DOJ?(0,x.uy)(a.DOJ):"-"})]}),(0,o.jsx)("br",{}),(0,o.jsxs)("h3",{className:"h6",children:[(0,o.jsx)("span",{className:"float-start",children:"Education"}),(0,o.jsx)("span",{className:"float-end",children:a.Education?a.Education:"-"})]}),(0,o.jsx)("br",{}),(0,o.jsxs)("h3",{className:"h6",children:[(0,o.jsx)("span",{className:"float-start",children:"Mobile"}),(0,o.jsx)("span",{className:"float-end",children:a.Mobile_No?a.Mobile_No:"-"})]})]}),(0,o.jsxs)("div",{className:"col-lg-4 col-md-12 p-2 ",children:[(0,o.jsxs)("h3",{className:"h6",children:[(0,o.jsx)("span",{className:"float-start",children:"City"}),(0,o.jsx)("span",{className:"float-end",children:a.City?a.City:"-"})]}),(0,o.jsx)("br",{}),(0,o.jsxs)("h3",{className:"h6",children:[(0,o.jsx)("span",{className:"float-start",children:"PinCode"}),(0,o.jsx)("span",{className:"float-end",children:a.Pincode?a.Pincode:"-"})]}),(0,o.jsx)("br",{}),(0,o.jsxs)("h3",{className:"h6",children:[(0,o.jsx)("span",{className:"float-start",children:"Gender"}),(0,o.jsx)("span",{className:"float-end",children:a.Sex?a.Sex:"-"})]}),(0,o.jsx)("br",{}),(0,o.jsxs)("h3",{className:"h6",children:[(0,o.jsx)("span",{className:"float-start",children:"DOB"}),(0,o.jsx)("span",{className:"float-end",children:a.DOB?(0,x.uy)(a.DOB):"-"})]}),(0,o.jsx)("br",{}),(0,o.jsxs)("h3",{className:"h6",children:[(0,o.jsx)("span",{className:"float-start",children:"Religion"}),(0,o.jsx)("span",{className:"float-end",children:a.Emp_Religion?a.Emp_Religion:"-"})]})]}),(0,o.jsxs)("div",{className:"col-lg-4 col-md-12 p-2 ",children:[(0,o.jsxs)("h3",{className:"h6",children:[(0,o.jsx)("span",{className:"float-start",children:"Father's Name"}),(0,o.jsx)("span",{className:"float-end",children:a.Fathers_Name?a.Fathers_Name:"-"})]}),(0,o.jsx)("br",{}),(0,o.jsxs)("h3",{className:"h6",children:[(0,o.jsx)("span",{className:"float-start",children:"Mother's Name"}),(0,o.jsx)("span",{className:"float-end",children:a.Mothers_Name?a.Mothers_Name:"-"})]}),(0,o.jsx)("br",{}),(0,o.jsxs)("h3",{className:"h6",children:[(0,o.jsx)("span",{className:"float-start",children:"Spouse's Name"}),(0,o.jsx)("span",{className:"float-end",children:a.Spouse_Name?a.Spouse_Name:"-"})]}),(0,o.jsx)("br",{}),(0,o.jsxs)("h3",{className:"h6",children:[(0,o.jsx)("span",{className:"float-start",children:"Address 1"}),(0,o.jsx)("span",{className:"float-end",style:{width:"50%",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",textAlign:"right"},children:a.Address_1?a.Address_1:"-"})]}),(0,o.jsx)("br",{}),(0,o.jsxs)("h3",{className:"h6",children:[(0,o.jsx)("span",{className:"float-start",children:"Address 2"}),(0,o.jsx)("span",{className:"float-end",style:{width:"50%",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",textAlign:"right"},children:a.Address_2?a.Address_2:"-"})]}),(0,o.jsx)("br",{}),(0,o.jsxs)("h3",{className:"h6",children:[(0,o.jsx)("span",{className:"float-start",children:"Department Name"}),(0,o.jsx)("span",{className:"float-end",children:a.Department?a.Department:"-"})]}),(0,o.jsx)("br",{}),(0,o.jsxs)("h3",{className:"h6",children:[(0,o.jsx)("span",{className:"float-start",children:"Location"}),(0,o.jsx)("span",{className:"float-end",children:a.Location?a.Location:"-"})]})]})]})})})]})},b=()=>{const e=JSON.parse(localStorage.getItem("user")),a={branch:"",empname:"",designation:"",dob:(0,x.Q7)(),doj:(0,x.Q7)(),address1:"",address2:"",city:"",country:"India",pincode:"",mobile:"",education:"",father:"",mother:"",spouse:"",gender:"",religion:"",salary:0,total_loan:0,salary_advance:0,due_loan:0,user_manage_id:"",enter_by:parseInt(null===e||void 0===e?void 0:e.UserId),fingerPrintEmpId:null,Department_ID:"",department:"",location:""},[s,t]=(0,l.useState)(a),[n,r]=(0,l.useState)([]),[d,u]=(0,l.useState)([]),[h,b]=(0,l.useState)([]),[g,f]=(0,l.useState)([]),[y,S]=(0,l.useState)([]),_="cus-inpt b-0",[C,E]=(0,l.useState)(!1),[D,M]=(0,l.useState)(!1),[w,I]=(0,l.useState)(""),[A,q]=(0,l.useState)(""),[L,O]=(0,l.useState)(!1);function B(e){e.target.value=e.target.value.replace(/[^0-9]/g,"")}(0,l.useEffect)((()=>{(0,j.q)({address:"userModule/employee"}).then((e=>{e.success&&r(e.data)})).catch((e=>console.log(e)))}),[L]),(0,l.useEffect)((()=>{(0,j.q)({address:`masters/branch/dropDown?User_Id=${null===e||void 0===e?void 0:e.UserId}&Company_id=${null===e||void 0===e?void 0:e.Company_id}`}).then((e=>{e.success&&f(e.data)})).catch((e=>console.log(e))),(0,j.q)({address:"userModule/employee/designation"}).then((e=>{e.success&&S(e.data)})).catch((e=>console.log(e))),(0,j.q)({address:"userModule/employee/department"}).then((e=>{e.success&&u(e.data)})).catch((e=>console.log(e))),(0,j.q)({address:"empAttendance/department"}).then((e=>{e.success&&(console.log("Data",e),u(e.others.department))})).catch((e=>console.log(e)))}),[]),(0,l.useEffect)((()=>{const e=n.filter((e=>Object.values(e).some((e=>String(e).toLowerCase().includes(w.toLowerCase())))));b(e)}),[w,n]);const P=()=>{t(a)},k=[{label:"Name",elem:"input",type:"text",class:_,placeholder:"Enter Name",event:e=>t({...s,empname:e.target.value}),required:!0,value:s.empname},{label:"Designation",elem:"select",class:_,options:[{value:"",label:" - Select - ",disabled:!0,selected:!0},...y.map((e=>({value:e.id,label:e.Designation})))],event:e=>t({...s,designation:e.target.value}),required:!0,value:s.designation},{label:"Mobile",elem:"input",oninput:e=>B(e),class:_,placeholder:"Enter Mobile Number",event:e=>t({...s,mobile:e.target.value}),required:D,value:s.mobile,max:10},{label:"Attendance Id (Finger Print)",elem:"input",class:_,placeholder:"Enter Employee Attendance Master Id",event:e=>t({...s,fingerPrintEmpId:e.target.value}),value:s.fingerPrintEmpId},{label:"Education",elem:"input",type:"text",class:_,placeholder:"Enter Education",event:e=>t({...s,education:e.target.value}),value:s.education},{label:"Date of Birth",elem:"input",type:"date",class:_,placeholder:"Select Date of Birth",event:e=>t({...s,dob:e.target.value}),value:s.dob},{label:"Date of Joining",elem:"input",type:"date",class:_,placeholder:"Select Date of Joining",event:e=>t({...s,doj:e.target.value}),value:s.doj},{label:"Gender",elem:"select",class:_,options:[{value:"",label:" - Select - ",disabled:!0,selected:!0},{value:"Male",label:"Male"},{value:"Female",label:"Female"},{value:"Other",label:"Other"}],event:e=>t({...s,gender:e.target.value}),required:!0,value:s.gender},{label:"Religion",elem:"select",class:_,options:[{value:"",label:" - Select - ",disabled:!0,selected:!0},{value:"Hindu",label:"Hindu"},{value:"Muslim",label:"Muslim"},{value:"Christian",label:"Christian"},{value:"Other",label:"Other"}],event:e=>t({...s,religion:e.target.value}),value:s.religion},{label:"Branch",elem:"select",class:_,options:[{value:"",label:" - Select - ",disabled:!0,selected:!0},...g.map((e=>({value:e.BranchId,label:e.BranchName})))],event:e=>t({...s,branch:parseInt(e.target.value)}),required:!0,value:s.branch},{label:"Salary",elem:"input",oninput:e=>B(e),class:_,placeholder:"Enter Salary",event:e=>t({...s,salary:e.target.value}),required:!0,value:s.salary},{label:"Father's Name",elem:"input",type:"text",class:_,placeholder:"Enter Father's Name",event:e=>t({...s,father:e.target.value}),value:s.father},{label:"Mother's Name",elem:"input",type:"text",class:_,placeholder:"Enter Mother's Name",event:e=>t({...s,mother:e.target.value}),value:s.mother},{label:"Spouse's Name",elem:"input",type:"text",class:_,placeholder:"Enter Spouse's Name",event:e=>t({...s,spouse:e.target.value}),value:s.spouse},{label:"City",elem:"input",type:"text",class:_,placeholder:"Enter City",event:e=>t({...s,city:e.target.value}),required:!0,value:s.city},{label:"Pincode",elem:"input",oninput:e=>B(e),class:_,placeholder:"Enter Pincode",event:e=>t({...s,pincode:e.target.value}),value:s.pincode,max:6},{label:"Address Line 1",elem:"textarea",type:"text",class:_,placeholder:"Enter Address Line 1",event:e=>t({...s,address1:e.target.value}),required:!0,value:s.address1},{label:"Address Line 2",elem:"textarea",type:"text",class:_,placeholder:"Enter Address Line 2",event:e=>t({...s,address2:e.target.value}),value:s.address2},{label:"Department Name",elem:"dataset",list:"departmentList",class:_,placeholder:"Type or Search Department Name",event:e=>t({...s,department:e.target.value}),required:!0,value:s.department,options:d&&d.length>0?d:[{value:"",label:" - No Departments Available - ",disabled:!0}]},{label:"Location",elem:"input",type:"text",class:_,placeholder:"Enter Location",event:e=>t({...s,location:e.target.value}),value:s.location}],F=()=>{for(const e of k)if(e.required&&""===e.value)return`${e.label} is required.`;return"Success"},U=(a,s)=>{q(a.Emp_Id),"PUT"===s&&(t((s=>({...s,branch:null===a||void 0===a?void 0:a.Branch,empname:null===a||void 0===a?void 0:a.Emp_Name,designation:null===a||void 0===a?void 0:a.Designation,dob:null!==a&&void 0!==a&&a.DOB?(0,x.Q7)(null===a||void 0===a?void 0:a.DOB):(0,x.Q7)(),doj:null!==a&&void 0!==a&&a.DOJ?(0,x.Q7)(null===a||void 0===a?void 0:a.DOJ):(0,x.Q7)(),address1:null===a||void 0===a?void 0:a.Address_1,address2:null===a||void 0===a?void 0:a.Address_2,city:null===a||void 0===a?void 0:a.City,country:"India",pincode:null===a||void 0===a?void 0:a.Pincode,mobile:null===a||void 0===a?void 0:a.Mobile_No,education:null===a||void 0===a?void 0:a.Education,father:null===a||void 0===a?void 0:a.Fathers_Name,mother:null===a||void 0===a?void 0:a.Mothers_Name,spouse:null===a||void 0===a?void 0:a.Spouse_Name,gender:null===a||void 0===a?void 0:a.Sex,religion:null===a||void 0===a?void 0:a.Emp_Religion,salary:null===a||void 0===a?void 0:a.Salary,total_loan:null===a||void 0===a?void 0:a.Total_Loan,salary_advance:null===a||void 0===a?void 0:a.Salary_Advance,due_loan:null===a||void 0===a?void 0:a.Due_Loan,user_manage_id:null===a||void 0===a?void 0:a.User_Mgt_Id,enter_by:parseInt(null===e||void 0===e?void 0:e.UserId),fingerPrintEmpId:null===a||void 0===a?void 0:a.fingerPrintEmpId,Department_ID:null===a||void 0===a?void 0:a.Department_ID,department:null===a||void 0===a?void 0:a.Department,location:null===a||void 0===a?void 0:a.Location}))),E(!C))};return(0,o.jsx)(o.Fragment,{children:(0,o.jsxs)(p.c,{children:[(0,o.jsxs)("div",{className:"fa-16 p-2 ps-3 d-flex align-items-center justify-content-between border-bottom fw-bold pb-2 text-primary",children:[(0,o.jsx)("span",{className:"text-uppercase",children:"Employees ( "+n.length+" )"}),(0,o.jsx)("span",{children:(0,o.jsx)("button",{className:"comadbtn mb-0",onClick:()=>{E(!C),q(""),P()},children:C?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(c,{sx:{fontSize:"1em",padding:"0px",margin:"0px"}})," Back"]}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(i.c,{sx:{fontSize:"1em",padding:"0px",margin:"0px"}})," Add Employee"]})})})]}),(0,o.jsx)(v.c,{className:"p-0",children:C?(0,o.jsxs)("div",{className:"p-3",children:[(0,o.jsx)("h2",{className:"h5 mb-0",children:A?"Update Employee":"Create Employee"}),(0,o.jsxs)("div",{className:"row",children:[k.map(((e,a)=>(0,o.jsxs)("div",{className:"col-lg-4 col-md-6 p-2 px-3",children:[(0,o.jsxs)("label",{className:"mb-1 text-dark",children:[e.label,e.required&&(0,o.jsx)("span",{style:{color:"red",fontWeight:"bold",fontSize:"1em"},children:" *"})]}),"input"===e.elem?(0,o.jsx)("input",{type:e.type||"text",className:e.class,onChange:e.event,onInput:e.oninput,disabled:e.disabled,value:e.value,maxLength:e.max}):"select"===e.elem?(0,o.jsx)("select",{className:e.class,onChange:e.event,value:e.value,children:e.options.map(((e,a)=>(0,o.jsx)("option",{value:e.value,disabled:e.disabled,defaultValue:e.selected,children:e.label},a)))}):"textarea"===e.elem?(0,o.jsx)("textarea",{className:e.class,onChange:e.event,rows:1,value:e.value}):"dataset"===e.elem?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("input",{type:"search",className:e.class,list:e.list,placeholder:e.placeholder,value:e.value,onChange:e.event,required:e.required}),(0,o.jsx)("datalist",{id:e.list,children:e.options&&e.options.length>0?e.options.map(((e,a)=>(0,o.jsx)("option",{value:e.value,disabled:e.disabled,children:e.label},a))):(0,o.jsx)("option",{value:"",children:"No options available"})})]}):null]},a))),!A&&(0,o.jsx)("div",{className:"col-lg-4 col-md-6 d-flex align-items-center",children:(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"form-check-label p-1 pe-2",htmlFor:"muser",children:"Create as a User"}),(0,o.jsx)("input",{className:"form-check-input shadow-none",style:{padding:"0.7em"},type:"checkbox",id:"muser",checked:D,onChange:()=>M(!D)})]})})]}),(0,o.jsxs)("div",{className:"d-flex flex-row-reverse",children:[(0,o.jsx)("button",{className:"comadbtn",style:{marginBottom:"0px"},onClick:A?()=>{const e=F();"Success"===e?(0,j.q)({address:"userModule/employee",method:"PUT",bodyData:{data:{...s,createAsUser:D},ID:A}}).then((e=>{e.success?(m.m4.success(e.message),P(),q(""),E(!C),O(!L)):m.m4.error(e.message)})).catch((e=>console.error(e))):m.m4.error(e)}:()=>{const e=F();"Success"===e?(0,j.q)({address:"userModule/employee",method:"POST",bodyData:{data:{...s,createAsUser:D},userMGT:!0}}).then((e=>{e.success?(m.m4.success(e.message),P(),q(""),E(!C),O(!L)):m.m4.error(e.message)})).catch((e=>console.log(e))):m.m4.error(e)},children:"Submit"}),(0,o.jsx)("button",{className:"cancelbtn",onClick:()=>{E(!C),q(""),P()},children:"Cancel"})]})]}):(0,o.jsxs)("div",{style:{maxHeight:"74vh",overflowY:"scroll"},className:"p-3 pe-2",children:[(0,o.jsx)("div",{className:"text-end mb-2",children:(0,o.jsx)("input",{className:"cus-inpt w-auto",type:"search",placeholder:"Search...",value:w,onChange:e=>I(e.target.value)})}),(h&&h.length?h:""===w?n:[]).map((e=>(0,o.jsx)("div",{className:"col-sm-12 card shadow-none mb-2",children:(0,o.jsx)(N,{emp:e,edit:!0,del:!0,setVal:U})},e.Emp_Id)))]})})]})})}},96064:(e,a,s)=>{s.d(a,{c:()=>n});var l=s(27664),t=s(82496);const n=(0,l.c)((0,t.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"}),"Add")},86e3:(e,a,s)=>{s.d(a,{c:()=>n});var l=s(27664),t=s(82496);const n=(0,l.c)((0,t.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"}),"Edit")},84436:(e,a,s)=>{s.d(a,{c:()=>x});var l=s(45072),t=s(95656),n=s(69060),r=s(79736),d=s(21412),o=s(12556),c=s(49836),i=s(10099),m=s(33448);function u(e){return(0,m.cp)("MuiCardContent",e)}(0,i.c)("MuiCardContent",["root"]);var h=s(82496);const p=["className","component"],v=(0,o.cp)("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(e,a)=>a.root})((()=>({padding:16,"&:last-child":{paddingBottom:24}}))),x=n.forwardRef((function(e,a){const s=(0,c.C)({props:e,name:"MuiCardContent"}),{className:n,component:o="div"}=s,i=(0,t.c)(s,p),m=(0,l.c)({},s,{component:o}),x=(e=>{const{classes:a}=e;return(0,d.c)({root:["root"]},u,a)})(m);return(0,h.jsx)(v,(0,l.c)({as:o,className:(0,r.c)(x.root,n),ownerState:m,ref:a},i))}))},43692:(e,a,s)=>{s.d(a,{c:()=>j});var l=s(45072),t=s(95656),n=s(69060),r=s(79736),d=s(21412),o=s(12556),c=s(49836),i=s(85624),m=s(10099),u=s(33448);function h(e){return(0,u.cp)("MuiCard",e)}(0,m.c)("MuiCard",["root"]);var p=s(82496);const v=["className","raised"],x=(0,o.cp)(i.c,{name:"MuiCard",slot:"Root",overridesResolver:(e,a)=>a.root})((()=>({overflow:"hidden"}))),j=n.forwardRef((function(e,a){const s=(0,c.C)({props:e,name:"MuiCard"}),{className:n,raised:o=!1}=s,i=(0,t.c)(s,v),m=(0,l.c)({},s,{raised:o}),u=(e=>{const{classes:a}=e;return(0,d.c)({root:["root"]},h,a)})(m);return(0,p.jsx)(x,(0,l.c)({className:(0,r.c)(u.root,n),elevation:o?8:void 0,ref:a,ownerState:m},i))}))}}]);
//# sourceMappingURL=7016.7b8d6591.chunk.js.map
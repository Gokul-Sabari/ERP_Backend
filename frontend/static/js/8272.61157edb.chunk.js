"use strict";(self.webpackChunkerp=self.webpackChunkerp||[]).push([[8272],{98272:(e,s,i)=>{i.r(s),i.d(s,{default:()=>I});var t=i(69060),n=i(82656),c=i(4488),l=i(90048),d=i(89e3),a=i(27454),o=i(96464),r=i(52924),h=i(5548),g=i(99904),x=i(85624),u=i(33856),j=i(58612),m=i(29504),R=i(56416),S=i(56480),v=(i(21680),i(40656)),p=i(62344),f=i(77536),b=i(1908),C=i(82496);const z=(e,s,i,t,n)=>{t&&t(),(0,b.q)({address:"authorization/userTypeRights",method:"POST",bodyData:{MenuId:s,UserType:Number(i),ReadRights:!0===e.readRights?1:0,AddRights:!0===e.addRights?1:0,EditRights:!0===e.editRights?1:0,DeleteRights:!0===e.deleteRights?1:0,PrintRights:!0===e.printRights?1:0}}).then((e=>{e.success||S.m4.error(e.message)})).catch((e=>console.error(e))).finally((()=>{n&&n()}))},k=e=>{let{UserTypeId:s,data:i,loadingOn:S,loadingOff:v}=e;const[f,b]=(0,t.useState)(!1),[k,y]=(0,t.useState)(1===i.Read_Rights),[I,M]=(0,t.useState)(1===i.Add_Rights),[w,O]=(0,t.useState)(1===i.Edit_Rights),[T,E]=(0,t.useState)(1===i.Delete_Rights),[U,A]=(0,t.useState)(1===i.Print_Rights),[D,H]=(0,t.useState)(!1);return(0,t.useEffect)((()=>{y(1===i.Read_Rights),M(1===i.Add_Rights),O(1===i.Edit_Rights),E(1===i.Delete_Rights),A(1===i.Print_Rights),H(!1)}),[i]),(0,t.useEffect)((()=>{!0===D&&z({readRights:k,addRights:I,editRights:w,deleteRights:T,printRights:U},i.id,s,S,v)}),[k,I,w,T,U]),(0,C.jsxs)(C.Fragment,{children:[(0,C.jsxs)(a.c,{hover:!0,children:[(0,C.jsx)(o.c,{children:i.id}),(0,C.jsx)(o.c,{children:i.name}),(0,C.jsx)(o.c,{children:(0,C.jsx)(r.c,{sx:{"& .MuiSvgIcon-root":{fontSize:20}},checked:k,size:"small",onChange:()=>{H(!0),y(!k)}})}),(0,C.jsx)(o.c,{children:(0,C.jsx)(r.c,{sx:{"& .MuiSvgIcon-root":{fontSize:20}},checked:I,size:"small",onChange:()=>{H(!0),M(!I)}})}),(0,C.jsx)(o.c,{children:(0,C.jsx)(r.c,{sx:{"& .MuiSvgIcon-root":{fontSize:20}},checked:w,size:"small",onChange:()=>{H(!0),O(!w)}})}),(0,C.jsx)(o.c,{children:(0,C.jsx)(r.c,{sx:{"& .MuiSvgIcon-root":{fontSize:20}},checked:T,size:"small",onChange:()=>{H(!0),E(!T)}})}),(0,C.jsx)(o.c,{children:(0,C.jsx)(r.c,{sx:{"& .MuiSvgIcon-root":{fontSize:20}},checked:U,size:"small",onChange:()=>{H(!0),A(!U)}})}),(0,C.jsx)(o.c,{children:i.SubMenu.length>0&&(0,C.jsx)(h.c,{"aria-label":"expand row",size:"small",onClick:()=>b(!f),children:(0,C.jsx)(R.c,{})})})]}),(0,C.jsxs)(n.c,{open:f,onClose:()=>b(!f),maxWidth:"lg",fullWidth:!0,children:[(0,C.jsxs)(c.c,{children:[(0,C.jsx)("h3",{style:{paddingBottom:"0.5em"},children:"Sub Menu"}),(0,C.jsx)(g.c,{component:x.c,sx:{maxHeight:650},children:(0,C.jsxs)(u.c,{stickyHeader:!0,"aria-label":"simple table",children:[(0,C.jsx)(j.c,{children:(0,C.jsx)(a.c,{children:p.o$.map((e=>(0,C.jsx)(o.c,{variant:e.variant,align:e.align,width:e.width,sx:{backgroundColor:"rgb(15, 11, 42)",color:"white"},children:e.headname},e.id)))})}),(0,C.jsx)(m.c,{children:i.SubMenu.map(((e,i)=>(0,C.jsx)(_,{data:e,UserTypeId:s,loadingOff:v,loadingOn:S},i)))})]})})]}),(0,C.jsx)(l.c,{children:(0,C.jsx)(d.c,{onClick:()=>b(!f),color:"primary",children:"Close"})})]})]})},_=e=>{var s;let{data:i,UserTypeId:S,loadingOn:v,loadingOff:f}=e;const[b,k]=(0,t.useState)(!1),[_,I]=(0,t.useState)(1===i.Read_Rights),[M,w]=(0,t.useState)(1===i.Add_Rights),[O,T]=(0,t.useState)(1===i.Edit_Rights),[E,U]=(0,t.useState)(1===i.Delete_Rights),[A,D]=(0,t.useState)(1===i.Print_Rights),[H,P]=(0,t.useState)(!1);return(0,t.useEffect)((()=>{I(1===i.Read_Rights),w(1===i.Add_Rights),T(1===i.Edit_Rights),U(1===i.Delete_Rights),D(1===i.Print_Rights),P(!1)}),[i]),(0,t.useEffect)((()=>{!0===H&&z({readRights:_,addRights:M,editRights:O,deleteRights:E,printRights:A},i.id,S,v,f)}),[_,M,O,E,A]),(0,C.jsxs)(C.Fragment,{children:[(0,C.jsxs)(a.c,{hover:!0,children:[(0,C.jsx)(o.c,{children:i.id}),(0,C.jsx)(o.c,{children:i.name}),(0,C.jsx)(o.c,{children:(0,C.jsx)(r.c,{sx:{"& .MuiSvgIcon-root":{fontSize:20}},checked:_,size:"small",onChange:()=>{P(!0),I(!_)}})}),(0,C.jsx)(o.c,{children:(0,C.jsx)(r.c,{sx:{"& .MuiSvgIcon-root":{fontSize:20}},checked:M,size:"small",onChange:()=>{P(!0),w(!M)}})}),(0,C.jsx)(o.c,{children:(0,C.jsx)(r.c,{sx:{"& .MuiSvgIcon-root":{fontSize:20}},checked:O,size:"small",onChange:()=>{P(!0),T(!O)}})}),(0,C.jsx)(o.c,{children:(0,C.jsx)(r.c,{sx:{"& .MuiSvgIcon-root":{fontSize:20}},checked:E,size:"small",onChange:()=>{P(!0),U(!E)}})}),(0,C.jsx)(o.c,{children:(0,C.jsx)(r.c,{sx:{"& .MuiSvgIcon-root":{fontSize:20}},checked:A,size:"small",onChange:()=>{P(!0),D(!A)}})}),(0,C.jsx)(o.c,{children:i.ChildMenu.length>0&&(0,C.jsx)(h.c,{"aria-label":"expand row",size:"small",onClick:()=>k(!b),children:(0,C.jsx)(R.c,{})})})]}),(0,C.jsxs)(n.c,{open:b,onClose:()=>k(!b),maxWidth:"lg",fullWidth:!0,children:[(0,C.jsxs)(c.c,{children:[(0,C.jsx)("h3",{style:{paddingBottom:"0.5em"},children:"Child Menu"}),(0,C.jsx)(g.c,{component:x.c,sx:{maxHeight:650},children:(0,C.jsxs)(u.c,{stickyHeader:!0,"aria-label":"simple table",children:[(0,C.jsx)(j.c,{children:(0,C.jsx)(a.c,{children:p.o$.map((e=>(0,C.jsx)(o.c,{variant:e.variant,align:e.align,width:e.width,sx:{backgroundColor:"rgb(15, 11, 42)",color:"white"},children:e.headname},e.id)))})}),(0,C.jsx)(m.c,{children:null===i||void 0===i||null===(s=i.ChildMenu)||void 0===s?void 0:s.map(((e,s)=>(0,C.jsx)(y,{data:e,UserTypeId:S,loadingOff:f,loadingOn:v},s)))})]})})]}),(0,C.jsx)(l.c,{children:(0,C.jsx)(d.c,{onClick:()=>k(!b),color:"primary",children:"Close"})})]})]})},y=e=>{const{data:s,UserTypeId:i,loadingOn:n,loadingOff:c}=e,[l,d]=(0,t.useState)(1===s.Read_Rights),[h,g]=(0,t.useState)(1===s.Add_Rights),[x,u]=(0,t.useState)(1===s.Edit_Rights),[j,m]=(0,t.useState)(1===s.Delete_Rights),[R,S]=(0,t.useState)(1===s.Print_Rights),[v,p]=(0,t.useState)(!1);return(0,t.useEffect)((()=>{d(1===s.Read_Rights),g(1===s.Add_Rights),u(1===s.Edit_Rights),m(1===s.Delete_Rights),S(1===s.Print_Rights),p(!1)}),[s]),(0,t.useEffect)((()=>{!0===v&&z({readRights:l,addRights:h,editRights:x,deleteRights:j,printRights:R},s.id,i,n,c)}),[l,h,x,j,R]),(0,C.jsx)(C.Fragment,{children:(0,C.jsxs)(a.c,{hover:!0,children:[(0,C.jsx)(o.c,{children:s.id}),(0,C.jsx)(o.c,{children:s.name}),(0,C.jsx)(o.c,{children:(0,C.jsx)(r.c,{sx:{"& .MuiSvgIcon-root":{fontSize:20}},checked:l,size:"small",onChange:()=>{p(!0),d(!l)}})}),(0,C.jsx)(o.c,{children:(0,C.jsx)(r.c,{sx:{"& .MuiSvgIcon-root":{fontSize:20}},checked:h,size:"small",onChange:()=>{p(!0),g(!h)}})}),(0,C.jsx)(o.c,{children:(0,C.jsx)(r.c,{sx:{"& .MuiSvgIcon-root":{fontSize:20}},checked:x,size:"small",onChange:()=>{p(!0),u(!x)}})}),(0,C.jsx)(o.c,{children:(0,C.jsx)(r.c,{sx:{"& .MuiSvgIcon-root":{fontSize:20}},checked:j,size:"small",onChange:()=>{p(!0),m(!j)}})}),(0,C.jsx)(o.c,{children:(0,C.jsx)(r.c,{sx:{"& .MuiSvgIcon-root":{fontSize:20}},checked:R,size:"small",onChange:()=>{p(!0),S(!R)}})}),(0,C.jsx)(o.c,{})]})})},I=e=>{let{loadingOn:s,loadingOff:i}=e;const n=localStorage.getItem("user"),c=JSON.parse(n),[l,d]=(0,t.useState)([]),[r,h]=(0,t.useState)([]),[R,z]=(0,t.useState)([]),{contextObj:_}=(0,t.useContext)(f.a),[I,M]=(0,t.useState)({value:null===c||void 0===c?void 0:c.UserTypeId,label:null===c||void 0===c?void 0:c.UserType});return(0,t.useEffect)((()=>{(0,b.q)({address:"authorization/userTypeRights?UserType=".concat(null===I||void 0===I?void 0:I.value)}).then((e=>{var s,i;e.success&&(d(null===e||void 0===e?void 0:e.data),h(null!==(s=null===e||void 0===e||null===(i=e.others)||void 0===i?void 0:i.subRoutings)&&void 0!==s?s:[]))})).catch((e=>console.error(e)))}),[I]),(0,t.useEffect)((()=>{(0,b.q)({address:"masters/userType"}).then((e=>{e.success&&z(e.data)})).catch((e=>console.error(e)))}),[]),(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(S.jd,{}),(0,C.jsx)("div",{className:"row",children:(0,C.jsx)("div",{className:"col-sm-4 pt-1",children:(0,C.jsx)(v.cp,{value:I,onChange:e=>M({value:e.value,label:e.label}),options:[...R.map((e=>({value:null===e||void 0===e?void 0:e.Id,label:null===e||void 0===e?void 0:e.UserType})))],styles:p.cF,isSearchable:!0,placeholder:"Select UserType"})})}),(0,C.jsx)("br",{}),(0,C.jsx)("h6",{style:{marginBottom:"0.5em",borderBottom:"2px solid blue",width:"fit-content"},children:"Main Menu"}),(0,C.jsx)(g.c,{component:x.c,sx:{maxHeight:650},children:(0,C.jsxs)(u.c,{stickyHeader:!0,"aria-label":"simple table",children:[(0,C.jsx)(j.c,{children:(0,C.jsx)(a.c,{children:p.o$.map((e=>(0,C.jsx)(o.c,{variant:e.variant,align:e.align,width:e.width,sx:{backgroundColor:"rgb(15, 11, 42)",color:"white"},children:e.headname},e.id)))})}),(0,C.jsx)(m.c,{children:null===l||void 0===l?void 0:l.map(((e,t)=>(0,C.jsx)(k,{data:e,UserTypeId:I.value,loadingOff:i,loadingOn:s},t)))})]})}),(0,C.jsx)("br",{}),(0,C.jsx)("h6",{style:{marginBottom:"0.5em",borderBottom:"2px solid blue",width:"fit-content"},children:"Sub-Routings Access Control"}),(0,C.jsx)(g.c,{component:x.c,sx:{maxHeight:650},title:"Sub-Routings Access Control",children:(0,C.jsxs)(u.c,{stickyHeader:!0,"aria-label":"simple table",children:[(0,C.jsx)(j.c,{children:(0,C.jsx)(a.c,{children:p.o$.map((e=>(0,C.jsx)(o.c,{variant:e.variant,align:e.align,width:e.width,sx:{backgroundColor:"rgb(15, 11, 42)",color:"white"},children:"Action"===e.headname?"Sub Menu":e.headname},e.id)))})}),(0,C.jsx)(m.c,{children:r.map(((e,t)=>(0,C.jsx)(y,{data:e,UserTypeId:I.value,loadingOff:i,loadingOn:s},t)))})]})})]})}}}]);
//# sourceMappingURL=8272.61157edb.chunk.js.map
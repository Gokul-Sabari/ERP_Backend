"use strict";(self.webpackChunkerp=self.webpackChunkerp||[]).push([[5068],{17712:(e,l,a)=>{a.r(l),a.d(l,{default:()=>D});var s=a(30800),d=a(69060),r=a(3358),t=a(5548),i=a(43692),c=a(84436),n=a(82656),o=a(26773),v=a(4488),h=a(90048),u=a(89e3),m=a(40656),x=a(62344),j=a(39308),p=a(91924),_=a(86e3),b=a(61988),C=a(1908),y=a(13724),N=(a(21680),a(55312)),g=a(82496);const D=e=>{let{loadingOn:l,loadingOff:a,reload:D}=e;const S=JSON.parse(localStorage.getItem("user")),[F,f]=(0,d.useState)([]),[I,T]=(0,d.useState)([]),[A,H]=(0,d.useState)([]),[P,R]=(0,d.useState)([]),[M,V]=(0,d.useState)(!0),[O,z]=(0,d.useState)({}),[L,w]=(0,d.useState)({}),[G,k]=(0,d.useState)(!1),[B,E]=(0,d.useState)(!1),[Q,W]=(0,d.useState)({Fromdate:(0,j.SO)(7),Todate:(0,j.Q7)(),Retailer_Id:"",RetailerGet:"ALL",Created_by:"",CreatedByGet:"ALL",Delivery_Person_Id:"",Delivery_Person_Name:"ALL",Cancel_status:0}),[q,U]=(0,d.useState)({filters:!1,orderDetails:!1});(0,d.useEffect)((()=>{(0,C.q)({address:"delivery/deliveryOrderList?Fromdate=".concat(null===Q||void 0===Q?void 0:Q.Fromdate,"&Todate=").concat(null===Q||void 0===Q?void 0:Q.Todate,"&Retailer_Id=").concat(null===Q||void 0===Q?void 0:Q.Retailer_Id,"&Delivery_Person_Id=").concat(null===Q||void 0===Q?void 0:Q.Delivery_Person_Id,"&Created_by=").concat(null===Q||void 0===Q?void 0:Q.Created_by,"&Cancel_status=").concat(null===Q||void 0===Q?void 0:Q.Cancel_status)}).then((e=>{e.success&&f(null===e||void 0===e?void 0:e.data)})).catch((e=>console.error(e)))}),[Q.Fromdate,null===Q||void 0===Q?void 0:Q.Todate,null===Q||void 0===Q?void 0:Q.Retailer_Id,null===Q||void 0===Q?void 0:Q.Delivery_Person_Id,null===Q||void 0===Q?void 0:Q.Created_by,null===Q||void 0===Q?void 0:Q.Cancel_status,D]),(0,d.useEffect)((()=>{(0,C.q)({address:"masters/retailers/dropDown?Company_Id=".concat(null===S||void 0===S?void 0:S.Company_id)}).then((e=>{e.success&&T(e.data)})).catch((e=>console.error(e))),(0,C.q)({address:"masters/users/salesPerson/dropDown?Company_id=".concat(null===S||void 0===S?void 0:S.Company_id)}).then((e=>{e.success&&H(e.data)})).catch((e=>console.error(e))),(0,C.q)({address:"masters/user/dropDown?Company_id=".concat(null===S||void 0===S?void 0:S.Company_id)}).then((e=>{e.success&&R(e.data)})).catch((e=>console.error(e)))}),[]);const Y=[{Field_Name:"Do_Id",ColumnHeader:"Delivery ID",Fied_Data:"string",isVisible:1},{Field_Name:"So_No",ColumnHeader:"Sale Order ID",Fied_Data:"string",isVisible:1},{Field_Name:"Retailer_Name",ColumnHeader:"Customer",Fied_Data:"string",isVisible:1},{Field_Name:"SalesDate",ColumnHeader:"Sale Order Date",Fied_Data:"date",isVisible:1,align:"center"},{Field_Name:"Do_Date",ColumnHeader:"Delivery Date",Fied_Data:"date",isVisible:1,align:"center"},{Field_Name:"Total_Before_Tax",ColumnHeader:"Before Tax",Fied_Data:"number",isVisible:1,align:"center"},{Field_Name:"Total_Tax",ColumnHeader:"Tax",Fied_Data:"number",isVisible:1,align:"center"},{Field_Name:"Total_Invoice_value",ColumnHeader:"Invoice Value",Fied_Data:"number",isVisible:1,align:"center"},{Field_Name:"DeliveryStatusName",ColumnHeader:"Delivery Status ",Fied_Data:"string",isVisible:1,align:"center"},{Field_Name:"Action",isVisible:1,isCustomCell:!0,Cell:e=>{let{row:l}=e;return(0,g.jsx)(g.Fragment,{children:(0,g.jsx)(r.c,{title:"Edit",children:(0,g.jsx)(t.c,{onClick:()=>{J(),z((0,s.c)((0,s.c)({},l),{},{isEdit:!0}))},size:"small",children:(0,g.jsx)(_.c,{className:"fa-16"})})})})}}],J=()=>{V(!M),z({}),E(!B)},K=()=>{U((0,s.c)((0,s.c)({},q),{},{filters:!1,orderDetails:!1})),z({}),k(!1)};return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)(i.c,{children:[(0,g.jsxs)("div",{className:"p-3 py-2 d-flex align-items-center justify-content-between",children:[(0,g.jsx)("h6",{className:"fa-18 m-0 p-0",children:M?"Delivery Orders":(0,j.CY)(O)?"Modify Delivery Order":""}),(0,g.jsx)("span",{children:M&&(0,g.jsx)(r.c,{title:"Filters",children:(0,g.jsx)(t.c,{size:"small",onClick:()=>U((0,s.c)((0,s.c)({},q),{},{filters:!0})),children:(0,g.jsx)(b.c,{})})})})]}),(0,g.jsx)(c.c,{className:"p-0 ",children:M?(0,g.jsx)(y.cp,{dataArray:F,columns:Y,isExpendable:!0,tableMaxHeight:550,expandableComp:e=>{let{row:l}=e;return(0,g.jsx)(g.Fragment,{children:(0,g.jsx)("table",{className:"table",children:(0,g.jsxs)("tbody",{children:[(0,g.jsxs)("tr",{children:[(0,g.jsx)("td",{className:"border p-2 bg-light",children:"Branch"}),(0,g.jsx)("td",{className:"border p-2",children:l.Branch_Name}),(0,g.jsx)("td",{className:"border p-2 bg-light",children:"Delivery Person"}),(0,g.jsx)("td",{className:"border p-2",children:l.Delivery_Person_Name}),(0,g.jsx)("td",{className:"border p-2 bg-light",children:"Round off"}),(0,g.jsx)("td",{className:"border p-2",children:l.Round_off})]}),(0,g.jsxs)("tr",{children:[(0,g.jsx)("td",{className:"border p-2 bg-light",children:"Invoice Type"}),(0,g.jsxs)("td",{className:"border p-2",children:[(0,j.Qr)(l.GST_Inclusive,1)&&"Inclusive",(0,j.Qr)(l.GST_Inclusive,0)&&"Exclusive"]}),(0,g.jsx)("td",{className:"border p-2 bg-light",children:"Tax Type"}),(0,g.jsxs)("td",{className:"border p-2",children:[(0,j.Qr)(l.IS_IGST,1)&&"IGST",(0,j.Qr)(l.IS_IGST,0)&&"GST"]}),(0,g.jsx)("td",{className:"border p-2 bg-light",children:"Sales Person"}),(0,g.jsx)("td",{className:"border p-2",children:l.Sales_Person_Name})]}),(0,g.jsxs)("tr",{children:[(0,g.jsx)("td",{className:"border p-2 bg-light",children:"Narration"}),(0,g.jsx)("td",{className:"border p-2",colSpan:5,children:l.Narration})]})]})})})}}):(0,g.jsx)(N.c,{editValues:O,loadingOn:l,loadingOff:a,reload:()=>{V((e=>!e))},switchScreen:J})})]}),Object.keys(L).length>0&&(0,g.jsx)(p.c,{orderDetails:null===L||void 0===L?void 0:L.orderDetails,orderProducts:null===L||void 0===L?void 0:L.orderProducts,download:!0,actionOpen:!0,clearDetails:()=>w({}),TitleText:"Sale Order"}),(0,g.jsxs)(n.c,{open:G,fullWidth:!0,maxWidth:"sm",children:[(0,g.jsx)(o.c,{children:"Delete"}),(0,g.jsx)(v.c,{children:(0,g.jsx)("div",{children:"Are You Want to Move the order Into the Sale Order Again"})}),(0,g.jsx)(h.c,{children:(0,g.jsx)(u.c,{onClick:K,children:"close"})})]}),(0,g.jsxs)(n.c,{open:q.filters,onClose:K,fullWidth:!0,maxWidth:"sm",children:[(0,g.jsx)(o.c,{children:"Filters"}),(0,g.jsx)(v.c,{children:(0,g.jsx)("div",{className:"table-responsive pb-4",children:(0,g.jsx)("table",{className:"table",children:(0,g.jsxs)("tbody",{children:[(0,g.jsxs)("tr",{children:[(0,g.jsx)("td",{style:{verticalAlign:"middle"},children:"Retailer"}),(0,g.jsx)("td",{children:(0,g.jsx)(m.cp,{value:{value:null===Q||void 0===Q?void 0:Q.Retailer_Id,label:null===Q||void 0===Q?void 0:Q.RetailerGet},onChange:e=>W((0,s.c)((0,s.c)({},Q),{},{Retailer_Id:e.value,RetailerGet:e.label})),options:[{value:"",label:"ALL"},...I.map((e=>({value:null===e||void 0===e?void 0:e.Retailer_Id,label:null===e||void 0===e?void 0:e.Retailer_Name})))],styles:x.cF,isSearchable:!0,placeholder:"Retailer Name"})})]}),(0,g.jsxs)("tr",{children:[(0,g.jsx)("td",{style:{verticalAlign:"middle"},children:"Delivery Person"}),(0,g.jsx)("td",{children:(0,g.jsx)(m.cp,{value:{value:null===Q||void 0===Q?void 0:Q.Delivery_Person_Id,label:null===Q||void 0===Q?void 0:Q.Delivery_Person_Name},onChange:e=>W((0,s.c)((0,s.c)({},Q),{},{Delivery_Person_Id:e.value,Delivery_Person_Name:e.label})),options:[{value:"",label:"ALL"},...A.map((e=>({value:null===e||void 0===e?void 0:e.UserId,label:null===e||void 0===e?void 0:e.Name})))],styles:x.cF,isSearchable:!0,placeholder:"Delivery Person Name"})})]}),(0,g.jsxs)("tr",{children:[(0,g.jsx)("td",{style:{verticalAlign:"middle"},children:"Created By"}),(0,g.jsx)("td",{children:(0,g.jsx)(m.cp,{value:{value:null===Q||void 0===Q?void 0:Q.Created_by,label:null===Q||void 0===Q?void 0:Q.CreatedByGet},onChange:e=>W((0,s.c)((0,s.c)({},Q),{},{Created_by:e.value,CreatedByGet:e.label})),options:[{value:"",label:"ALL"},...P.map((e=>({value:null===e||void 0===e?void 0:e.UserId,label:null===e||void 0===e?void 0:e.Name})))],styles:x.cF,isSearchable:!0,placeholder:"Delivery Person Name"})})]}),(0,g.jsxs)("tr",{children:[(0,g.jsx)("td",{style:{verticalAlign:"middle"},children:"From"}),(0,g.jsx)("td",{children:(0,g.jsx)("input",{type:"date",value:Q.Fromdate,onChange:e=>W((0,s.c)((0,s.c)({},Q),{},{Fromdate:e.target.value})),className:"cus-inpt"})})]}),(0,g.jsxs)("tr",{children:[(0,g.jsx)("td",{style:{verticalAlign:"middle"},children:"To"}),(0,g.jsx)("td",{children:(0,g.jsx)("input",{type:"date",value:Q.Todate,onChange:e=>W((0,s.c)((0,s.c)({},Q),{},{Todate:e.target.value})),className:"cus-inpt"})})]}),(0,g.jsxs)("tr",{children:[(0,g.jsx)("td",{style:{verticalAlign:"middle"},children:"Canceled Order"}),(0,g.jsx)("td",{children:(0,g.jsxs)("select",{type:"date",value:Q.Cancel_status,onChange:e=>W((0,s.c)((0,s.c)({},Q),{},{Cancel_status:Number(e.target.value)})),className:"cus-inpt",children:[(0,g.jsx)("option",{value:1,children:"Show"}),(0,g.jsx)("option",{value:0,children:"Hide"})]})})]})]})})})}),(0,g.jsx)(h.c,{children:(0,g.jsx)(u.c,{onClick:K,children:"close"})})]})]})}},96064:(e,l,a)=>{a.d(l,{c:()=>r});var s=a(27664),d=a(82496);const r=(0,s.c)((0,d.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"}),"Add")},80156:(e,l,a)=>{a.d(l,{c:()=>r});var s=a(27664),d=a(82496);const r=(0,s.c)((0,d.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Clear")},56084:(e,l,a)=>{a.d(l,{c:()=>r});var s=a(27664),d=a(82496);const r=(0,s.c)((0,d.jsx)("path",{d:"M5 13h14v-2H5zm-2 4h14v-2H3zM7 7v2h14V7z"}),"ClearAll")},14499:(e,l,a)=>{a.d(l,{c:()=>r});var s=a(27664),d=a(82496);const r=(0,s.c)((0,d.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close")},45180:(e,l,a)=>{a.d(l,{c:()=>r});var s=a(27664),d=a(82496);const r=(0,s.c)((0,d.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"}),"Delete")},86e3:(e,l,a)=>{a.d(l,{c:()=>r});var s=a(27664),d=a(82496);const r=(0,s.c)((0,d.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"}),"Edit")},61988:(e,l,a)=>{a.d(l,{c:()=>r});var s=a(27664),d=a(82496);const r=(0,s.c)((0,d.jsx)("path",{d:"M4.25 5.61C6.27 8.2 10 13 10 13v6c0 .55.45 1 1 1h2c.55 0 1-.45 1-1v-6s3.72-4.8 5.74-7.39c.51-.66.04-1.61-.79-1.61H5.04c-.83 0-1.3.95-.79 1.61"}),"FilterAlt")},36992:(e,l,a)=>{a.d(l,{c:()=>r});var s=a(27664),d=a(82496);const r=(0,s.c)((0,d.jsx)("path",{d:"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3m3-10H5V5h10z"}),"Save")},84436:(e,l,a)=>{a.d(l,{c:()=>j});var s=a(45072),d=a(95656),r=a(69060),t=a(79736),i=a(21412),c=a(12556),n=a(49836),o=a(10099),v=a(33448);function h(e){return(0,v.cp)("MuiCardContent",e)}(0,o.c)("MuiCardContent",["root"]);var u=a(82496);const m=["className","component"],x=(0,c.cp)("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(e,l)=>l.root})((()=>({padding:16,"&:last-child":{paddingBottom:24}}))),j=r.forwardRef((function(e,l){const a=(0,n.C)({props:e,name:"MuiCardContent"}),{className:r,component:c="div"}=a,o=(0,d.c)(a,m),v=(0,s.c)({},a,{component:c}),j=(e=>{const{classes:l}=e;return(0,i.c)({root:["root"]},h,l)})(v);return(0,u.jsx)(x,(0,s.c)({as:c,className:(0,t.c)(j.root,r),ownerState:v,ref:l},o))}))}}]);
//# sourceMappingURL=5068.fd60e5b0.chunk.js.map
"use strict";(self.webpackChunkerp=self.webpackChunkerp||[]).push([[4676],{13724:(e,l,t)=>{t.d(l,{A5:()=>E,Om:()=>_,cp:()=>O,oN:()=>R});var n=t(69060),a=t(3358),s=t(5548),i=t(66931),o=t(89500),r=t(93996),d=t(14696),c=t(13224),u=t(27454),p=t(96464),m=t(43692),x=t(85624),h=t(99904),v=t(33856),g=t(58612),C=t(53248),b=t(29504),f=t(5930),y=t(39308),S=t(4284),j=t(41459),N=t(46864),A=t(76491),w=t(10728),D=t(49608),I=t(28064),F=(t(37692),t(35832)),T=t(82496);const P=(e,l)=>e.map((e=>{const t={};return l.forEach(((l,n)=>{if(l.isVisible||l.Defult_Display)if(l.isCustomCell&&l.Cell){const a=l.Cell({row:e}),s=l.ColumnHeader?String(l.ColumnHeader).replace(/\s+/g,"_").toLowerCase():`field_${n+1}`;"string"!==typeof a&&"number"!==typeof a&&"bigint"!==typeof a||(t[s]=a)}else{let n=l.Field_Name;t[n]=e[n]||""}})),t})),E=function(){let e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return{isVisible:arguments.length>5&&void 0!==arguments[5]?arguments[5]:1,Field_Name:arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",Fied_Data:arguments.length>1&&void 0!==arguments[1]?arguments[1]:"string",align:arguments.length>3&&void 0!==arguments[3]?arguments[3]:"left",verticalAlign:arguments.length>4&&void 0!==arguments[4]?arguments[4]:"center",...e&&{ColumnHeader:e}}},_=e=>{let{buttonsData:l=[],ToolTipText:t="Options"}=e;const[u,p]=(0,n.useState)(null),m=Boolean(u);return(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)(a.c,{title:t,children:(0,T.jsx)(s.c,{"aria-describedby":m,onClick:e=>{p(e.currentTarget)},className:"ms-2",size:"small",children:(0,T.jsx)(S.c,{})})}),(0,T.jsx)(i.cp,{open:m,anchorEl:u,onClose:()=>{p(null)},anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},children:(0,T.jsx)(o.c,{children:l.map(((e,l)=>(0,T.jsxs)(r.c,{onClick:()=>(null===e||void 0===e?void 0:e.onclick)&&(null===e||void 0===e?void 0:e.onclick()),disabled:null===e||void 0===e?void 0:e.disabled,children:[(0,T.jsx)(d.c,{children:null===e||void 0===e?void 0:e.icon}),(0,T.jsx)(c.c,{children:null===e||void 0===e?void 0:e.name})]},l)))})})]})},R=(e,l)=>{switch(l){case"number":return e?(0,y.SA)(e):e;case"date":return e?(0,y.uy)(e):e;case"time":return e?(0,y.AX)(e):e;case"string":return e;default:return""}},H=e=>{let{dataArray:l=[],columns:t=[],onClickFun:a=null,isExpendable:i=!1,expandableComp:o=null,tableMaxHeight:r=550,initialPageCount:d=20,EnableSerialNumber:c=!1,CellSize:S="small",disablePagination:E=!1,title:H="",PDFPrintOption:O=!1,ExcelPrintOption:k=!1,maxHeightOption:z=!1,ButtonArea:L=null,MenuButtons:$=[],bodyFontSizePx:V=13,headerFontSizePx:U=13}=e;const[B,M]=(0,n.useState)(0),[W,Q]=(0,n.useState)(d),[q,G]=(0,n.useState)([]),[J,Z]=(0,n.useState)(!0),K=J&&z?" max-content ":r,X=[{type:"left",class:"text-start"},{type:"right",class:"text-end"},{type:"center",class:"text-center"}],Y=[{type:"top",class:" vtop "},{type:"bottom",class:" vbottom "},{type:"center",class:" vctr "}],ee=(e=>{if(!q.length)return e;return[...e].sort(((e,l)=>{for(const t of q){const{columnId:n,direction:a}=t,s=e[n],i=l[n];if(s!==i)return"asc"===a?s>i?1:-1:s<i?1:-1}return 0}))})(l),le=B*W,te=le+W,ne=ee.slice(le,te),ae=e=>{let{row:l,index:r}=e;const[d,m]=(0,n.useState)(!1),x="20px";return(0,T.jsxs)(n.Fragment,{children:[(0,T.jsxs)(u.c,{children:[!0===i&&o&&(0,T.jsx)(p.c,{className:"border-end text-center vtop",sx:{fontSize:`${V}px`},children:(0,T.jsx)(s.c,{size:"small",onClick:()=>m((e=>!e)),children:d?(0,T.jsx)(j.c,{sx:{fontSize:x}}):(0,T.jsx)(N.c,{sx:{fontSize:x}})})}),!0===c&&(0,T.jsx)(p.c,{className:"border-end text-center vtop",sx:{fontSize:`${V}px`},children:W*B+r+1}),null===t||void 0===t?void 0:t.map(((e,t)=>{var n,s;const i=(0,y.Qr)(null===e||void 0===e?void 0:e.Defult_Display,1)||(0,y.Qr)(null===e||void 0===e?void 0:e.isVisible,1),o=Boolean(null===e||void 0===e?void 0:e.isCustomCell)&&e.Cell,d=!o,c=(l,t,n)=>null!==e&&void 0!==e&&e.tdClass?` ${null===e||void 0===e?void 0:e.tdClass({row:l,Field_Name:t,index:n})} `:"",u=e.align?null===(n=X.find((l=>l.type===String(e.align).toLowerCase())))||void 0===n?void 0:n.class:"",m=e.verticalAlign?null===(s=Y.find((l=>l.type===String(e.verticalAlign).toLowerCase())))||void 0===s?void 0:s.class:" vctr ";if(i&&d){const n=Object.entries(l).find((l=>{let[t]=l;return t===e.Field_Name}));return(0,T.jsx)(p.c,{className:`border-end ${u} ${m} ${c(l,e.Field_Name,r)}`,sx:{fontSize:`${V}px`},onClick:()=>a?a(l):console.log("Function not supplied"),children:n?R(n[1],null===e||void 0===e?void 0:e.Fied_Data):"-"},t)}return i&&o?(0,T.jsx)(p.c,{className:`border-end ${u} ${m} ${c(l,e.Field_Name,r)}`,sx:{fontSize:`${V}px`},children:e.Cell({row:l,Field_Name:e.Field_Name,index:r})},t):(0,T.jsx)(p.c,{sx:{fontSize:`${V}px`},className:`border-end ${u} ${m}`,children:"-"},t)}))]}),!0===i&&o&&d&&(0,T.jsx)(u.c,{children:(0,T.jsx)(p.c,{colSpan:Number(null===t||void 0===t?void 0:t.length)+(!0===c?2:1),children:o({row:l,index:r})})})]})};return(0,T.jsxs)(m.c,{className:"rounded-3 bg-white overflow-hidden",component:x.c,children:[(0,T.jsxs)("div",{className:"d-flex align-items-center flex-wrap px-3 py-2 flex-row-reverse ",children:[(O||k||$.length>0||z)&&(0,T.jsx)(_,{ToolTipText:"Table Options",buttonsData:[...z?[{name:"Max Height",icon:J?(0,T.jsx)(A.c,{fontSize:"small",color:"primary"}):(0,T.jsx)(w.c,{fontSize:"small"}),onclick:()=>Z((e=>!e)),disabled:(0,y.Qr)(null===l||void 0===l?void 0:l.length,0)}]:[],...O?[{name:"PDF Print",icon:(0,T.jsx)(D.c,{fontSize:"small",color:"primary"}),onclick:()=>((e,l)=>{try{const t=new I.default,n=P(e,l),a=l.filter((e=>e.isVisible||e.Defult_Display)).map((e=>e.Field_Name||String(e.ColumnHeader).replace(/\s+/g,"_").toLowerCase())),s=n.map((e=>a.map((l=>e[l])))).map(((e,l)=>({...e,Sno:l+1})));t.autoTable({head:[a],body:s}),t.save("table.pdf")}catch(t){console.error(t)}})(l,t),disabled:(0,y.Qr)(null===l||void 0===l?void 0:l.length,0)}]:[],...k?[{name:"Excel Print",icon:(0,T.jsx)(D.c,{fontSize:"small",color:"primary"}),onclick:()=>((e,l)=>{try{const t=P(e,l),n=F.c$.json_to_sheet(t),a=F.c$.book_new();F.c$.book_append_sheet(a,n,"Data"),F.a8(a,"table.xlsx")}catch(t){console.error(t)}})(l,t),disabled:(0,y.Qr)(null===l||void 0===l?void 0:l.length,0)}]:[],...$]}),L&&L,H&&(0,T.jsx)("h6",{className:"fw-bold text-muted flex-grow-1 m-0",children:H})]}),(0,T.jsx)(h.c,{sx:{maxHeight:K},children:(0,T.jsxs)(v.c,{stickyHeader:!0,size:S,children:[(0,T.jsx)(g.c,{children:(0,T.jsxs)(u.c,{children:[i&&o&&(0,T.jsx)(p.c,{className:"fw-bold border-end border-top text-center",sx:{fontSize:`${U}px`,backgroundColor:"#EDF0F7"},children:"#"}),c&&(0,T.jsx)(p.c,{className:"fw-bold border-end border-top text-center",sx:{fontSize:`${U}px`,backgroundColor:"#EDF0F7"},children:"SNo"}),t.map(((e,l)=>{const t=(0,y.Qr)(null===e||void 0===e?void 0:e.Defult_Display,1)||(0,y.Qr)(null===e||void 0===e?void 0:e.isVisible,1),n=!1===Boolean(null===e||void 0===e?void 0:e.isCustomCell)||!e.Cell,a=q.find((l=>l.columnId===e.Field_Name)),s=a?a.direction:"asc";var i,o,r,d;return t?n?(0,T.jsx)(p.c,{className:"fw-bold border-end border-top "+(e.align?null===(i=X.find((l=>l.type===String(e.align).toLowerCase())))||void 0===i?void 0:i.class:""),sx:{fontSize:`${U}px`,backgroundColor:"#EDF0F7"},sortDirection:!!a&&s,children:(0,T.jsx)(C.c,{active:!!a,direction:s,onClick:()=>(e=>{const l=q.find((l=>l.columnId===e));if(l){const t="asc"===l.direction;G(q.map((l=>l.columnId===e?{...l,direction:t?"desc":"asc"}:l)))}else G([...q,{columnId:e,direction:"asc"}])})(e.Field_Name),children:e.ColumnHeader||(null===e||void 0===e||null===(o=e.Field_Name)||void 0===o?void 0:o.replace(/_/g," "))})},l):(0,T.jsx)(p.c,{className:(e.ColumnHeader||null!==e&&void 0!==e&&e.Field_Name?" fw-bold border-end border-top p-2 appFont ":" p-0 ")+" "+(e.align?null===(r=X.find((l=>l.type===String(e.align).toLowerCase())))||void 0===r?void 0:r.class:""),sx:{fontSize:`${U}px`,backgroundColor:"#EDF0F7"},children:e.ColumnHeader||(null===e||void 0===e||null===(d=e.Field_Name)||void 0===d?void 0:d.replace(/_/g," "))},l):null}))]})}),(0,T.jsxs)(b.c,{children:[(E?ee:ne).map(((e,l)=>(0,T.jsx)(ae,{row:e,index:l},l))),0===l.length&&(0,T.jsx)(u.c,{children:(0,T.jsx)(p.c,{colSpan:t.length+(!0===i&&o?1:0)+(!0===c?1:0),sx:{textAlign:"center"},children:"No Data"})})]})]})}),!E&&0!==ne.length&&(0,T.jsx)("div",{className:"p-2 pb-0",children:(0,T.jsx)(f.c,{component:"div",count:l.length,page:B,onPageChange:(e,l)=>{M(l)},rowsPerPage:W,onRowsPerPageChange:e=>{Q(parseInt(e.target.value,10)),M(0)},rowsPerPageOptions:Array.from(new Set([d,5,20,50,100,200,500])).sort(((e,l)=>e-l)),labelRowsPerPage:"Rows per page",showFirstButton:!0,showLastButton:!0})})]})};H.defaultProps={dataArray:[],columns:[],onClickFun:null,isExpendable:!1,expandableComp:null,tableMaxHeight:550,initialPageCount:20,EnableSerialNumber:!1,CellSize:"small",disablePagination:!1,title:void 0,PDFPrintOption:!1,ExcelPrintOption:!1,maxHeightOption:!1,ButtonArea:null,MenuButtons:[],headerFontSizePx:13,bodyFontSizePx:13};const O=H},62344:(e,l,t)=>{t.d(l,{o$:()=>i,o5:()=>o,cF:()=>s,iI:()=>a,_8:()=>r});const n=t.p+"static/media/smt.aa4d4f940bbebff07a57.png",a={table:{style:{width:"auto",backgroundColor:"transparent"}},rows:{style:{backgroundColor:"transparent"}},headCells:{style:{backgroundColor:"#6b9080f8",color:"white",fontSize:"14px"}}},s={menu:(e,l)=>({...e,zIndex:9999}),menuPortal:e=>({...e,zIndex:9999}),groupHeading:e=>({...e,backgroundColor:"#f5f5f5",color:"#333",fontWeight:"bold",fontSize:"14px",padding:"8px 12px",borderBottom:"1px solid #ddd",textTransform:"uppercase"}),option:(e,l)=>({...e,backgroundColor:l.isSelected?"#2684FF":l.isFocused?"#E2ECF9":"white",color:l.isSelected?"white":"#333",padding:"10px 12px"})},i=[{id:1,headname:"Menu ID",variant:"head",align:"left",width:100},{id:2,headname:"MenuName"},{id:3,headname:"Read Rights"},{id:4,headname:"Add Rights"},{id:5,headname:"Edit Rights"},{id:6,headname:"Delete Rights"},{id:7,headname:"Print Rights"},{id:8,headname:"Action"}],o=[{dataBase:1,name:"SHANKAR TRADERS",business:"Wholesale Merchant in Dhall",address:"32, Chitrakara Street, Madurai - 01 <br /> Bill of Supply -Disclaimer Affidavlt Field Extemped",logo:n,gstin:"33AADFS6973R1ZD",phone:"984-313-1353, 984-335-5166",fssai:"12418012000818",bankAccount:"0021 5032 0885 122",ifsc:"TMBL0000002"},{dataBase:2,name:"SMT AGRO PRODUCTS",business:"",address:"H.O: 153, Chitrakara Street, 2nd Floor, Madurai -01 <br /> G.O: 746 Puliyur, Sayanapuram, Svga <br /> Bill of Supply -Disclaimer Affidavlt Field Extemped",logo:n,gstin:"33ACMFS3420Q1ZQ",phone:"0452-4371625",fssai:"12418012000818",bankAccount:"0025 3031 0875 947",ifsc:"TMBL0000002"},{dataBase:3,name:"BHAVANI TRADERS",business:"",address:"H.O: 152-A, Chitrakara Street, Madurai -01 <br /> G.O: 30/1-Rajman Nagar, Chintamani Main Road, Mdu-01 <br /> Tax Invoice",logo:n,gstin:"33AAEFB6728J1ZG",phone:"958-559-7641, 958-559-7614",fssai:"12418012000670",bankAccount:"0021 5005 0800 309",ifsc:"TMBL0000002"}],r=[{name:"PURCHASE_ORDER"},{name:"PURCHASE_INVOICE"},{name:"SALE_ORDER"},{name:"SALE_INVOICE"},{name:"JOURNAL"},{name:"STOCK_JOURNAL"},{name:"PAYMENT"},{name:"RECEIPT"},{name:"CONTRA"}]},94976:(e,l,t)=>{t.r(l),t.d(l,{default:()=>C});var n=t(69060),a=t(82656),s=t(26773),i=t(4488),o=t(90048),r=t(99852),d=t(62344),c=t(1908),u=t(13724),p=t(77536),m=t(43692),x=t(84436),h=t(89e3),v=t(56480),g=t(82496);const C=function(e){let{loadingOn:l,loadingOff:t}=e;const C={FromDate:(new Date).toISOString().split("T")[0],ToDate:(new Date).toISOString().split("T")[0],EmpId:"0",Name:"ALL"},b=JSON.parse(localStorage.getItem("user")),[f,y]=(0,n.useState)(!1),[S,j]=(0,n.useState)(!1),[N,A]=(0,n.useState)(C),[w,D]=(0,n.useState)([]),{contextObj:I}=(0,n.useContext)(p.a),F=null===I||void 0===I?void 0:I.Add_Rights,[T,P]=(0,n.useState)("ALL"),[E,_]=(0,n.useState)(!1),[R,H]=(0,n.useState)((new Date).toISOString().split("T")[0]),[O,k]=(0,n.useState)((new Date).toISOString().split("T")[0]),[z,L]=(0,n.useState)(.5),[$,V]=(0,n.useState)("FN"),[U,B]=(0,n.useState)([]),[M,W]=(0,n.useState)(null),[Q,q]=(0,n.useState)([]),[G,J]=(0,n.useState)(null),[Z,K]=(0,n.useState)(""),[X,Y]=(0,n.useState)(""),[ee,le]=(0,n.useState)([]),[te,ne]=(0,n.useState)(null),[ae,se]=(0,n.useState)([]),[ie,oe]=(0,n.useState)(!1),[re,de]=(0,n.useState)([]),[ce,ue]=(0,n.useState)(null),[pe,me]=(0,n.useState)(""),[xe,he]=(0,n.useState)([]),[ve,ge]=(0,n.useState)({EmpId:null,Name:""});(0,n.useEffect)((()=>{const e=null===b||void 0===b?void 0:b.UserTypeId,l=null===b||void 0===b?void 0:b.UserId,t=null===b||void 0===b?void 0:b.Company_id;(0,c.q)({address:`masters/users/employee/dropDown?Company_id=${t}`,headers:{Authorization:`Bearer ${localStorage.getItem("Autheticate_Id")}`}}).then((t=>{if(t.success){let n=[];const a=t.data.map((e=>({value:e.UserId,label:e.Name})));le(a),1===Number(e)||0===Number(e)||1===Number(F)?(n=t.data,A((e=>({...e,EmpId:0,Name:"ALL"}))),j(!1),P("ALL")):(n=t.data.filter((e=>e.UserId===l)),A((e=>({...e,EmpId:l,Name:null===b||void 0===b?void 0:b.Name}))),j(!0),P(null===b||void 0===b?void 0:b.Name)),D(n),he(n)}})).catch((e=>console.error("Error fetching employees:",e)))}),[null===b||void 0===b?void 0:b.UserTypeId,null===b||void 0===b?void 0:b.UserId,null===b||void 0===b?void 0:b.Company_id,null===b||void 0===b?void 0:b.Name,f]),(0,n.useEffect)((()=>{(0,c.q)({address:"masters/leaveType/dropDown"}).then((e=>{e.success&&B(e)}))}),[]),(0,n.useEffect)((()=>{const e=null===b||void 0===b?void 0:b.UserId;(0,c.q)({address:`masters/approveData?userId=${e}`,headers:{Authorization:`Bearer ${localStorage.getItem("Autheticate_Id")}`}}).then((e=>{e.success&&de(e.data)})).catch((e=>console.error("Error fetching departments:",e)))}),[ie,f]),(0,n.useEffect)((()=>{const e=null===b||void 0===b?void 0:b.Company_id;(0,c.q)({address:`empAttendance/department?Company_id=${e}`,headers:{Authorization:`Bearer ${localStorage.getItem("Autheticate_Id")}`}}).then((e=>{if(e.success&&e.others&&e.others.department){const l=e.others.department.map((e=>({value:e.value,label:e.label})));q(l)}})).catch((e=>console.error("Error fetching departments:",e)))}),[null===b||void 0===b?void 0:b.Company_id,f]);const Ce=(e,l)=>{"from"===e?(H(l),ye(l,O,$)):(k(l),ye(R,l,$))},be=e=>{V(e),ye(R,O,e)},fe=()=>{ge({EmpId:"",Name:""}),H((new Date).toISOString().split("T")[0]),k((new Date).toISOString().split("T")[0]),V("Full"),L(1),W(null),J(null),ne(null),K(""),Y("")};(0,n.useEffect)((()=>{(()=>{const e=null===b||void 0===b?void 0:b.UserTypeId,l=(null===N||void 0===N?void 0:N.EmpId)||(null===b||void 0===b?void 0:b.UserId);(0,c.q)({address:`masters/leave?UserId=${l}&UserTypeId=${e}`,headers:{Authorization:`Bearer ${localStorage.getItem("Autheticate_Id")}`}}).then((e=>{e.success&&se(e.data)})).catch((e=>console.error("Error fetching departments:",e)))})()}),[null===b||void 0===b?void 0:b.Company_id,f]);const ye=(e,l,t)=>{const n=new Date(e),a=new Date(l);if(n.toDateString()===a.toDateString())L("Full"===t?1:.5);else{const e=Math.abs(a-n),l=Math.floor(e/864e5)+1;L(l)}};return(0,n.useEffect)((()=>{const e="0"===(null===N||void 0===N?void 0:N.EmpId)?"":null===N||void 0===N?void 0:N.EmpId,l=null===N||void 0===N?void 0:N.FromDate,t=null===N||void 0===N?void 0:N.ToDate;l&&t&&(0,c.q)({address:`masters/leave?UserId=${e}&FromDate=${l}&ToDate=${t}`,headers:{Authorization:`Bearer ${localStorage.getItem("Autheticate_Id")}`}}).then((e=>{e.success&&se(e.data||[])})).catch((e=>console.error("Error fetching leave data:",e)))}),[null===N||void 0===N?void 0:N.EmpId,null===N||void 0===N?void 0:N.FromDate,null===N||void 0===N?void 0:N.ToDate,f]),(0,n.useEffect)((()=>{z>=1&&V("Full")}),[z]),(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(m.c,{children:(0,g.jsxs)(x.c,{sx:{minHeight:"50vh"},children:[(0,g.jsx)("div",{className:"ps-3 pb-2 pt-0 d-flex align-items-center justify-content-between border-bottom mb-3",children:(0,g.jsx)("h6",{className:"fa-18",children:"Leave Master"})}),(0,g.jsxs)("div",{className:"mb-3",style:{display:"flex",justifyContent:"space-between",flexWrap:"wrap",alignItems:"flex-end"},children:[(0,g.jsxs)("div",{style:{display:"flex",flexWrap:"wrap",flex:1},children:[(0,g.jsxs)("div",{style:{width:"200px",marginRight:"10px"},children:[(0,g.jsx)("label",{children:"Employee"}),(0,g.jsx)(r.cp,{className:"w-100",classNamePrefix:"react-select",value:{value:null===N||void 0===N?void 0:N.EmpId,label:null===N||void 0===N?void 0:N.Name},onChange:e=>A({...N,EmpId:e.value,Name:e.label}),options:[{value:0,label:"ALL"},...w.map((e=>({value:null===e||void 0===e?void 0:e.UserId,label:null===e||void 0===e?void 0:e.Name})))],isSearchable:!0,isDisabled:S,styles:d.cF,placeholder:T})]}),(0,g.jsxs)("div",{style:{width:"140px",marginRight:"10px"},children:[(0,g.jsx)("label",{children:"From Date"}),(0,g.jsx)("input",{type:"date",onChange:e=>A({...N,FromDate:e.target.value}),value:null===N||void 0===N?void 0:N.FromDate,className:"form-control"})]}),(0,g.jsxs)("div",{style:{width:"140px",marginRight:"10px"},children:[(0,g.jsx)("label",{children:"To Date"}),(0,g.jsx)("input",{type:"date",onChange:e=>A({...N,ToDate:e.target.value}),value:null===N||void 0===N?void 0:N.ToDate,className:"form-control"})]})]}),(0,g.jsxs)("div",{style:{display:"flex",alignItems:"flex-end",gap:"10px"},children:[(0,g.jsxs)("div",{style:{width:"100px"},children:[(0,g.jsx)("label",{style:{visibility:"hidden"},children:"Apply"}),(0,g.jsx)("button",{className:"btn btn-primary w-100",onClick:()=>{_(!0)},children:"Apply"})]}),(0,g.jsx)("button",{className:"btn btn-primary w-50",onClick:()=>{oe(!ie)},children:ie?"Home":"Approve"})]})]}),ie?(0,g.jsx)(u.cp,{dataArray:re,columns:[{isCustomCell:!0,Cell:e=>{let{row:l}=e;return l.UserName||"--"},ColumnHeader:"UserName",isVisible:1,width:"20%",CellProps:{sx:{padding:"10px",textAlign:"center",color:"gray"}}},{isCustomCell:!0,Cell:e=>{let{row:l}=e;return l.FromDate.split("T")[0]},ColumnHeader:"FromDate",isVisible:1,width:"20%",CellProps:{sx:{padding:"10px",textAlign:"left",fontWeight:"bold"}}},{isCustomCell:!0,Cell:e=>{let{row:l}=e;return l.ToDate.split("T")[0]},ColumnHeader:"ToDate",isVisible:1,width:"20%",CellProps:{sx:{padding:"10px",textAlign:"left",fontWeight:"bold"}}},{isCustomCell:!0,Cell:e=>{let{row:l}=e;return l.LeaveType||"--"},ColumnHeader:"Leave Type",isVisible:1,width:"20%",CellProps:{sx:{padding:"10px",textAlign:"center",color:"gray"}}},{isCustomCell:!0,Cell:e=>{let{row:l}=e;return l.NoOfDays||"--"},ColumnHeader:"NoOfDays",isVisible:1,width:"20%",CellProps:{sx:{padding:"10px",textAlign:"center",color:"gray"}}},{isCustomCell:!0,Cell:e=>{let{row:l}=e;return l.Session||"--"},ColumnHeader:"Session",isVisible:1,width:"20%",CellProps:{sx:{padding:"10px",textAlign:"center",color:"gray"}}},{isCustomCell:!0,Cell:e=>{let{row:l}=e;return l.Department||"--"},ColumnHeader:"Department",isVisible:1,width:"20%",CellProps:{sx:{padding:"10px",textAlign:"center",color:"gray"}}},{isCustomCell:!0,Cell:e=>{let{row:l}=e;return l.Reason||"--"},ColumnHeader:"Reason",isVisible:1,width:"20%",CellProps:{sx:{padding:"10px",textAlign:"center",color:"gray"}}},{isCustomCell:!0,Cell:e=>{let{row:l}=e;return l.Approver_Reason||"--"},ColumnHeader:"Approver_Reason",isVisible:1,width:"20%",CellProps:{sx:{padding:"10px",textAlign:"center",color:"gray"}}},{isCustomCell:!0,Cell:e=>{let{row:l}=e;return l.ApproverName||"--"},ColumnHeader:"Approver",isVisible:1,width:"20%",CellProps:{sx:{padding:"10px",textAlign:"center",color:"gray"}}},{isCustomCell:!0,Cell:e=>{let{row:l}=e;return l.Status||"--"},ColumnHeader:"Status",isVisible:1,width:"20%",CellProps:{sx:{padding:"10px",textAlign:"center",color:"gray"}}},{isCustomCell:!0,ColumnHeader:"Actions",isVisible:1,width:"10%",Cell:e=>{let{row:l}=e;return(0,g.jsx)("button",{className:"btn btn-sm btn-outline-primary",onClick:()=>(e=>{var l,t,n;ue(e),ge({EmpId:Number(e.User_Id),Name:e.UserName}),H(null===(l=e.FromDate)||void 0===l?void 0:l.split("T")[0]),k(null===(t=e.ToDate)||void 0===t?void 0:t.split("T")[0]),V(e.Session),L(e.NoOfDays);const a=null===(n=U.data)||void 0===n?void 0:n.find((l=>{var t,n;return(null===(t=l.Id)||void 0===t?void 0:t.toString())===(null===(n=e.LeaveType_Id)||void 0===n?void 0:n.toString())}));W(a||null);const s=Q.find((l=>l.label===e.Department));J(s||null);const i=ee.find((l=>l.value===Number(e.InCharge)||l.Id===Number(e.InCharge)));me(e.Status),ne(i||{value:Number(e.InCharge),label:e.InChargeName}),K(e.Reason),Y(e.Approver_Reason),_(!0)})(l),children:"Edit"})},CellProps:{sx:{padding:"10px",textAlign:"center"}}}],EnableSerialNumber:!0,CellSize:"small",disablePagination:!1}):(0,g.jsx)(u.cp,{dataArray:ae,columns:[{isCustomCell:!0,Cell:e=>{let{row:l}=e;return l.UserName||"--"},ColumnHeader:"UserName",isVisible:1,width:"20%",CellProps:{sx:{padding:"10px",textAlign:"center",color:"gray"}}},{isCustomCell:!0,Cell:e=>{let{row:l}=e;return l.FromDate.split("T")[0]},ColumnHeader:"FromDate",isVisible:1,width:"20%",CellProps:{sx:{padding:"10px",textAlign:"left",fontWeight:"bold"}}},{isCustomCell:!0,Cell:e=>{let{row:l}=e;return l.ToDate.split("T")[0]},ColumnHeader:"ToDate",isVisible:1,width:"20%",CellProps:{sx:{padding:"10px",textAlign:"left",fontWeight:"bold"}}},{isCustomCell:!0,Cell:e=>{let{row:l}=e;return l.LeaveType||"--"},ColumnHeader:"Leave Type",isVisible:1,width:"20%",CellProps:{sx:{padding:"10px",textAlign:"center",color:"gray"}}},{isCustomCell:!0,Cell:e=>{let{row:l}=e;return l.NoOfDays||"--"},ColumnHeader:"NoOfDays",isVisible:1,width:"20%",CellProps:{sx:{padding:"10px",textAlign:"center",color:"gray"}}},{isCustomCell:!0,Cell:e=>{let{row:l}=e;return l.Session||"--"},ColumnHeader:"Session",isVisible:1,width:"20%",CellProps:{sx:{padding:"10px",textAlign:"center",color:"gray"}}},{isCustomCell:!0,Cell:e=>{let{row:l}=e;return l.Department||"--"},ColumnHeader:"Department",isVisible:1,width:"20%",CellProps:{sx:{padding:"10px",textAlign:"center",color:"gray"}}},{isCustomCell:!0,Cell:e=>{let{row:l}=e;return l.Reason||"--"},ColumnHeader:"Reason",isVisible:1,width:"20%",CellProps:{sx:{padding:"10px",textAlign:"center",color:"gray"}}},{isCustomCell:!0,Cell:e=>{let{row:l}=e;return l.Approver_Reason||"--"},ColumnHeader:"Approver_Reason",isVisible:1,width:"20%",CellProps:{sx:{padding:"10px",textAlign:"center",color:"gray"}}},{isCustomCell:!0,Cell:e=>{let{row:l}=e;return l.ApproverName||"--"},ColumnHeader:"Approver",isVisible:1,width:"20%",CellProps:{sx:{padding:"10px",textAlign:"center",color:"gray"}}},{isCustomCell:!0,Cell:e=>{let{row:l}=e;return l.Status||"--"},ColumnHeader:"Status",isVisible:1,width:"20%",CellProps:{sx:{padding:"10px",textAlign:"center",color:"gray"}}}],EnableSerialNumber:!0,CellSize:"small",disablePagination:!1})]})}),(0,g.jsxs)(a.c,{open:E,onClose:()=>{_(!1),fe(),ue(null)},fullWidth:!0,maxWidth:"sm",children:[(0,g.jsx)(s.c,{children:ce?"Approve Form":"Leave Apply Form"}),(0,g.jsx)(i.c,{children:(0,g.jsx)("div",{className:"table-responsive pb-4",children:(0,g.jsx)("table",{className:"table",children:(0,g.jsxs)("tbody",{children:[(0,g.jsxs)("tr",{children:[(0,g.jsx)("td",{children:(0,g.jsx)("label",{children:"Employee"})}),(0,g.jsx)("td",{children:(0,g.jsx)(r.cp,{value:ve.EmpId?{value:ve.EmpId,label:ve.Name}:null,onChange:e=>ge({EmpId:e.value,Name:e.label}),options:w.map((e=>({value:e.UserId,label:e.Name})))})})]}),(0,g.jsxs)("tr",{children:[(0,g.jsx)("td",{children:"From"}),(0,g.jsx)("td",{children:(0,g.jsx)("input",{type:"date",className:"cus-inpt",value:R,onChange:e=>Ce("from",e.target.value)})})]}),(0,g.jsxs)("tr",{children:[(0,g.jsx)("td",{children:"To"}),(0,g.jsx)("td",{children:(0,g.jsx)("input",{type:"date",className:"cus-inpt",value:O,onChange:e=>Ce("to",e.target.value)})})]}),(0,g.jsxs)("tr",{children:[(0,g.jsx)("td",{children:"Session"}),(0,g.jsx)("td",{children:(0,g.jsxs)("div",{style:{display:"flex",gap:"1rem"},children:[(0,g.jsxs)("label",{children:[(0,g.jsx)("input",{type:"radio",name:"session",value:"FN",checked:"FN"===$,onChange:()=>be("FN"),disabled:z>=1})," ","FN"]}),(0,g.jsxs)("label",{children:[(0,g.jsx)("input",{type:"radio",name:"session",value:"AN",checked:"AN"===$,onChange:()=>be("AN"),disabled:z>=1})," ","AN"]}),(0,g.jsxs)("label",{children:[(0,g.jsx)("input",{type:"radio",name:"session",value:"Full",checked:"Full"===$,onChange:()=>be("Full")})," ","Full"]})]})})]}),(0,g.jsxs)("tr",{children:[(0,g.jsx)("td",{children:"No of Days"}),(0,g.jsx)("td",{children:(0,g.jsx)("input",{className:"cus-inpt",value:z,disabled:!0,placeholder:"No of Days"})})]}),(0,g.jsxs)("tr",{children:[(0,g.jsx)("td",{style:{verticalAlign:"middle"},children:"Leave Type"}),(0,g.jsx)("td",{children:(0,g.jsx)(r.cp,{value:M?{value:M.Id,label:M.LeaveType}:null,onChange:e=>{W({Id:e.value,LeaveType:e.label})},options:Array.isArray(U.data)?U.data.map((e=>({value:e.Id,label:e.LeaveType}))):[],styles:d.cF,isSearchable:!0,placeholder:"Leave Type"})})]}),(0,g.jsxs)("tr",{children:[(0,g.jsx)("td",{style:{verticalAlign:"middle"},children:"Department"}),(0,g.jsx)("td",{children:(0,g.jsx)(r.cp,{value:null!==G&&void 0!==G&&G.label?G:null,onChange:e=>{J(e)},options:Q,styles:d.cF,isSearchable:!0,placeholder:"Select Department"})})]}),(0,g.jsxs)("tr",{children:[(0,g.jsx)("td",{style:{verticalAlign:"middle"},children:"InCharge"}),(0,g.jsx)("td",{children:(0,g.jsx)(r.cp,{styles:d.cF,menuPortalTarget:document.body,isSearchable:!0,placeholder:"Select InCharge",options:ee,value:te,onChange:e=>ne(e)})})]}),(0,g.jsxs)("tr",{children:[(0,g.jsx)("td",{style:{verticalAlign:"middle"},children:"Reason"}),(0,g.jsx)("td",{children:(0,g.jsx)("input",{type:"text",className:"cus-inpt",value:Z,onChange:e=>K(e.target.value)})})]}),(0,g.jsx)("tr",{children:ce&&(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("td",{style:{verticalAlign:"middle"},children:"Status"}),(0,g.jsx)("td",{children:(0,g.jsx)(r.cp,{value:pe?{value:pe,label:pe}:null,onChange:e=>{me(e.value)},options:[{value:"Pending",label:"Pending"},{value:"Approved",label:"Approved"},{value:"Rejected",label:"Rejected"}],styles:d.cF,isSearchable:!1,placeholder:"Select Status"})})]})}),(0,g.jsx)("tr",{children:ce&&(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("td",{style:{verticalAlign:"middle"},children:"Approver Reason"}),(0,g.jsx)("td",{children:(0,g.jsx)("input",{type:"text",className:"cus-inpt",value:X,onChange:e=>Y(e.target.value)})})]})})]})})})}),(0,g.jsxs)(o.c,{children:[(0,g.jsx)(h.c,{onClick:()=>{_(!1),fe(),ue(null)},children:"Cancel"}),(0,g.jsx)(h.c,{onClick:()=>{try{const e=!(null===ce||void 0===ce||!ce.Id),l={User_Id:Number(ve.EmpId),FromDate:R,ToDate:O,Session:$,NoOfDays:parseFloat(z),LeaveType_Id:Number(null===M||void 0===M?void 0:M.Id),Department:(null===G||void 0===G?void 0:G.label)||"",InCharge:Number((null===te||void 0===te?void 0:te.value)||(null===te||void 0===te?void 0:te.Id)),Reason:Z,Created_By:b?null===b||void 0===b?void 0:b.UserId:null,Approved_By:b?null===b||void 0===b?void 0:b.UserId:null,Status:pe,Approver_Reason:X};e&&(l.Id=Number(ce.Id)),(0,c.q)({address:"masters/leave",method:e?"PUT":"POST",bodyData:l}).then((e=>{e.success?(fe(),_(!1),y(!f),ue(null)):v.m4.error(e.message)})).catch((e=>console.error(e)))}catch(e){console.error("Failed to submit",e)}},children:"Apply"})]})]})]})}},84436:(e,l,t)=>{t.d(l,{c:()=>v});var n=t(45072),a=t(95656),s=t(69060),i=t(79736),o=t(21412),r=t(12556),d=t(49836),c=t(10099),u=t(33448);function p(e){return(0,u.cp)("MuiCardContent",e)}(0,c.c)("MuiCardContent",["root"]);var m=t(82496);const x=["className","component"],h=(0,r.cp)("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(e,l)=>l.root})((()=>({padding:16,"&:last-child":{paddingBottom:24}}))),v=s.forwardRef((function(e,l){const t=(0,d.C)({props:e,name:"MuiCardContent"}),{className:s,component:r="div"}=t,c=(0,a.c)(t,x),u=(0,n.c)({},t,{component:r}),v=(e=>{const{classes:l}=e;return(0,o.c)({root:["root"]},p,l)})(u);return(0,m.jsx)(h,(0,n.c)({as:r,className:(0,i.c)(v.root,s),ownerState:u,ref:l},c))}))}}]);
//# sourceMappingURL=4676.86f1c62a.chunk.js.map
"use strict";(self.webpackChunkerp=self.webpackChunkerp||[]).push([[1024],{91024:(e,s,t)=>{t.r(s),t.d(s,{default:()=>g});var a=t(69060),l=t(1908),r=t(39308),c=t(13724),n=t(43692),o=t(89e3),i=t(56480),d=t(87016),h=t(71412),u=t(82496);const g=e=>{let{loadingOn:s,loadingOff:t}=e;const[g,y]=(0,a.useState)([]),[S,m]=(0,a.useState)([]),p=(0,r.gV)().user,[x,v]=(0,a.useState)({refresh:!1,viewNotSynced:!1,searchERPLos:"",searchTallyLos:"",searchNotSynced:""});(0,a.useEffect)((()=>{s&&s(),(0,l.q)({address:"masters/tallyMaster/items",headers:{Db:null===p||void 0===p?void 0:p.Company_id}}).then((e=>{if(e.success){var s,t;const a=Array.isArray(null===e||void 0===e||null===(s=e.others)||void 0===s?void 0:s.tallyResult)?null===e||void 0===e||null===(t=e.others)||void 0===t?void 0:t.tallyResult:[];y(e.data),m(a)}})).catch((e=>console.error(e))).finally((()=>{t&&t()}))}),[x.refresh]);const j=(0,a.useMemo)((()=>S.filter((e=>!g.some((s=>(0,r.Qr)(e.Stock_Tally_Id,s.Stock_Tally_Id)))))),[g.length,S.length]),f=(0,a.useMemo)((()=>x.searchERPLos?g.filter((e=>(0,r.MP)(Object.values(e).join(" ")).includes((0,r.MP)(x.searchERPLos)))):g),[x.searchERPLos,g.length]),A=(0,a.useMemo)((()=>x.searchTallyLos?S.filter((e=>(0,r.MP)(Object.values(e).join(" ")).includes((0,r.MP)(x.searchTallyLos)))):S),[x.searchTallyLos,S.length]),N=(0,a.useMemo)((()=>x.searchNotSynced?j.filter((e=>(0,r.MP)(Object.values(e).join(" ")).includes((0,r.MP)(x.searchNotSynced)))):j),[j.length,x.searchNotSynced]);return(0,u.jsx)(u.Fragment,{children:(0,u.jsxs)(n.c,{children:[(0,u.jsxs)("div",{className:"px-3 py-2 fa-14",children:[(0,u.jsxs)("div",{className:"d-flex flex-wrap align-items-center",children:[(0,u.jsxs)("h5",{className:"flex-grow-1",children:["LOS SYNC (Differents: ",j.length,")"]}),(0,u.jsx)(o.c,{size:"small",onClick:()=>{s&&s(),(0,l.q)({address:"masters/products/losSync",method:"POST"}).then((e=>{e.success?(i.m4.success(e.message),v((e=>({...e,refresh:!e.refresh})))):i.m4.error(e.message)})).catch((e=>console.error(e))).finally((()=>{t&&t()}))},startIcon:(0,u.jsx)(d.c,{}),children:"Sync now"}),(0,u.jsx)(o.c,{size:"small",onClick:()=>v((e=>({...e,viewNotSynced:!e.viewNotSynced}))),startIcon:(0,u.jsx)(h.c,{}),children:"View Not Synced"})]}),(0,u.jsx)("div",{className:"d-flex flex-wrap align-items-center"})]}),x.viewNotSynced?(0,u.jsx)(c.cp,{title:"Not synced list ",bodyFontSizePx:11,headerFontSizePx:11,dataArray:N,columns:[(0,c.A5)("Stock_Tally_Id","string","Tally ID"),(0,c.A5)("Stock_Item","string"),(0,c.A5)("Brand","string","MobileNo"),(0,c.A5)("Group_ST","string"),(0,c.A5)("Bag","string"),(0,c.A5)("Stock_Group","string")],ButtonArea:(0,u.jsx)(u.Fragment,{children:(0,u.jsx)("input",{type:"search",className:"cus-inpt p-1 w-auto",value:x.searchNotSynced,onChange:e=>v((s=>({...s,searchNotSynced:e.target.value}))),placeholder:"Search.."})})}):(0,u.jsx)(u.Fragment,{children:(0,u.jsxs)("div",{className:"row",children:[(0,u.jsx)("div",{className:"col-lg-6 p-1",children:(0,u.jsx)(c.cp,{title:"ERP - "+g.length,bodyFontSizePx:11,headerFontSizePx:11,dataArray:f,columns:[(0,c.A5)("Stock_Tally_Id","string","Tally ID"),(0,c.A5)("Stock_Item","string"),(0,c.A5)("Brand","string","MobileNo"),(0,c.A5)("Group_ST","string"),(0,c.A5)("Bag","string"),(0,c.A5)("Stock_Group","string")],ButtonArea:(0,u.jsx)(u.Fragment,{children:(0,u.jsx)("input",{type:"search",className:"cus-inpt p-1 w-auto",value:x.searchERPLos,onChange:e=>v((s=>({...s,searchERPLos:e.target.value}))),placeholder:"Search.."})})})}),(0,u.jsx)("div",{className:"col-lg-6 p-1",children:(0,u.jsx)(c.cp,{title:"Tally - "+S.length,bodyFontSizePx:11,headerFontSizePx:11,dataArray:A,columns:[(0,c.A5)("Stock_Tally_Id","string","Tally ID"),(0,c.A5)("Stock_Item","string"),(0,c.A5)("Brand","string","MobileNo"),(0,c.A5)("Group_ST","string"),(0,c.A5)("Bag","string"),(0,c.A5)("Stock_Group","string")],ButtonArea:(0,u.jsx)(u.Fragment,{children:(0,u.jsx)("input",{type:"search",className:"cus-inpt p-1 w-auto",value:x.searchTallyLos,onChange:e=>v((s=>({...s,searchTallyLol:e.target.value}))),placeholder:"Search.."})})})})]})})]})})}},87016:(e,s,t)=>{t.d(s,{c:()=>r});var a=t(27664),l=t(82496);const r=(0,a.c)((0,l.jsx)("path",{d:"M12 4V1L8 5l4 4V6c3.31 0 6 2.69 6 6 0 1.01-.25 1.97-.7 2.8l1.46 1.46C19.54 15.03 20 13.57 20 12c0-4.42-3.58-8-8-8m0 14c-3.31 0-6-2.69-6-6 0-1.01.25-1.97.7-2.8L5.24 7.74C4.46 8.97 4 10.43 4 12c0 4.42 3.58 8 8 8v3l4-4-4-4z"}),"Sync")},71412:(e,s,t)=>{t.d(s,{c:()=>r});var a=t(27664),l=t(82496);const r=(0,a.c)((0,l.jsx)("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5M12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5m0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"}),"Visibility")}}]);
//# sourceMappingURL=1024.047280fe.chunk.js.map
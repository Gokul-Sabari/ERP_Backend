"use strict";(self.webpackChunkerp=self.webpackChunkerp||[]).push([[4500],{84500:(e,t,s)=>{s.r(t),s.d(t,{default:()=>C});var a=s(30800),c=s(69060),r=s(56480),n=s(42136),o=s(99904),i=s(33856),l=s(58612),d=s(27454),p=s(700),u=s(53248),y=s(29504),m=s(5548),x=s(82656),h=s(26773),b=s(4488),T=s(90048),v=s(86e3),f=s(45180),k=s(1908),j=s(82496);const g=e=>{let{open:t,onClose:s,existingTaskType:r,onCreate:n,onUpdate:o}=e;const[i,l]=c.useState({Task_Type:"",Task_Type_Id:""});(0,c.useEffect)((()=>{l(r||{Task_Type:"",Task_Type_Id:""})}),[r]);return(0,j.jsxs)(x.c,{open:t,onClose:s,children:[(0,j.jsx)(h.c,{className:"bg-primary text-white mb-2 px-3 py-2",children:r?"Edit Task Type":"Create Task Type"}),(0,j.jsx)(b.c,{children:(0,j.jsxs)("form",{onSubmit:e=>{e.preventDefault(),r?o(i):n(i.Task_Type),s()},children:[(0,j.jsxs)("div",{className:"p-2",children:[(0,j.jsx)("label",{children:"Task Type"}),(0,j.jsx)("input",{type:"text",onChange:e=>l((0,a.c)((0,a.c)({},i),{},{Task_Type:e.target.value})),value:i.Task_Type,className:"cus-inpt"})]}),(0,j.jsxs)(T.c,{children:[(0,j.jsx)("button",{className:"btn btn-light rounded-5 px-3",type:"button",onClick:s,children:"Cancel"}),(0,j.jsx)("button",{className:"btn btn-primary rounded-5 px-3",type:"submit",children:r?"Update":"Create"})]})]})})]})},C=()=>{const[e,t]=(0,c.useState)([]),[s,C]=(0,c.useState)(!1),[N,w]=(0,c.useState)(!1),[S,_]=(0,c.useState)(null),[D,I]=(0,c.useState)(!1),[E,L]=(0,c.useState)("asc"),[M,z]=(0,c.useState)("Task_Type_Id");(0,c.useEffect)((()=>{(async()=>{try{const e=await(0,k.q)({address:"masters/taskType"});e.success?t(e.data):r.m4.error("Failed to fetch task types: "+e.message)}catch(e){console.error(e),r.m4.error("Error fetching task types.")}})()}),[s]);const R=()=>{w(!1)},F=[...e].sort(((e,t)=>{const s=e[M],a=t[M];return"asc"===E?s<a?-1:1:s>a?-1:1}));return(0,j.jsxs)(c.Fragment,{children:[(0,j.jsxs)("div",{className:"card",children:[(0,j.jsxs)("div",{className:"card-header bg-white fw-bold d-flex align-items-center justify-content-between",children:["Task Types",(0,j.jsx)(n.c,{className:"rounded-5 px-3 py-1 fa-13 shadow",onClick:()=>{_(null),I(!0)},children:"Create Task Type"})]}),(0,j.jsx)("div",{className:"card-body overflow-scroll",style:{maxHeight:"78vh"},children:(0,j.jsx)(o.c,{children:(0,j.jsxs)(i.c,{children:[(0,j.jsx)(l.c,{children:(0,j.jsx)(d.c,{children:[{id:"index",label:"Id No",sort:!1},{id:"Task_Type",label:"Task Type",sort:!0},{id:"actions",label:"Actions",sort:!1}].map((e=>(0,j.jsx)(p.c,{sx:{padding:"4px 8px"},children:e.sort?(0,j.jsx)(u.c,{active:M===e.id,direction:M===e.id?E:"asc",onClick:()=>{return t=e.id,L(M===t&&"asc"===E?"desc":"asc"),void z(t);var t},children:e.label}):e.label},e.id)))})}),(0,j.jsx)(y.c,{children:F.map(((e,t)=>(0,j.jsxs)(d.c,{children:[(0,j.jsx)(p.c,{sx:{padding:"4px 8px"},children:t+1}),(0,j.jsx)(p.c,{sx:{padding:"4px 8px"},children:e.Task_Type}),(0,j.jsxs)(p.c,{sx:{padding:"4px 8px"},children:[(0,j.jsx)(m.c,{onClick:()=>(_(e),void I(!0)),size:"small",children:(0,j.jsx)(v.c,{})}),(0,j.jsx)(m.c,{onClick:()=>(_(e),void w(!0)),sx:{color:"#FF6865"},children:(0,j.jsx)(f.c,{})})]})]},e.Task_Type_Id)))})]})})})]}),(0,j.jsx)(g,{open:D,onClose:()=>I(!1),existingTaskType:S,onCreate:async e=>{try{const t=await(0,k.q)({address:"masters/taskType",method:"POST",headers:{"Content-Type":"application/json"},bodyData:{Task_Type:e}});t.success?(C(!s),r.m4.success("Task type created successfully!"),I(!1)):r.m4.error("Failed to create task type: "+t.message)}catch(t){console.error(t),r.m4.error("Error creating task type.")}},onUpdate:async e=>{try{const t=await(0,k.q)({address:"masters/taskType",method:"PUT",headers:{"Content-Type":"application/json"},bodyData:(0,a.c)({},e)});t.success?(C(!s),r.m4.success("Task type updated successfully!"),I(!1)):r.m4.error("Failed to update task type: "+t.message)}catch(t){console.error(t),r.m4.error("Error updating task type.")}}}),(0,j.jsxs)(x.c,{open:N,onClose:R,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[(0,j.jsx)(h.c,{className:"bg-primary text-white mb-4 px-3 py-2",children:"Confirmation"}),(0,j.jsxs)(b.c,{className:"p-4",children:["Do you want to delete the Task Type",(0,j.jsx)("span",{className:"text-primary",children:" "+(null===S||void 0===S?void 0:S.Task_Type)+" "}),"?"]}),(0,j.jsxs)(T.c,{children:[(0,j.jsx)(n.c,{className:"btn btn-light rounded-5 px-3 me-1",onClick:R,children:"Cancel"}),(0,j.jsx)(n.c,{className:"btn btn-primary rounded-5 px-3",onClick:async()=>{try{const e=await(0,k.q)({address:"masters/taskType",method:"DELETE",headers:{"Content-Type":"application/json"},bodyData:{Task_Type_Id:S.Task_Type_Id}});e.success?(C(!s),w(!1),r.m4.success("Task type deleted successfully!")):r.m4.error("Failed to delete task type: "+e.message)}catch(e){console.error(e),r.m4.error("Error deleting task type.")}},children:"Delete"})]})]})]})}},45180:(e,t,s)=>{s.d(t,{c:()=>r});var a=s(27664),c=s(82496);const r=(0,a.c)((0,c.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"}),"Delete")},86e3:(e,t,s)=>{s.d(t,{c:()=>r});var a=s(27664),c=s(82496);const r=(0,a.c)((0,c.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"}),"Edit")},53248:(e,t,s)=>{s.d(t,{c:()=>j});var a=s(95656),c=s(45072),r=s(21412),n=s(79736),o=s(69060),i=s(33440),l=s(27664),d=s(82496);const p=(0,l.c)((0,d.jsx)("path",{d:"M20 12l-1.41-1.41L13 16.17V4h-2v12.17l-5.58-5.59L4 12l8 8 8-8z"}),"ArrowDownward");var u=s(12556),y=s(49836),m=s(55832),x=s(10099),h=s(33448);function b(e){return(0,h.cp)("MuiTableSortLabel",e)}const T=(0,x.c)("MuiTableSortLabel",["root","active","icon","iconDirectionDesc","iconDirectionAsc"]),v=["active","children","className","direction","hideSortIcon","IconComponent"],f=(0,u.cp)(i.c,{name:"MuiTableSortLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:s}=e;return[t.root,s.active&&t.active]}})((e=>{let{theme:t}=e;return{cursor:"pointer",display:"inline-flex",justifyContent:"flex-start",flexDirection:"inherit",alignItems:"center","&:focus":{color:(t.vars||t).palette.text.secondary},"&:hover":{color:(t.vars||t).palette.text.secondary,["& .".concat(T.icon)]:{opacity:.5}},["&.".concat(T.active)]:{color:(t.vars||t).palette.text.primary,["& .".concat(T.icon)]:{opacity:1,color:(t.vars||t).palette.text.secondary}}}})),k=(0,u.cp)("span",{name:"MuiTableSortLabel",slot:"Icon",overridesResolver:(e,t)=>{const{ownerState:s}=e;return[t.icon,t["iconDirection".concat((0,m.c)(s.direction))]]}})((e=>{let{theme:t,ownerState:s}=e;return(0,c.c)({fontSize:18,marginRight:4,marginLeft:4,opacity:0,transition:t.transitions.create(["opacity","transform"],{duration:t.transitions.duration.shorter}),userSelect:"none"},"desc"===s.direction&&{transform:"rotate(0deg)"},"asc"===s.direction&&{transform:"rotate(180deg)"})})),j=o.forwardRef((function(e,t){const s=(0,y.C)({props:e,name:"MuiTableSortLabel"}),{active:o=!1,children:i,className:l,direction:u="asc",hideSortIcon:x=!1,IconComponent:h=p}=s,T=(0,a.c)(s,v),j=(0,c.c)({},s,{active:o,direction:u,hideSortIcon:x,IconComponent:h}),g=(e=>{const{classes:t,direction:s,active:a}=e,c={root:["root",a&&"active"],icon:["icon","iconDirection".concat((0,m.c)(s))]};return(0,r.c)(c,b,t)})(j);return(0,d.jsxs)(f,(0,c.c)({className:(0,n.c)(g.root,l),component:"span",disableRipple:!0,ownerState:j,ref:t},T,{children:[i,x&&!o?null:(0,d.jsx)(k,{as:h,className:(0,n.c)(g.icon),ownerState:j})]}))}))},16344:(e,t,s)=>{s.d(t,{cV:()=>n,cp:()=>i});var a=s(69060),c=s(82496);const r=["as","disabled"];function n(e){let{tagName:t,disabled:s,href:a,target:c,rel:r,role:n,onClick:o,tabIndex:i=0,type:l}=e;t||(t=null!=a||null!=c||null!=r?"a":"button");const d={tagName:t};if("button"===t)return[{type:l||"button",disabled:s},d];const p=e=>{(s||"a"===t&&function(e){return!e||"#"===e.trim()}(a))&&e.preventDefault(),s?e.stopPropagation():null==o||o(e)};return"a"===t&&(a||(a="#"),s&&(a=void 0)),[{role:null!=n?n:"button",disabled:void 0,tabIndex:s?void 0:i,href:a,target:"a"===t?c:void 0,"aria-disabled":s||void 0,rel:"a"===t?r:void 0,onClick:p,onKeyDown:e=>{" "===e.key&&(e.preventDefault(),p(e))}},d]}const o=a.forwardRef(((e,t)=>{let{as:s,disabled:a}=e,o=function(e,t){if(null==e)return{};var s,a,c={},r=Object.keys(e);for(a=0;a<r.length;a++)s=r[a],t.indexOf(s)>=0||(c[s]=e[s]);return c}(e,r);const[i,{tagName:l}]=n(Object.assign({tagName:s,disabled:a},o));return(0,c.jsx)(l,Object.assign({},o,i,{ref:t}))}));o.displayName="Button";const i=o},42136:(e,t,s)=>{s.d(t,{c:()=>y});var a=s(30800),c=s(31024),r=s(264),n=s.n(r),o=s(69060),i=s(16344),l=s(83576),d=s(82496);const p=["as","bsPrefix","variant","size","active","disabled","className"],u=o.forwardRef(((e,t)=>{let{as:s,bsPrefix:r,variant:o="primary",size:u,active:y=!1,disabled:m=!1,className:x}=e,h=(0,c.c)(e,p);const b=(0,l.Ky)(r,"btn"),[T,{tagName:v}]=(0,i.cV)((0,a.c)({tagName:s,disabled:m},h)),f=v;return(0,d.jsx)(f,(0,a.c)((0,a.c)((0,a.c)({},T),h),{},{ref:t,disabled:m,className:n()(x,b,y&&"active",o&&"".concat(b,"-").concat(o),u&&"".concat(b,"-").concat(u),h.href&&m&&"disabled")}))}));u.displayName="Button";const y=u}}]);
//# sourceMappingURL=4500.7224efeb.chunk.js.map
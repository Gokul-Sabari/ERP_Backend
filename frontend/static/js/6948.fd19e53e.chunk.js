"use strict";(self.webpackChunkerp=self.webpackChunkerp||[]).push([[6948],{62344:(e,l,t)=>{t.d(l,{o$:()=>s,o5:()=>n,cF:()=>i,iI:()=>a,_8:()=>o});const r=t.p+"static/media/smt.aa4d4f940bbebff07a57.png",a={table:{style:{width:"auto",backgroundColor:"transparent"}},rows:{style:{backgroundColor:"transparent"}},headCells:{style:{backgroundColor:"#6b9080f8",color:"white",fontSize:"14px"}}},i={menu:(e,l)=>({...e,zIndex:9999}),menuPortal:e=>({...e,zIndex:9999}),groupHeading:e=>({...e,backgroundColor:"#f5f5f5",color:"#333",fontWeight:"bold",fontSize:"14px",padding:"8px 12px",borderBottom:"1px solid #ddd",textTransform:"uppercase"}),option:(e,l)=>({...e,backgroundColor:l.isSelected?"#2684FF":l.isFocused?"#E2ECF9":"white",color:l.isSelected?"white":"#333",padding:"10px 12px"})},s=[{id:1,headname:"Menu ID",variant:"head",align:"left",width:100},{id:2,headname:"MenuName"},{id:3,headname:"Read Rights"},{id:4,headname:"Add Rights"},{id:5,headname:"Edit Rights"},{id:6,headname:"Delete Rights"},{id:7,headname:"Print Rights"},{id:8,headname:"Action"}],n=[{dataBase:1,name:"SHANKAR TRADERS",business:"Wholesale Merchant in Dhall",address:"32, Chitrakara Street, Madurai - 01 <br /> Bill of Supply -Disclaimer Affidavlt Field Extemped",logo:r,gstin:"33AADFS6973R1ZD",phone:"984-313-1353, 984-335-5166",fssai:"12418012000818",bankAccount:"0021 5032 0885 122",ifsc:"TMBL0000002"},{dataBase:2,name:"SMT AGRO PRODUCTS",business:"",address:"H.O: 153, Chitrakara Street, 2nd Floor, Madurai -01 <br /> G.O: 746 Puliyur, Sayanapuram, Svga <br /> Bill of Supply -Disclaimer Affidavlt Field Extemped",logo:r,gstin:"33ACMFS3420Q1ZQ",phone:"0452-4371625",fssai:"12418012000818",bankAccount:"0025 3031 0875 947",ifsc:"TMBL0000002"},{dataBase:3,name:"BHAVANI TRADERS",business:"",address:"H.O: 152-A, Chitrakara Street, Madurai -01 <br /> G.O: 30/1-Rajman Nagar, Chintamani Main Road, Mdu-01 <br /> Tax Invoice",logo:r,gstin:"33AAEFB6728J1ZG",phone:"958-559-7641, 958-559-7614",fssai:"12418012000670",bankAccount:"0021 5005 0800 309",ifsc:"TMBL0000002"}],o=[{name:"PURCHASE ORDER"},{name:"PURCHASE INVOICE"},{name:"SALE ORDER"},{name:"SALE INVOICE"},{name:"JOURNAL"},{name:"STOCK JOURNAL"},{name:"PAYMENT"},{name:"RECEIPT"},{name:"CONTRA"}]},24316:(e,l,t)=>{t.r(l),t.d(l,{default:()=>M});var r=t(69060),a=t(1908),i=t(39308),s=t(12572),n=t(85624),o=t(67828),c=t(56880),d=t(89e3),h=t(77828),x=t(15786),g=t(99904),u=t(33856),j=t(58612),m=t(27454),p=t(96464),v=t(29504),b=t(44380),f=t(5930),k=t(5548),A=t(3358),S=t(60476),y=t(82656),w=t(4488),N=t(90048),C=t(61988),I=t(36992),P=t(41459),_=t(46864),D=t(74912),T=t(99852),B=t(62344),R=t(56480),F=t(35372),L=t(26773),W=t(14499),V=t(49608),E=t(33452),O=t(82496);const Q=e=>{var l,t,a;let{open:s,onClose:n,brokerData:o}=e;const c=(0,r.useRef)(null),h=(0,E.useReactToPrint)({content:()=>c.current}),x=(null===o||void 0===o||null===(l=o.Items)||void 0===l?void 0:l.reduce(((e,l)=>e+(l.Brok_Amt||0)),0))||0,g=(null===o||void 0===o||null===(t=o.Items)||void 0===t?void 0:t.reduce(((e,l)=>e+(l.Coolie_Amt||0)),0))||0,u=()=>{var e;const l=null===o||void 0===o||null===(e=o.Items)||void 0===e?void 0:e.reduce(((e,l)=>{const t=Math.round(l.KGS/l.QTY);return isNaN(t)||(e[t]=(e[t]||0)+l.QTY),e}),{});return l?Object.entries(l).sort(((e,l)=>{let[t]=e,[r]=l;return t-r})).map((e=>{let[l,t]=e;return`${l}kg - ${t}`})).join(" & "):null},j=u();return(0,O.jsxs)(y.c,{open:s,onClose:n,fullWidth:!0,maxWidth:"lg",children:[(0,O.jsxs)(L.c,{children:["Broker Report: ",null===o||void 0===o?void 0:o.Broker_Name,(0,O.jsx)(k.c,{"aria-label":"close",onClick:n,sx:{position:"absolute",right:8,top:8,color:e=>e.palette.grey[500]},children:(0,O.jsx)(W.c,{})})]}),(0,O.jsxs)(w.c,{ref:c,children:[(0,O.jsxs)("div",{className:"text-center mb-3",children:[(0,O.jsx)("h4",{children:"Broker Report Page"}),(0,O.jsxs)("p",{className:"mb-0",children:["Date: ",(new Date).toLocaleDateString("en-IN")]}),(0,O.jsxs)("p",{className:"mb-0",children:["Broker: ",null===o||void 0===o?void 0:o.Broker_Name]}),j&&(0,O.jsxs)("p",{className:"mb-0",children:["Pack Sizes: ",j]})]}),(0,O.jsxs)("table",{className:"table table-bordered",style:{fontSize:"12px"},children:[(0,O.jsx)("thead",{children:(0,O.jsxs)("tr",{children:[(0,O.jsx)("th",{children:"PARTY NAME"}),(0,O.jsx)("th",{children:"ALIAS NAME"}),(0,O.jsx)("th",{className:"text-end",children:"BILL RATE"}),(0,O.jsx)("th",{className:"text-end",children:"BROKER EXP"}),(0,O.jsx)("th",{className:"text-end",children:"QTY"}),(0,O.jsx)("th",{className:"text-end",children:"KGS"}),(0,O.jsx)("th",{className:"text-end",children:"AMOUNT"}),(0,O.jsx)("th",{className:"text-end",children:"VILAIVAASI"})]})}),(0,O.jsxs)("tbody",{children:[null===o||void 0===o||null===(a=o.Items)||void 0===a?void 0:a.map(((e,l)=>(0,O.jsxs)("tr",{children:[(0,O.jsx)("td",{children:e.Retailer_Name||e.Ledger_Name}),(0,O.jsx)("td",{children:e.Short_Name}),(0,O.jsx)("td",{className:"text-end",children:e.Item_Rate}),(0,O.jsx)("td",{className:"text-end",children:(0,i.SA)(e.Brok_Amt||0)}),(0,O.jsx)("td",{className:"text-end",children:e.QTY}),(0,O.jsx)("td",{className:"text-end",children:e.KGS}),(0,O.jsx)("td",{className:"text-end",children:(0,i.SA)(e.Amount)}),(0,O.jsx)("td",{className:"text-end",children:(0,i.SA)(e.Vilaivasi_Rate)})]},l))),(0,O.jsxs)("tr",{children:[(0,O.jsx)("td",{colSpan:"4",className:"text-end fw-bold",children:"TOTAL"}),(0,O.jsx)("td",{className:"text-end fw-bold",children:(null===o||void 0===o?void 0:o.Total_Qty)||0}),(0,O.jsx)("td",{className:"text-end fw-bold",children:(null===o||void 0===o?void 0:o.Total_KGS)||0}),(0,O.jsx)("td",{className:"text-end fw-bold",children:(0,i.SA)((null===o||void 0===o?void 0:o.Total_Amount)||0)}),(0,O.jsx)("td",{className:"text-end fw-bold",children:(0,i.SA)((null===o||void 0===o?void 0:o.VilaiVasi)||0)})]}),(0,O.jsx)("tr",{children:(0,O.jsx)("td",{className:"text-end fw-bold",children:u()})})]})]}),(0,O.jsx)("div",{className:"row mt-3",children:(0,O.jsx)("div",{className:"col-6 offset-6",children:(0,O.jsx)("table",{className:"table table-bordered",style:{fontSize:"12px"},children:(0,O.jsxs)("tbody",{children:[(0,O.jsxs)("tr",{children:[(0,O.jsx)("td",{className:"fw-bold",children:"COOLIE"}),(0,O.jsx)("td",{className:"text-end fw-bold",children:(0,i.SA)(g)})]}),(0,O.jsxs)("tr",{children:[(0,O.jsx)("td",{className:"fw-bold",children:"BROKERAGE"}),(0,O.jsxs)("td",{className:"text-end fw-bold",children:["- ",(0,i.SA)(x)]})]}),(0,O.jsxs)("tr",{children:[(0,O.jsx)("td",{className:"fw-bold",children:"VILAIVAASI"}),(0,O.jsxs)("td",{className:"text-end fw-bold",children:["- ",(0,i.SA)((null===o||void 0===o?void 0:o.VilaiVasi)||0)]})]}),(0,O.jsxs)("tr",{children:[(0,O.jsx)("td",{className:"fw-bold",children:"ROUNDOFF"}),(0,O.jsx)("td",{className:"text-end fw-bold",children:(0,i.SA)(parseFloat((null===o||void 0===o?void 0:o.Total_Amount)||0)-x-g-parseFloat((null===o||void 0===o?void 0:o.VilaiVasi)||0)-Math.round(parseFloat((null===o||void 0===o?void 0:o.Total_Amount)||0)-x-g-parseFloat((null===o||void 0===o?void 0:o.VilaiVasi)||0)))})]}),(0,O.jsxs)("tr",{className:"bg-light",children:[(0,O.jsx)("td",{className:"fw-bold",children:"NET TOTAL"}),(0,O.jsx)("td",{className:"text-end fw-bold",children:(0,i.SA)(Math.round(parseFloat((null===o||void 0===o?void 0:o.Total_Amount)||0)-x-g-parseFloat((null===o||void 0===o?void 0:o.VilaiVasi)||0)))})]})]})})})}),(0,O.jsx)("div",{className:"text-center mt-3 small",children:(0,O.jsx)("p",{children:"This is a computer generated report"})})]}),(0,O.jsxs)(N.c,{children:[(0,O.jsx)(d.c,{startIcon:(0,O.jsx)(W.c,{}),variant:"outlined",color:"error",onClick:n,children:"Close"}),(0,O.jsx)(d.c,{startIcon:(0,O.jsx)(V.c,{}),variant:"contained",color:"primary",onClick:h,children:"Download"})]})]})},M=e=>{let{loadingOn:l,loadingOff:t}=e;const[L,W]=(0,r.useState)({page:0,rowsPerPage:10}),[V,E]=(0,r.useState)({page:0,rowsPerPage:10}),[M,$]=(0,r.useState)(0),[G,K]=(0,r.useState)({broker:[]}),[z,U]=(0,r.useState)({FromDate:(new Date).toISOString().split("T")[0],ToDate:(new Date).toISOString().split("T")[0],Broker:{value:"",label:"ALL Brokers"},Ledger:{value:"",label:"All Ledger"},Item:{value:"",label:"All Item"},refresh:!1,filterDialog:!1}),[Y,q]=(0,r.useState)([]),[H,J]=(0,r.useState)({}),[Z,X]=(0,r.useState)({FromDate:(new Date).toISOString().split("T")[0],ToDate:(new Date).toISOString().split("T")[0],Broker:{value:"",label:"ALL Brokers"},Ledger:{value:"",label:"All Ledger"},Item:{value:"",label:"All Item"},refresh:!1,filterDialog:!1}),[ee,le]=(0,r.useState)([]),[te,re]=(0,r.useState)({ledgers:[],items:[]}),[ae,ie]=(0,r.useState)({}),[se,ne]=(0,r.useState)(!1),oe=JSON.parse(localStorage.getItem("user")),[ce,de]=(0,r.useState)(!1),[he,xe]=(0,r.useState)(null);(0,r.useEffect)((()=>{(0,a.q)({address:"reports/brokerageReport/getInvolvedBroker"}).then((e=>{e.success&&K((l=>({...l,broker:(0,i.dq)(e.data)})))})).catch(console.error)}),[]),(0,r.useEffect)((()=>{(async()=>{try{l();const e=await(0,a.q)({address:`reports/brokerageNakalReport/sales?FromDate=${z.FromDate}&ToDate=${z.ToDate}&broker=${z.Broker.value}`});if(e.success){const l=(0,i.dq)(e.data);q(l);const t={};l.forEach((e=>{const l=`${e.Do_Id}-${e.Product_Id}`;t[l]=e.brokerage||""})),J(t)}else q([]),J({})}catch(e){q([]),J({})}finally{t()}})()}),[z.refresh]),(0,r.useEffect)((()=>{(async()=>{try{l();let e=`reports/brokerageNagal/list?FromDate=${Z.FromDate}&ToDate=${Z.ToDate}`;Z.Broker.value&&(e+=`&broker=${Z.Broker.value}`),Z.Ledger.value&&(e+=`&ledger=${Z.Ledger.value}`),Z.Item.value&&(e+=`&item=${Z.Item.value}`);const t=await(0,a.q)({address:e});if(t.success){const e=(0,i.dq)(t.data);le(e);const l=e.flatMap((e=>e.Items||[])),r=Array.from(new Map(l.map((e=>[e.Ledger_Tally_Id,{value:e.Ledger_Tally_Id,label:e.Ledger_Name}]))).values()),a=Array.from(new Map(l.map((e=>[e.Product_Id,{value:e.Product_Id,label:e.Product_Name}]))).values());re({ledgers:r,items:a})}}catch(e){}finally{t()}})()}),[Z.refresh]);const ge=()=>U((e=>({...e,filterDialog:!1}))),ue=()=>X((e=>({...e,filterDialog:!1}))),je=(0,r.useMemo)((()=>Y.reduce(((e,l)=>(0,i.Q5)(e,l.displayQuantity||l.Qty||0)),0)),[Y]),me=(0,r.useMemo)((()=>ee.reduce(((e,l)=>(0,i.Q5)(e,l.Total_Bags||0)),0)),[ee]),pe=(0,r.useMemo)((()=>ee&&0!==ee.length?ee.reduce(((e,l)=>{const t=l.Broker_Name||"Unknown Broker";return e[t]||(e[t]=[]),e[t].push(l),e}),{}):{}),[ee]),ve=(0,r.useMemo)((()=>Object.keys(pe)),[pe]);(0,r.useMemo)((()=>{const e={};return ve.forEach((l=>{const t=pe[l];e[l]={totalKGS:t.reduce(((e,l)=>e+(l.KGS||0)),0),totalBillQty:t.reduce(((e,l)=>e+(l.Bill_Qty||0)),0),totalActQty:t.reduce(((e,l)=>e+(l.Act_Qty||0)),0),totalVilaiVasi:t.reduce(((e,l)=>e+(l.Vilai_Vasi||0)),0),totalVilaivasiRate:t.reduce(((e,l)=>e+(l.Vilaivasi_Rate||0)),0)}})),e}),[ve,pe]);return(0,O.jsxs)(s.c,{children:[(0,O.jsxs)(n.c,{sx:{p:3,mb:3},children:[(0,O.jsxs)(o.cp,{container:!0,justifyContent:"space-between",alignItems:"center",mb:3,children:[(0,O.jsx)(c.c,{variant:"h5",component:"h2",children:" Brokerage Nakal Report "}),(0,O.jsxs)(s.c,{children:[(0,O.jsx)(d.c,{variant:"outlined",startIcon:(0,O.jsx)(C.c,{}),onClick:()=>0===M?U((e=>({...e,filterDialog:!0}))):X((e=>({...e,filterDialog:!0}))),sx:{mr:2},children:" Filters "}),(0,O.jsxs)(c.c,{component:"span",variant:"body1",children:["Total Bags: ",(0,O.jsx)("strong",{children:0===M?je:me})]})]})]}),(0,O.jsxs)(h.c,{value:M,onChange:(e,l)=>$(l),sx:{mb:3},children:[(0,O.jsx)(x.c,{label:"Data Entry"}),(0,O.jsx)(x.c,{label:"Listing"})]}),0===M?(0,O.jsxs)(O.Fragment,{children:[(0,O.jsxs)(g.c,{component:n.c,children:[(0,O.jsxs)(u.c,{size:"small",children:[(0,O.jsx)(j.c,{children:(0,O.jsxs)(m.c,{sx:{backgroundColor:"primary.main"},children:[(0,O.jsx)(p.c,{sx:{color:"white",fontWeight:"bold"},align:"right",children:" Date "}),(0,O.jsx)(p.c,{sx:{color:"white",fontWeight:"bold"},children:" Do No "}),(0,O.jsx)(p.c,{sx:{color:"white",fontWeight:"bold"},children:" Product "}),(0,O.jsx)(p.c,{sx:{color:"white",fontWeight:"bold"},children:" Ledger_Name "}),(0,O.jsx)(p.c,{sx:{color:"white",fontWeight:"bold"},children:" Broker "}),(0,O.jsx)(p.c,{sx:{color:"white",fontWeight:"bold"},align:"right",children:" Bill_Qty "}),(0,O.jsx)(p.c,{sx:{color:"white",fontWeight:"bold"},align:"right",children:" Qty "}),(0,O.jsx)(p.c,{sx:{color:"white",fontWeight:"bold"},align:"right",children:" Rate "}),(0,O.jsx)(p.c,{sx:{color:"white",fontWeight:"bold"},align:"right",children:" Pack "}),(0,O.jsx)(p.c,{sx:{color:"white",fontWeight:"bold"},align:"right",children:" Amount "}),(0,O.jsx)(p.c,{sx:{color:"white",fontWeight:"bold"},align:"right",children:" Brok.Rate "}),(0,O.jsx)(p.c,{sx:{color:"white",fontWeight:"bold"},align:"right",children:" Brokerage "}),(0,O.jsx)(p.c,{sx:{color:"white",fontWeight:"bold"},align:"right",children:" Coolie.Rate "}),(0,O.jsx)(p.c,{sx:{color:"white",fontWeight:"bold"},align:"right",children:" Coolie.Amt "}),(0,O.jsx)(p.c,{sx:{color:"white",fontWeight:"bold"},align:"right",children:" Vilaivasi "}),(0,O.jsx)(p.c,{sx:{color:"white",fontWeight:"bold"},align:"right",children:" Narration "}),(0,O.jsx)(p.c,{sx:{color:"white",fontWeight:"bold"},align:"right",children:" Vilaivasi Amt "})]})}),(0,O.jsx)(v.c,{children:Y.slice(L.page*L.rowsPerPage,L.page*L.rowsPerPage+L.rowsPerPage).map(((e,l)=>{const t=H[`${e.Do_Id}-${e.Product_Id}`]||"",r=(a=t,i=e.Bill_Qty,(parseFloat(a)||0)/100*(parseFloat(i)||0));var a,i,s,n;return(0,O.jsxs)(m.c,{hover:!0,children:[(0,O.jsxs)(p.c,{align:"left",children:[" ",e.Date.split("T")[0]," "]}),(0,O.jsxs)(p.c,{children:[" ",e.Do_No||e.Do_Inv_No," "]}),(0,O.jsxs)(p.c,{children:[" ",e.Product_Name," "]}),(0,O.jsxs)(p.c,{children:[" ",e.Retailer_Name," "]}),(0,O.jsxs)(p.c,{children:[" ",e.CostCenterGet," "]}),(0,O.jsxs)(p.c,{align:"right",children:[" ",e.Bill_Qty," "]}),(0,O.jsxs)(p.c,{align:"right",children:[" ",null===e||void 0===e?void 0:e.displayQuantity," "]}),(0,O.jsxs)(p.c,{align:"right",children:[" ",e.Rate||e.Item_Rate," "]}),(0,O.jsxs)(p.c,{align:"right",children:[" ",e.Pack," "]}),(0,O.jsxs)(p.c,{align:"right",children:[" ",e.Amount," "]}),(0,O.jsxs)(p.c,{align:"right",children:[" ",e.Brokerage," "]}),(0,O.jsxs)(p.c,{align:"right",children:[" ",e.Brokerage*e.displayQuantity," "]}),(0,O.jsxs)(p.c,{align:"right",children:[" ",e.Coolie," "]}),(0,O.jsxs)(p.c,{align:"right",children:[" ",e.Coolie*e.displayQuantity," "]}),(0,O.jsx)(p.c,{align:"right",children:(0,O.jsx)(b.c,{size:"small",type:"number",value:t,onChange:(s=e.Do_Id,n=e.Product_Id,e=>{const l=e.target.value,t=`${s}-${n}`;J((e=>({...e,[t]:l})))}),sx:{width:"120px"},inputProps:{step:"0.01"}})}),(0,O.jsxs)(p.c,{align:"right",children:[" ",e.Narration," "]}),(0,O.jsxs)(p.c,{align:"right",children:[" ",r.toFixed(2)," "]})]},l)}))})]}),(0,O.jsx)(f.c,{rowsPerPageOptions:[10,25,50,100],component:"div",count:Y.length,rowsPerPage:L.rowsPerPage,page:L.page,onPageChange:(e,l)=>W({...L,page:l}),onRowsPerPageChange:e=>W({page:0,rowsPerPage:parseInt(e.target.value,10)})})]}),(0,O.jsx)(s.c,{sx:{mt:3,display:"flex",justifyContent:"flex-end"},children:(0,O.jsxs)(d.c,{variant:"contained",color:"primary",startIcon:(0,O.jsx)(I.c,{}),onClick:async()=>{l();try{ne(!0);const e=Y.map((e=>{const l=H[`${e.Do_Id}-${e.Product_Id}`];return{...e,brokerage:parseFloat(l)||0,Vilai_Vasi:parseFloat(l)||0,Vilaivasi_Rate:(parseFloat(l)||0)/100*(parseFloat(e.Bill_Qty)||0),Brok_Rate:null===e||void 0===e?void 0:e.Brokerage,Brok_Amt:(null===e||void 0===e?void 0:e.Brokerage)*(null===e||void 0===e?void 0:e.displayQuantity),Coolie_Rate:null===e||void 0===e?void 0:e.Coolie,Coolie_Amt:(null===e||void 0===e?void 0:e.Coolie)*(null===e||void 0===e?void 0:e.displayQuantity),Amount:null===e||void 0===e?void 0:e.Amount,Created_By:null===oe||void 0===oe?void 0:oe.UserId}})),l=await(0,a.q)({address:"reports/brokerageNagal/create",method:"POST",bodyData:e,headers:{"Content-Type":"application/json"}});l.success?(R.m4.success("Nakal Created successfully!"),U((e=>({...e,refresh:!e.refresh})))):R.m4.error(l.message)}catch(e){R.m4.error("Save failed")}finally{ne(!1),t()}},disabled:se,size:"large",children:[" ",se?"Saving...":"Save Brokerage"," "]})})]}):(0,O.jsx)(O.Fragment,{children:(0,O.jsxs)(g.c,{component:n.c,children:[(0,O.jsxs)(u.c,{size:"small",children:[(0,O.jsx)(j.c,{children:(0,O.jsxs)(m.c,{sx:{backgroundColor:"primary.main"},children:[(0,O.jsx)(p.c,{sx:{color:"white",fontWeight:"bold"},children:" Broker "}),(0,O.jsx)(p.c,{sx:{color:"white",fontWeight:"bold"},align:"right",children:" Total KGS "}),(0,O.jsx)(p.c,{sx:{color:"white",fontWeight:"bold"},align:"right",children:" Total Bill Qty "}),(0,O.jsx)(p.c,{sx:{color:"white",fontWeight:"bold"},align:"right",children:" Total_Amount "}),(0,O.jsx)(p.c,{sx:{color:"white",fontWeight:"bold"},align:"right",children:" Total_Broker_Exp "}),(0,O.jsx)(p.c,{sx:{color:"white",fontWeight:"bold"},align:"right",children:" Total_VilaiVasi "}),(0,O.jsx)(p.c,{sx:{color:"white",fontWeight:"bold"},align:"right",children:" Total_Bags "}),(0,O.jsx)(p.c,{sx:{color:"white",fontWeight:"bold"},align:"right",children:" Actions "})]})}),(0,O.jsx)(v.c,{children:ve.length>0?ve.slice(V.page*V.rowsPerPage,V.page*V.rowsPerPage+V.rowsPerPage).map(((e,l)=>{var t;const a=ee.find((l=>l.Broker_Name===e));return(0,O.jsxs)(r.Fragment,{children:[(0,O.jsxs)(m.c,{hover:!0,children:[(0,O.jsxs)(p.c,{children:[(0,O.jsx)(k.c,{size:"small",onClick:()=>(e=>ie((l=>({...l,[e]:!l[e]}))))(e),children:ae[e]?(0,O.jsx)(P.c,{}):(0,O.jsx)(_.c,{})}),e]}),(0,O.jsxs)(p.c,{align:"right",children:[" ",(null===a||void 0===a?void 0:a.Total_Qty)||"0.00"]}),(0,O.jsxs)(p.c,{align:"right",children:[" ",(null===a||void 0===a?void 0:a.Total_KGS)||"0.00"]}),(0,O.jsxs)(p.c,{align:"right",children:[" ",(null===a||void 0===a?void 0:a.Total_Amount)||"0.00"]}),(0,O.jsxs)(p.c,{align:"right",children:[" ",(null===a||void 0===a?void 0:a.Broker_Exp)||"0.00"]}),(0,O.jsxs)(p.c,{align:"right",children:[" ",(null===a||void 0===a?void 0:a.VilaiVasi)||"0.00"]}),(0,O.jsxs)(p.c,{align:"right",children:[" ",(null===a||void 0===a?void 0:a.Total_Bags)||0]}),(0,O.jsx)(p.c,{align:"right",children:(0,O.jsx)(A.c,{title:"Preview PDF",children:(0,O.jsx)(k.c,{color:"primary",onClick:()=>{xe(a),de(!0)},children:(0,O.jsx)(F.c,{})})})}),(0,O.jsx)(Q,{open:ce,onClose:()=>de(!1),brokerData:he})]}),(0,O.jsx)(m.c,{children:(0,O.jsx)(p.c,{style:{padding:0},colSpan:7,children:(0,O.jsx)(S.c,{in:ae[e],timeout:"auto",unmountOnExit:!0,children:(0,O.jsxs)(s.c,{margin:1,children:[(0,O.jsxs)(c.c,{variant:"h6",gutterBottom:!0,component:"div",children:["Details for ",e]}),(0,O.jsxs)(u.c,{size:"small",children:[(0,O.jsx)(j.c,{children:(0,O.jsxs)(m.c,{children:[(0,O.jsx)(p.c,{children:"Date "}),(0,O.jsx)(p.c,{children:" Invoice No "}),(0,O.jsx)(p.c,{children:" Retailer "}),(0,O.jsx)(p.c,{children:" Alias "}),(0,O.jsx)(p.c,{children:" Product "}),(0,O.jsx)(p.c,{children:" Short Name "}),(0,O.jsx)(p.c,{align:"right",children:" QTY "}),(0,O.jsx)(p.c,{align:"right",children:" KGS "}),(0,O.jsx)(p.c,{align:"right",children:" Amount "}),(0,O.jsx)(p.c,{align:"right",children:" Vilai Vasi "}),(0,O.jsx)(p.c,{align:"right",children:" Vilai Amt "})]})}),(0,O.jsx)(v.c,{children:null===a||void 0===a||null===(t=a.Items)||void 0===t?void 0:t.map(((e,l)=>{var t;return(0,O.jsxs)(m.c,{children:[(0,O.jsxs)(p.c,{children:[e.Date," "]}),(0,O.jsxs)(p.c,{children:[" ",e.Do_Inv_No," "]}),(0,O.jsxs)(p.c,{children:[" ",e.Retailer_Name," "]}),(0,O.jsxs)(p.c,{children:[" ",e.Ledger_Alias," "]}),(0,O.jsxs)(p.c,{children:[" ",e.Product_Name," "]}),(0,O.jsxs)(p.c,{children:[" ",e.Short_Name," "]}),(0,O.jsxs)(p.c,{align:"right",children:[" ",e.QTY," "]}),(0,O.jsxs)(p.c,{align:"right",children:[" ",e.KGS," "]}),(0,O.jsxs)(p.c,{align:"right",children:[" ",null===(t=e.Amount)||void 0===t?void 0:t.toFixed(2)," "]}),(0,O.jsxs)(p.c,{align:"right",children:[" ",e.Vilai_Vasi," "]}),(0,O.jsxs)(p.c,{align:"right",children:[" ",e.Vilai_Vasi," "]})]},l)}))})]})]})})})})]},l)})):(0,O.jsx)(m.c,{children:(0,O.jsx)(p.c,{colSpan:7,align:"center",children:" No data found "})})})]}),(0,O.jsx)(f.c,{rowsPerPageOptions:[10,25,50,100],component:"div",count:ve.length,rowsPerPage:V.rowsPerPage,page:V.page,onPageChange:(e,l)=>E({...V,page:l}),onRowsPerPageChange:e=>E({page:0,rowsPerPage:parseInt(e.target.value,10)})})]})})]}),(0,O.jsxs)(y.c,{open:z.filterDialog&&0===M,onClose:ge,maxWidth:"sm",fullWidth:!0,children:[(0,O.jsxs)(w.c,{children:[(0,O.jsxs)(s.c,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2,children:[(0,O.jsx)(c.c,{variant:"h6",children:" Data Entry Filters "}),(0,O.jsx)(k.c,{onClick:ge,children:(0,O.jsx)(D.c,{})})]}),(0,O.jsxs)(o.cp,{container:!0,spacing:2,children:[(0,O.jsx)(o.cp,{item:!0,xs:12,children:(0,O.jsx)(b.c,{fullWidth:!0,type:"date",label:"From Date",value:z.FromDate,onChange:e=>U((l=>({...l,FromDate:e.target.value}))),InputLabelProps:{shrink:!0}})}),(0,O.jsx)(o.cp,{item:!0,xs:12,children:(0,O.jsx)(b.c,{fullWidth:!0,type:"date",label:"To Date",value:z.ToDate,onChange:e=>U((l=>({...l,ToDate:e.target.value}))),InputLabelProps:{shrink:!0}})}),(0,O.jsx)(o.cp,{item:!0,xs:2,style:{display:"flex",alignItems:"flex-end"}}),(0,O.jsx)(o.cp,{item:!0,xs:12,children:(0,O.jsx)(T.cp,{fullWidth:!0,label:"Brokers",value:z.Broker,onChange:e=>U((l=>({...l,Broker:e}))),options:[{value:"",label:"ALL Brokers"},...G.broker],styles:B.cF,menuPortalTarget:document.body,isSearchable:!0,placeholder:"Select Broker"})})]})]}),(0,O.jsxs)(N.c,{children:[(0,O.jsx)(d.c,{onClick:ge,children:" Cancel "}),(0,O.jsx)(d.c,{variant:"contained",onClick:()=>{U((e=>({...e,refresh:!e.refresh,filterDialog:!1})))},children:" Apply Filters "})]})]}),(0,O.jsxs)(y.c,{open:Z.filterDialog&&1===M,onClose:ue,maxWidth:"sm",fullWidth:!0,children:[(0,O.jsxs)(w.c,{children:[(0,O.jsxs)(s.c,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2,children:[(0,O.jsx)(c.c,{variant:"h6",children:" Listing Filters "}),(0,O.jsx)(k.c,{onClick:ue,children:(0,O.jsx)(D.c,{})})]}),(0,O.jsxs)(o.cp,{container:!0,spacing:2,children:[(0,O.jsx)(o.cp,{item:!0,xs:5,children:(0,O.jsx)(b.c,{fullWidth:!0,type:"date",label:"From Date",value:Z.FromDate,onChange:e=>X((l=>({...l,FromDate:e.target.value}))),InputLabelProps:{shrink:!0}})}),(0,O.jsx)(o.cp,{item:!0,xs:5,children:(0,O.jsx)(b.c,{fullWidth:!0,type:"date",label:"To Date",value:Z.ToDate,onChange:e=>X((l=>({...l,ToDate:e.target.value}))),InputLabelProps:{shrink:!0}})}),(0,O.jsx)(o.cp,{item:!0,xs:2,style:{display:"flex",alignItems:"flex-end"},children:(0,O.jsx)(d.c,{variant:"contained",color:"primary",onClick:()=>{X((e=>({...e,refresh:!e.refresh})))},style:{height:"30px",width:"100%"},children:"Search"})}),(0,O.jsx)(o.cp,{item:!0,xs:12,children:(0,O.jsx)(T.cp,{fullWidth:!0,label:"Brokers",value:Z.Broker,onChange:e=>X((l=>({...l,Broker:e}))),options:[{value:"",label:"ALL Brokers"},...G.broker],styles:B.cF,menuPortalTarget:document.body,isSearchable:!0,placeholder:"Select Broker"})}),(0,O.jsx)(o.cp,{item:!0,xs:12,children:(0,O.jsx)(T.cp,{fullWidth:!0,label:"Ledger",value:Z.Ledger,onChange:e=>X((l=>({...l,Ledger:e}))),options:[{value:"",label:"ALL Ledger"},...te.ledgers],styles:B.cF,menuPortalTarget:document.body,isSearchable:!0,placeholder:"Select Ledger"})}),(0,O.jsx)(o.cp,{item:!0,xs:12,children:(0,O.jsx)(T.cp,{fullWidth:!0,label:"Item",value:Z.Item,onChange:e=>X((l=>({...l,Item:e}))),options:[{value:"",label:"ALL Item"},...te.items],styles:B.cF,menuPortalTarget:document.body,isSearchable:!0,placeholder:"Select Item"})})]})]}),(0,O.jsxs)(N.c,{children:[(0,O.jsx)(d.c,{onClick:ue,children:" Cancel "}),(0,O.jsx)(d.c,{variant:"contained",onClick:()=>{X((e=>({...e,refresh:!e.refresh,filterDialog:!1})))},children:" Apply Filters "})]})]})]})}}}]);
//# sourceMappingURL=6948.fd19e53e.chunk.js.map
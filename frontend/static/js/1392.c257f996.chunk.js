"use strict";(self.webpackChunkerp=self.webpackChunkerp||[]).push([[1392],{21392:(e,t,o)=>{o.r(t),o.d(t,{default:()=>F});var d=o(69060),n=o(39308),l=o(1908),i=o(3358),a=o(43692),r=o(5548),s=o(84436),c=o(41459),h=o(46864),u=o(43684),v=o(27664),m=o(82496);const x=(0,v.c)((0,m.jsx)("path",{d:"m10 17 5-5-5-5z"}),"ArrowRight");var j=o(57704),p=o(51560),f=o(63676),T=o(13724);const g={Fromdate:(0,n.Q7)(),Todate:(0,n.Q7)()},F=e=>{let{loadingOn:t,loadingOff:o}=e;const v=(0,p.i6)(),F=(0,p.IT)(),S=new URLSearchParams((0,p.IT)().search),N=(0,n.gV)().user,[C,b]=(0,d.useState)([]),[k,w]=(0,d.useState)({Fromdate:g.Fromdate,Todate:g.Todate,fetchFrom:g.Fromdate,fetchTo:g.Todate,filterDialog:!1,refresh:!1});(0,d.useEffect)((()=>{t&&t(),b([]),(0,l.q)({address:`dashboard/dayBook?Fromdate=${null===k||void 0===k?void 0:k.fetchFrom}&Todate=${null===k||void 0===k?void 0:k.fetchTo}`,headers:{Db:null===N||void 0===N?void 0:N.Company_id}}).then((e=>{e.success&&b(e.data)})).finally((()=>{o&&o()})).catch((e=>console.error(e)))}),[null===k||void 0===k?void 0:k.fetchFrom,null===k||void 0===k?void 0:k.fetchTo]),(0,d.useEffect)((()=>{const e={Fromdate:S.get("Fromdate")&&(0,n.e8)(S.get("Fromdate"))?S.get("Fromdate"):g.Fromdate,Todate:S.get("Todate")&&(0,n.e8)(S.get("Todate"))?S.get("Todate"):g.Todate};w((t=>({...t,fetchFrom:e.Fromdate,fetchTo:e.Todate})))}),[F.search]);const y=e=>{let{row:t,Sno:o}=e;const[l,a]=(0,d.useState)(!1),r=(0,d.useMemo)((()=>(0,n.dq)(null===t||void 0===t?void 0:t.groupedData).filter((e=>(0,n.m2)(null===e||void 0===e?void 0:e.dataSource,"ERP")))),[t]),s=(0,d.useMemo)((()=>(0,n.dq)(null===t||void 0===t?void 0:t.groupedData).filter((e=>(0,n.m2)(null===e||void 0===e?void 0:e.dataSource,"TALLY")))),[t]);return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)("tr",{children:[(0,m.jsx)("td",{children:o}),(0,m.jsx)("td",{children:null===t||void 0===t?void 0:t.ModuleName}),(0,m.jsx)("td",{children:r.reduce(((e,t)=>(0,n.Q5)(e,null===t||void 0===t?void 0:t.VoucherBreakUpCount)),0)}),(0,m.jsx)("td",{children:(0,n.SA)(r.reduce(((e,t)=>(0,n.Q5)(e,t.Amount)),0))}),(0,m.jsx)("td",{children:s.reduce(((e,t)=>(0,n.Q5)(e,null===t||void 0===t?void 0:t.VoucherBreakUpCount)),0)}),(0,m.jsx)("td",{children:(0,n.SA)(s.reduce(((e,t)=>(0,n.Q5)(e,t.Amount)),0))}),(0,m.jsx)("td",{className:"p-0 text-center vctr",children:(0,m.jsx)(T.Om,{buttonsData:[{name:"Expand",onclick:()=>a((e=>!e)),icon:l?(0,m.jsx)(c.c,{sx:{fontSize:"inherit"}}):(0,m.jsx)(h.c,{sx:{fontSize:"inherit"}})},{name:"Open Detail (T)",icon:(0,m.jsx)(u.c,{sx:{fontSize:"inherit"}}),onclick:()=>{var e;v(null===(e=s[0])||void 0===e?void 0:e.navLink,{state:{ModuleName:t.ModuleName,Fromdate:null===k||void 0===k?void 0:k.fetchFrom,Todate:null===k||void 0===k?void 0:k.fetchTo}})}},{name:"Open Detail (ERP)",icon:(0,m.jsx)(u.c,{sx:{fontSize:"inherit"}}),onclick:()=>{var e;v(null===(e=r[0])||void 0===e?void 0:e.navLink,{state:{ModuleName:t.ModuleName,Fromdate:null===k||void 0===k?void 0:k.fetchFrom,Todate:null===k||void 0===k?void 0:k.fetchTo}})}}]})})]}),l&&(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("tr",{children:(0,m.jsxs)("td",{colSpan:7,className:"bg-light fw-bold",children:["ERP ",`(${r.length})`]})}),r.map(((e,t)=>(0,m.jsxs)("tr",{children:[(0,m.jsx)("td",{children:o+".1."+(t+1)}),(0,m.jsx)("td",{children:null===e||void 0===e?void 0:e.Voucher_Type}),(0,m.jsx)("td",{children:null===e||void 0===e?void 0:e.VoucherBreakUpCount}),(0,m.jsx)("td",{children:(0,n.SA)(null===e||void 0===e?void 0:e.Amount)}),(0,m.jsx)("td",{}),(0,m.jsx)("td",{}),(0,m.jsx)("td",{className:"p-0 text-center vctr",children:(0,m.jsx)(i.c,{title:"Open "+(null===e||void 0===e?void 0:e.Voucher_Type)+" Details",children:(0,m.jsx)("button",{onClick:()=>{v(null===e||void 0===e?void 0:e.navLink,{state:{...e,Fromdate:null===k||void 0===k?void 0:k.fetchFrom,Todate:null===k||void 0===k?void 0:k.fetchTo}})},className:"icon-btn",children:(0,m.jsx)(x,{sx:{fontSize:"inherit"}})})})})]},t))),(0,m.jsx)("tr",{children:(0,m.jsxs)("td",{colSpan:7,className:"bg-light fw-bold",children:["TALLY ",`(${s.length})`]})}),null===s||void 0===s?void 0:s.map(((e,t)=>(0,m.jsxs)("tr",{children:[(0,m.jsx)("td",{children:o+".2."+(t+1)}),(0,m.jsx)("td",{children:null===e||void 0===e?void 0:e.Voucher_Type}),(0,m.jsx)("td",{}),(0,m.jsx)("td",{}),(0,m.jsx)("td",{children:null===e||void 0===e?void 0:e.VoucherBreakUpCount}),(0,m.jsx)("td",{children:(0,n.SA)(null===e||void 0===e?void 0:e.Amount)}),(0,m.jsx)("td",{className:"p-0 text-center vctr",children:(0,m.jsx)(i.c,{title:"Open "+(null===e||void 0===e?void 0:e.Voucher_Type)+" Details",children:(0,m.jsx)("button",{onClick:()=>{v(null===e||void 0===e?void 0:e.navLink,{state:{...e,Fromdate:null===k||void 0===k?void 0:k.fetchFrom,Todate:null===k||void 0===k?void 0:k.fetchTo}})},className:"icon-btn",children:(0,m.jsx)(x,{sx:{fontSize:"inherit"}})})})})]},t)))]})]})};return(0,m.jsx)(m.Fragment,{children:(0,m.jsxs)(a.c,{children:[(0,m.jsxs)("div",{className:"p-2 d-flex align-items-center flex-wrap border-bottom",children:[(0,m.jsxs)("h5",{className:"m-0 my-1 flex-grow-1 d-flex align-items-center flex-wrap",children:[(0,m.jsx)("span",{className:"mx-2",children:"Day Book"}),(0,m.jsx)(f.c,{})]}),(0,m.jsx)("div",{children:(0,m.jsx)("input",{type:"date",value:k.Fromdate,onChange:e=>w({...k,Fromdate:e.target.value}),className:"cus-inpt w-auto p-1"})}),(0,m.jsx)("span",{className:"px-2",children:"To"}),(0,m.jsx)("input",{type:"date",value:k.Todate,onChange:e=>w({...k,Todate:e.target.value}),className:"cus-inpt me-2 w-auto p-1"}),(0,m.jsx)(r.c,{onClick:()=>{(e=>{const t=new URLSearchParams(e);v(`?${t.toString()}`,{replace:!0})})({Fromdate:null===k||void 0===k?void 0:k.Fromdate,Todate:null===k||void 0===k?void 0:k.Todate}),w({...k,filterDialog:!1})},variant:"outlined",size:"small",children:(0,m.jsx)(j.c,{})})]}),(0,m.jsx)(s.c,{children:(0,m.jsx)("div",{className:"table-responsive",children:(0,m.jsxs)("table",{className:"table table-bordered fa-13",children:[(0,m.jsx)("thead",{children:(0,m.jsxs)("tr",{children:[(0,m.jsx)("th",{children:"Sno"}),(0,m.jsx)("th",{children:"Voucher"}),(0,m.jsx)("th",{children:"ERP Entries"}),(0,m.jsx)("th",{children:"ERP Amount"}),(0,m.jsx)("th",{children:"Tally Entries"}),(0,m.jsx)("th",{children:"Tally Amount"}),(0,m.jsx)("th",{children:"Detilas"})]})}),(0,m.jsx)("tbody",{children:C.map(((e,t)=>(0,m.jsx)(y,{row:e,Sno:t+1},t)))})]})})})]})})}},43684:(e,t,o)=>{o.d(t,{c:()=>l});var d=o(27664),n=o(82496);const l=(0,d.c)((0,n.jsx)("path",{d:"M19 19H5V5h7V3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2v-7h-2zM14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3z"}),"OpenInNew")},57704:(e,t,o)=>{o.d(t,{c:()=>l});var d=o(27664),n=o(82496);const l=(0,d.c)((0,n.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"}),"Search")},84436:(e,t,o)=>{o.d(t,{c:()=>j});var d=o(45072),n=o(95656),l=o(69060),i=o(79736),a=o(21412),r=o(12556),s=o(49836),c=o(10099),h=o(33448);function u(e){return(0,h.cp)("MuiCardContent",e)}(0,c.c)("MuiCardContent",["root"]);var v=o(82496);const m=["className","component"],x=(0,r.cp)("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(e,t)=>t.root})((()=>({padding:16,"&:last-child":{paddingBottom:24}}))),j=l.forwardRef((function(e,t){const o=(0,s.C)({props:e,name:"MuiCardContent"}),{className:l,component:r="div"}=o,c=(0,n.c)(o,m),h=(0,d.c)({},o,{component:r}),j=(e=>{const{classes:t}=e;return(0,a.c)({root:["root"]},u,t)})(h);return(0,v.jsx)(x,(0,d.c)({as:r,className:(0,i.c)(j.root,l),ownerState:h,ref:t},c))}))}}]);
//# sourceMappingURL=1392.c257f996.chunk.js.map
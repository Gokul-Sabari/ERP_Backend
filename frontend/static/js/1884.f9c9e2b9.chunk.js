"use strict";(self.webpackChunkerp=self.webpackChunkerp||[]).push([[1884],{1884:(e,r,t)=>{t.r(r),t.d(r,{default:()=>j});var o=t(69060),l=t(5548),a=t(44380),s=t(82656),n=t(26773),c=t(4488),i=t(90048),d=t(56880),u=t(89e3),p=t(56480),h=t(42136),m=t(86e3),x=t(45180),f=t(57704),v=t(1908),b=t(13724),g=t(82496);const j=function(){const[e,r]=(0,o.useState)([]),[t,j]=(0,o.useState)(!1),[y,P]=(0,o.useState)({Group_Name:""}),[C,w]=(0,o.useState)(null),[G,N]=(0,o.useState)(!1),[S,_]=(0,o.useState)(null),[F,k]=(0,o.useState)(!1),[I,R]=(0,o.useState)(""),[z,T]=(0,o.useState)(!1),[D,E]=(0,o.useState)(!1),M=JSON.parse(localStorage.getItem("user")),W=null===M||void 0===M?void 0:M.UserId,q=null===M||void 0===M?void 0:M.Company_id;(0,o.useEffect)((()=>{L()}),[F]);const L=async()=>{try{const e=await(0,v.q)({address:"masters/proGroup"});e.success&&r(e.data)}catch(e){console.error(e),p.m4.error("Failed to fetch Product groups")}},V=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;w(e),P(e?{...e}:{Pro_Group:""}),j(!0)},$=()=>{j(!1),w(null),P({Pro_Group:""})},B=e.filter((e=>e.Pro_Group.toLowerCase().includes(I.toLowerCase()))),O=[(0,b.A5)("Pro_Group","string","Product Group"),{ColumnHeader:"Actions",align:"center",isVisible:!0,isCustomCell:!0,Cell:e=>{let{row:r}=e;return(0,g.jsxs)(o.Fragment,{children:[(0,g.jsx)(l.c,{size:"small",onClick:()=>V(r),children:(0,g.jsx)(m.c,{fontSize:"small"})}),(0,g.jsx)(l.c,{size:"small",color:"error",onClick:()=>{return e=r.Pro_Group_Id,_(e),void N(!0);var e},children:(0,g.jsx)(x.c,{fontSize:"small"})})]})}}];return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)("div",{className:"card",children:[(0,g.jsxs)("div",{className:"card-header bg-white fw-bold d-flex align-items-center justify-content-between",children:["Product Group",(0,g.jsxs)("div",{className:"d-flex align-items-center",children:[(0,g.jsx)("div",{className:"d-flex justify-content-end",children:(0,g.jsx)("div",{className:"p-2",style:{width:"300px"},children:(0,g.jsxs)("div",{className:"d-flex align-items-center gap-2",children:[(0,g.jsx)(f.c,{}),(0,g.jsx)(a.c,{fullWidth:!0,variant:"outlined",placeholder:"Search Product group...",value:I,onChange:e=>R(e.target.value),size:"small",InputProps:{style:{height:"40px"}}})]})})}),(0,g.jsx)(h.c,{className:"rounded-1 btn-primary ms-2",onClick:()=>V(),children:"Create Product Group"})]})]}),(0,g.jsx)(b.cp,{dataArray:B,columns:O,EnableSerialNumber:!0,isExpendable:!0,maxHeightOption:!0})]}),(0,g.jsxs)(s.c,{open:t,onClose:$,maxWidth:"sm",fullWidth:!0,children:[(0,g.jsx)(n.c,{children:C?"Edit Product Group":"Create Product Group"}),(0,g.jsx)(c.c,{children:(0,g.jsx)(a.c,{autoFocus:!0,margin:"dense",label:"Group Name",fullWidth:!0,variant:"outlined",value:y.Pro_Group||"",onChange:e=>P({...y,Pro_Group:e.target.value}),InputProps:{style:{height:"56px"}},InputLabelProps:{style:{backgroundColor:"white",padding:"0 4px"}}})}),(0,g.jsxs)(i.c,{children:[(0,g.jsx)(u.c,{onClick:$,disabled:z,children:"Cancel"}),(0,g.jsx)(u.c,{onClick:async()=>{var e;if(null!==(e=y.Pro_Group)&&void 0!==e&&e.trim()){T(!0);try{const e=C?"PUT":"POST",r=await(0,v.q)({address:"masters/proGroup",method:e,bodyData:C?{...y,Pro_Group_Id:C.Pro_Group_Id,Company_Id:q,Alter_By:W}:{Pro_Group:y.Pro_Group,Company_Id:q,Created_By:W}});r.success?(p.m4.success(`Product Group ${C?"updated":"created"} successfully`),$(),k(!F)):p.m4.error(r.message||`Failed to ${C?"update":"create"} Product group`)}catch(r){console.error(r),p.m4.error("An error occurred while saving")}finally{T(!1)}}else p.m4.error("Group Name is required")},color:"primary",variant:"contained",disabled:z,children:z?"Processing...":C?"Update":"Save"})]})]}),(0,g.jsxs)(s.c,{open:G,onClose:()=>!D&&N(!1),children:[(0,g.jsx)(n.c,{children:"Confirm Deletion"}),(0,g.jsx)(c.c,{children:(0,g.jsx)(d.c,{children:"Are you sure you want to delete this Product group?"})}),(0,g.jsxs)(i.c,{children:[(0,g.jsx)(u.c,{onClick:()=>N(!1),disabled:D,children:"Cancel"}),(0,g.jsx)(u.c,{onClick:async()=>{E(!0),console.log("deleted",S);try{const e=await(0,v.q)({address:"masters/proGroup",method:"DELETE",bodyData:{Pro_Group_Id:S}});e.success?(p.m4.success("Product Group deleted successfully"),k(!F)):p.m4.error(e.message||"Failed to delete Product group")}catch(e){console.error(e),p.m4.error("Error deleting Product group")}finally{E(!1),N(!1)}},color:"error",variant:"contained",disabled:D,children:D?"Deleting...":"Delete"})]})]})]})}},45180:(e,r,t)=>{t.d(r,{c:()=>a});var o=t(27664),l=t(82496);const a=(0,o.c)((0,l.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"}),"Delete")},86e3:(e,r,t)=>{t.d(r,{c:()=>a});var o=t(27664),l=t(82496);const a=(0,o.c)((0,l.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"}),"Edit")},57704:(e,r,t)=>{t.d(r,{c:()=>a});var o=t(27664),l=t(82496);const a=(0,o.c)((0,l.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"}),"Search")},44380:(e,r,t)=>{t.d(r,{c:()=>G});var o=t(45072),l=t(95656),a=t(69060),s=t(79736),n=t(21412),c=t(55080),i=t(12556),d=t(49836),u=t(62440),p=t(30584),h=t(25594),m=t(60204),x=t(4016),f=t(10212),v=t(21420),b=t(10099),g=t(33448);function j(e){return(0,g.cp)("MuiTextField",e)}(0,b.c)("MuiTextField",["root"]);var y=t(82496);const P=["autoComplete","autoFocus","children","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","id","InputLabelProps","inputProps","InputProps","inputRef","label","maxRows","minRows","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","select","SelectProps","type","value","variant"],C={standard:u.c,filled:p.c,outlined:h.c},w=(0,i.cp)(x.c,{name:"MuiTextField",slot:"Root",overridesResolver:(e,r)=>r.root})({}),G=a.forwardRef((function(e,r){const t=(0,d.C)({props:e,name:"MuiTextField"}),{autoComplete:a,autoFocus:i=!1,children:u,className:p,color:h="primary",defaultValue:x,disabled:b=!1,error:g=!1,FormHelperTextProps:G,fullWidth:N=!1,helperText:S,id:_,InputLabelProps:F,inputProps:k,InputProps:I,inputRef:R,label:z,maxRows:T,minRows:D,multiline:E=!1,name:M,onBlur:W,onChange:q,onFocus:L,placeholder:V,required:$=!1,rows:B,select:O=!1,SelectProps:A,type:H,value:U,variant:K="outlined"}=t,J=(0,l.c)(t,P),Q=(0,o.c)({},t,{autoFocus:i,color:h,disabled:b,error:g,fullWidth:N,multiline:E,required:$,select:O,variant:K}),X=(e=>{const{classes:r}=e;return(0,n.c)({root:["root"]},j,r)})(Q);const Y={};"outlined"===K&&(F&&"undefined"!==typeof F.shrink&&(Y.notched=F.shrink),Y.label=z),O&&(A&&A.native||(Y.id=void 0),Y["aria-describedby"]=void 0);const Z=(0,c.c)(_),ee=S&&Z?`${Z}-helper-text`:void 0,re=z&&Z?`${Z}-label`:void 0,te=C[K],oe=(0,y.jsx)(te,(0,o.c)({"aria-describedby":ee,autoComplete:a,autoFocus:i,defaultValue:x,fullWidth:N,multiline:E,name:M,rows:B,maxRows:T,minRows:D,type:H,value:U,id:Z,inputRef:R,onBlur:W,onChange:q,onFocus:L,placeholder:V,inputProps:k},Y,I));return(0,y.jsxs)(w,(0,o.c)({className:(0,s.c)(X.root,p),disabled:b,error:g,fullWidth:N,ref:r,required:$,color:h,variant:K,ownerState:Q},J,{children:[null!=z&&""!==z&&(0,y.jsx)(m.c,(0,o.c)({htmlFor:Z,id:re},F,{children:z})),O?(0,y.jsx)(v.c,(0,o.c)({"aria-describedby":ee,id:Z,labelId:re,value:U,input:oe},A,{children:u})):oe,S&&(0,y.jsx)(f.c,(0,o.c)({id:ee},G,{children:S}))]}))}))},16344:(e,r,t)=>{t.d(r,{cV:()=>s,cp:()=>c});var o=t(69060),l=t(82496);const a=["as","disabled"];function s(e){let{tagName:r,disabled:t,href:o,target:l,rel:a,role:s,onClick:n,tabIndex:c=0,type:i}=e;r||(r=null!=o||null!=l||null!=a?"a":"button");const d={tagName:r};if("button"===r)return[{type:i||"button",disabled:t},d];const u=e=>{(t||"a"===r&&function(e){return!e||"#"===e.trim()}(o))&&e.preventDefault(),t?e.stopPropagation():null==n||n(e)};return"a"===r&&(o||(o="#"),t&&(o=void 0)),[{role:null!=s?s:"button",disabled:void 0,tabIndex:t?void 0:c,href:o,target:"a"===r?l:void 0,"aria-disabled":t||void 0,rel:"a"===r?a:void 0,onClick:u,onKeyDown:e=>{" "===e.key&&(e.preventDefault(),u(e))}},d]}const n=o.forwardRef(((e,r)=>{let{as:t,disabled:o}=e,n=function(e,r){if(null==e)return{};var t,o,l={},a=Object.keys(e);for(o=0;o<a.length;o++)t=a[o],r.indexOf(t)>=0||(l[t]=e[t]);return l}(e,a);const[c,{tagName:i}]=s(Object.assign({tagName:t,disabled:o},n));return(0,l.jsx)(i,Object.assign({},n,c,{ref:r}))}));n.displayName="Button";const c=n},42136:(e,r,t)=>{t.d(r,{c:()=>d});var o=t(264),l=t.n(o),a=t(69060),s=t(16344),n=t(83576),c=t(82496);const i=a.forwardRef(((e,r)=>{let{as:t,bsPrefix:o,variant:a="primary",size:i,active:d=!1,disabled:u=!1,className:p,...h}=e;const m=(0,n.Ky)(o,"btn"),[x,{tagName:f}]=(0,s.cV)({tagName:t,disabled:u,...h}),v=f;return(0,c.jsx)(v,{...x,...h,ref:r,disabled:u,className:l()(p,m,d&&"active",a&&`${m}-${a}`,i&&`${m}-${i}`,h.href&&u&&"disabled")})}));i.displayName="Button";const d=i}}]);
//# sourceMappingURL=1884.f9c9e2b9.chunk.js.map
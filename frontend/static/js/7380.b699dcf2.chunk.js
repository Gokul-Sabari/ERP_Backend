"use strict";(self.webpackChunkerp=self.webpackChunkerp||[]).push([[7380],{64568:(e,t,s)=>{s.d(t,{c:()=>r});var a=s(82496);const r=()=>(0,a.jsx)("span",{style:{color:"red",fontWeight:"bold",fontSize:"1em"},children:" *"})},8436:(e,t,s)=>{s.d(t,{c:()=>m});var a=s(69060),r=s(82656),o=s(26773),n=s(4488),l=s(90048),c=s(1908),d=s(56480),i=(s(21680),s(64568)),p=s(39308),u=s(82496);const m=e=>{let{open:t,onClose:s,inputValue:m,isEdit:h,setReload:x}=e;const y=localStorage.getItem("user"),j=JSON.parse(y),[g,v]=(0,a.useState)([]),[b,f]=(0,a.useState)([]),[_,S]=(0,a.useState)({Project_Id:"",Project_Name:"",Project_Desc:"",Project_Head:"",Est_Start_Dt:(0,p.Q7)(),Est_End_Dt:(0,p.Q7)(),Project_Status:"",Entry_By:null===j||void 0===j?void 0:j.UserId,Company_id:null===j||void 0===j?void 0:j.Company_id});(0,a.useEffect)((()=>{(0,c.q)({address:`masters/users/employee/dropDown?Company_id=${null===j||void 0===j?void 0:j.Company_id}`}).then((e=>{v(e.success?e.data:[])})).catch((e=>console.error("Fetch Error:",e)))}),[null===j||void 0===j?void 0:j.Company_id]),(0,a.useEffect)((()=>{(0,c.q)({address:"taskManagement/statusList"}).then((e=>{e.success&&f(e.data)})).catch((e=>console.error("Fetch Error:",e)))}),[]),(0,a.useEffect)((()=>{t&&(h&&m?S({...m,Project_Head:null===m||void 0===m?void 0:m.Project_Head_Id,Est_Start_Dt:m.Est_Start_Dt?(0,p.Q7)(m.Est_Start_Dt):"",Est_End_Dt:m.Est_End_Dt?(0,p.Q7)(m.Est_End_Dt):"",Project_Status:(null===m||void 0===m?void 0:m.Project_Status)||"",Project_Desc:(null===m||void 0===m?void 0:m.Project_Desc)||"-"}):h||S({Project_Name:"",Project_Desc:"",Project_Head:"",Est_Start_Dt:(0,p.Q7)(),Est_End_Dt:(0,p.Q7)(),Project_Status:"",Entry_By:null===j||void 0===j?void 0:j.UserId,Company_id:null===j||void 0===j?void 0:j.Company_id}))}),[m,t,h]);const C=e=>{S({..._,[e.target.name]:e.target.value})},E=()=>{const e=["Project_Name","Project_Head","Est_Start_Dt","Est_End_Dt","Project_Status"];for(const t of e)if(!_[t])return d.m4.error(`${t.replace(/_/g," ")} is required`),!1;return!0},P=[{label:"Project Name",elem:"input",type:"text",required:!0,name:"Project_Name",value:_.Project_Name||""},{label:"Project Head",elem:"select",options:g.map((e=>({value:null===e||void 0===e?void 0:e.UserId,label:null===e||void 0===e?void 0:e.Name}))),required:!0,name:"Project_Head",value:_.Project_Head||""},{label:"Estimated Start Date",elem:"input",type:"date",required:!0,name:"Est_Start_Dt",value:_.Est_Start_Dt||""},{label:"Estimated End Date",elem:"input",type:"date",required:!0,name:"Est_End_Dt",value:_.Est_End_Dt||""},{label:"Project Status",elem:"select",options:b.map((e=>({value:e.Status_Id,label:e.Status}))),required:!0,name:"Project_Status",value:_.Project_Status||""},{label:"Description",elem:"textarea",name:"Project_Desc",value:_.Project_Desc||" "}];return(0,u.jsx)(u.Fragment,{children:(0,u.jsxs)(r.c,{open:t,onClose:s,children:[(0,u.jsx)(o.c,{className:"bg-primary text-white mb-2 px-3 py-2",children:h?"Edit Project":"Create Project"}),(0,u.jsx)(n.c,{children:(0,u.jsxs)("form",{onSubmit:e=>{e.preventDefault(),h?E()&&(0,c.q)({address:"taskManagement/project",method:"PUT",bodyData:_}).then((e=>{e.success?(s(),x((e=>!e)),d.m4.success(e.message)):d.m4.error(e.message)})).catch((e=>console.error("Fetch Error:",e))):(()=>{if(!E())return;const e={..._,Company_id:j.Company_id};(0,c.q)({address:"taskManagement/project",method:"POST",bodyData:e}).then((e=>{e.success?(s(),x((e=>!e)),d.m4.success(e.message)):d.m4.error(e.message)})).catch((e=>{console.error("Fetch Error:",e),d.m4.error("An error occurred while creating the project.")}))})()},children:[(0,u.jsx)("div",{className:"row",children:P.map(((e,t)=>(0,u.jsxs)("div",{className:"col-lg-4 mb-3",children:[(0,u.jsxs)("label",{children:[e.label," ",e.required&&(0,u.jsx)(i.c,{})]}),"textarea"===e.elem?(0,u.jsx)("textarea",{name:e.name,className:"cus-inpt",value:e.value,onChange:C}):"select"===e.elem?(0,u.jsxs)("select",{name:e.name,className:"cus-inpt",value:e.value,onChange:C,children:[(0,u.jsx)("option",{value:"",children:"Select"}),e.options&&e.options.map(((e,t)=>(0,u.jsx)("option",{value:e.value,children:e.label},t)))]}):(0,u.jsx)("input",{type:e.type,name:e.name,className:"cus-inpt",value:e.value,onChange:C})]},t)))}),(0,u.jsxs)(l.c,{children:[(0,u.jsx)("button",{className:"btn btn-light rounded-5 px-3",type:"button",onClick:s,children:"Cancel"}),(0,u.jsx)("button",{className:"btn btn-primary rounded-5 px-3",type:"submit",children:h?"Update":"Submit"})]})]})})]})})}},69272:(e,t,s)=>{s.r(t),s.d(t,{default:()=>T});var a=s(69060),r=s(5548),o=s(82656),n=s(26773),l=s(4488),c=s(90048),d=s(28655),i=s(14168),p=s(56480),u=s(77536),m=s(1908),h=s(8436),x=s(45108),y=s(32635),j=s(12572),g=s(15786),v=s(56880),b=s(89e3),f=s(27532),_=s(18256),S=s(29720),C=s(61584),E=s(39308),P=s(82496);const N=function(e){let{dialogOpen:t,setDialogOpen:s,projectid:r,reload:d,onReload:i,selectedProject:u}=e;const[h,x]=(0,a.useState)([]),y=JSON.parse(localStorage.getItem("user")),[N,T]=(null===y||void 0===y||y.Company_id,(0,a.useState)({startDate:(0,E.Q7)()||(new Date).toISOString().split("T")[0]})),[k,D]=(0,a.useState)(!1),[w,I]=(0,a.useState)([]),[A,q]=(0,a.useState)(""),[M,F]=(0,a.useState)("1"),[L,$]=(0,a.useState)([]),[R,O]=(0,a.useState)([]),H=(e,t)=>{F(t)},U=(e,t)=>{I(e),q(t),D(!0)},V=()=>{D(!1),I([]),q("")};return(0,a.useEffect)((()=>{if(h.length>0&&h[0].TaskDetails)try{const e=JSON.parse(h[0].TaskDetails);O(e)}catch(e){console.error("Error parsing TaskDetails:",e)}}),[h]),(0,a.useEffect)((()=>{(async()=>{(0,m.q)({address:"taskManagement/project/schedule/newscheduleType"}).then((e=>{e.success?$(e.data):p.m4.error(e.message)}))})()}),[r]),(0,a.useEffect)((()=>{r&&(async()=>{N.startDate&&""!==N.startDate||T({...N,startDate:(new Date).toISOString().split("T")[0]});try{const e=await(0,m.q)({address:`taskManagement/project/schedule/projectDetailsforReport?Project_Id=${r}&StartDate=${N.startDate}`});e.success?x(e.data):p.m4.error("Failed to fetch task details")}catch(e){p.m4.error("Error while fetching task details"),console.error("Error while fetching task details:",e)}})()}),[N.startDate,r]),(0,P.jsxs)(P.Fragment,{children:[(0,P.jsxs)(o.c,{open:t,fullWidth:!0,maxWidth:"lg",PaperProps:{style:{height:"75vh"}},children:[(0,P.jsx)(n.c,{children:(0,P.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,P.jsx)("span",{children:null===u||void 0===u?void 0:u.Project_Name}),(0,P.jsx)("div",{style:{display:"flex",alignItems:"center"}})]})}),(0,P.jsx)(j.c,{sx:{width:"100%",typography:"body1"},children:h.map(((e,t)=>{const s=JSON.parse(e.SchTypes);return(0,P.jsxs)(_.cp,{value:M,children:[(0,P.jsx)(j.c,{sx:{borderBottom:1,borderColor:"divider"},children:(0,P.jsxs)(S.c,{onChange:H,"aria-label":"Schedule Types",children:[Array.isArray(s)&&s.length>0?s.map(((e,t)=>(0,P.jsx)(g.c,{label:e.SchType||"No SchType",value:(e.SchTypeId||t).toString(),id:`tab-${e.SchTypeId||t}`,"aria-controls":`tabpanel-${e.SchTypeId||t}`},`${e.SchTypeId||"index"}-${t}`))):(0,P.jsxs)(v.c,{variant:"body2",color:"textSecondary",sx:{padding:2},children:["No Details Available for ",s]}),(0,P.jsx)(g.c,{label:"Today",value:"today",id:"tab-today","aria-controls":"tabpanel-today"})]})}),Array.isArray(s)&&s.map(((e,t)=>(0,P.jsxs)(C.c,{value:(e.SchTypeId||t).toString(),id:`tabpanel-${e.SchTypeId||t}`,"aria-labelledby":`tab-${e.SchTypeId||t}`,children:[(0,P.jsx)(j.c,{sx:{marginBottom:2,padding:2,backgroundColor:"#f9f9f9",borderRadius:"8px"},children:Array.isArray(e.TaskCountsInSchType)&&e.TaskCountsInSchType.length>0?e.TaskCountsInSchType.map(((t,s)=>(0,P.jsxs)(v.c,{variant:"body1",display:"flex",justifyContent:"space-between",alignItems:"center",children:[(0,P.jsxs)(j.c,{children:["Schedule Type: ",(0,P.jsx)("strong",{children:e.SchType})]}),(0,P.jsxs)(j.c,{textAlign:"right",children:["Total Tasks: ",(0,P.jsx)("strong",{children:t.TotalTasks})," / Completed Tasks: ",(0,P.jsx)("strong",{children:t.CompletedTasks})]})]},s))):(0,P.jsx)(v.c,{variant:"body2",color:"textSecondary",children:"No tasks counted for this schedule type."})}),Array.isArray(e.Tasks)&&e.Tasks.length>0?(0,P.jsx)(j.c,{sx:{display:"flex",flexDirection:"column",width:"100%"},children:e.Tasks.map((e=>(0,P.jsxs)("div",{style:{backgroundColor:"#f0f4ff",boxShadow:"black",padding:"16px",borderRadius:"8px",display:"flex",margin:"8px 0",width:"100%",justifyContent:"space-between"},children:[(0,P.jsx)(v.c,{fontWeight:"bold",style:{marginBottom:"8px"},children:e.Task_Name||"DEFAULT TASK"}),Array.isArray(e.AssignedEmployees)&&e.AssignedEmployees.length>0?(0,P.jsx)(b.c,{onClick:()=>U(e.AssignedEmployees,e.Task_Name),sx:{marginLeft:"auto"},children:(0,P.jsx)("span",{style:{textAlign:"left"},children:"View Employees"})}):(0,P.jsx)("span",{style:{marginLeft:"60px",textAlign:"left"},children:"No employees assigned"})]},e.Task_Id)))}):(0,P.jsx)(v.c,{variant:"body2",color:"textSecondary",children:"No tasks available for this task type."})]},`${e.SchTypeId||"index"}-${t}`))),(0,P.jsxs)(C.c,{value:"today",id:"tabpanel-today","aria-labelledby":"tab-today",children:[(0,P.jsx)(j.c,{sx:{padding:2},children:Array.isArray(R)&&R.length>0?(0,P.jsx)("div",{children:(0,P.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,P.jsx)(v.c,{variant:"h6",gutterBottom:!0,style:{margin:0},children:"Task Details for"}),(0,P.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[(0,P.jsx)("span",{style:{verticalAlign:"middle"},children:"From:"}),(0,P.jsx)("input",{type:"date",value:N.startDate,onChange:e=>T({...N,startDate:e.target.value}),className:"cus-inpt",style:{padding:"5px",borderRadius:"4px",border:"1px solid #ccc"}})]})]})}):(0,P.jsx)(v.c,{variant:"body2",color:"textSecondary",children:"No tasks available for today."})}),Array.isArray(R)&&R.length>0?R.map((e=>(0,P.jsxs)("div",{style:{backgroundColor:"#fff",padding:"16px",borderRadius:"12px",boxShadow:"0 2px 10px rgba(0, 0, 0, 0.1)",marginBottom:"16px",display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center"},children:[(0,P.jsx)(v.c,{variant:"h6",fontWeight:"bold",sx:{color:"#2c3e50",marginRight:"16px"},children:e.Task_Name||"DEFAULT TASK"}),(0,P.jsx)(j.c,{sx:{display:"flex",flexWrap:"wrap"},children:Array.isArray(e.AssignedEmployees)&&e.AssignedEmployees.length>0?(0,P.jsx)(b.c,{onClick:()=>U(e.AssignedEmployees,e.Task_Name),sx:{marginLeft:"8px"},children:"View Employees"}):(0,P.jsx)(v.c,{variant:"body2",color:"textSecondary",sx:{marginLeft:"8px"},children:"No Employees Assigned"})})]},e.Task_Id))):(0,P.jsx)(v.c,{variant:"body2",color:"textSecondary",sx:{padding:"16px"},children:"No tasks available for today."})]})]},t)}))}),(0,P.jsx)(c.c,{sx:{marginTop:"auto",position:"sticky",bottom:0},children:(0,P.jsx)(b.c,{variant:"contained",color:"primary",onClick:async()=>{s(!1)},children:"Close"})})]}),(0,P.jsxs)(o.c,{open:k,onClose:V,children:[(0,P.jsxs)(n.c,{children:["Employee Details for ",A]}),(0,P.jsx)(l.c,{children:w.length>0?(0,P.jsx)(j.c,{sx:{display:"flex",flexWrap:"wrap"},children:w.map(((e,t)=>(0,P.jsx)(f.c,{label:e.Name,variant:"outlined",size:"small",sx:{margin:"4px",color:"green"}},t)))}):(0,P.jsx)(v.c,{variant:"body1",children:"No employees assigned to this task."})}),(0,P.jsx)(c.c,{children:(0,P.jsx)(b.c,{onClick:V,color:"primary",children:"Close"})})]})]})},T=()=>{const[e,t]=(0,a.useState)(!1),[s,j]=(0,a.useState)([]),[g,v]=(0,a.useState)([]),{contextObj:b}=(0,a.useContext)(u.a),[f,_]=(0,a.useState)(!1),[S,C]=(0,a.useState)(null),[E,T]=(0,a.useState)(!1),[k,D]=(0,a.useState)(0),[w,I]=(0,a.useState)(!1),[A,q]=(0,a.useState)(null),[M,F]=(0,a.useState)(!1),[L,$]=(0,a.useState)(!1),[R,O]=(0,a.useState)(""),H=JSON.parse(localStorage.getItem("user"));(0,a.useEffect)((()=>{V(),W()}),[null===H||void 0===H?void 0:H.Company_id,e]);const U=()=>t((e=>!e)),V=async()=>{try{const e=await(0,m.q)({address:`taskManagement/project/newProjectAbstract?Company_id=${null===H||void 0===H?void 0:H.Company_id}`});j(e.success?e.data:[])}catch(e){console.error(e),j([])}},W=async()=>{try{const e=await(0,m.q)({address:`taskManagement/project?Company_id=${null===H||void 0===H?void 0:H.Company_id}`});v(e.success?e.data:[])}catch(e){console.error(e),v([])}},z=()=>{A&&(0,m.q)({address:"taskManagement/project",method:"DELETE",bodyData:{Project_Id:null===A||void 0===A?void 0:A.Project_Id}}).then((s=>{s.success?(t(!e),p.m4.success(s.message)):p.m4.error(s.message)})).catch((e=>console.error("Fetch Error:",e))),I(!1)},B=[{name:"Project",selector:e=>e.Project_Name,sortable:!0,width:"250px"},{name:"Head",selector:e=>{var t;return null===(t=g.find((t=>t.Project_Id===e.Project_Id)))||void 0===t?void 0:t.Project_Head_Name},sortable:!0},{name:"Status",selector:e=>{var t;return null===(t=g.find((t=>t.Project_Id===e.Project_Id)))||void 0===t?void 0:t.Status},sortable:!0},{name:"End Date",selector:e=>e.Est_End_Dt?new Date(e.Est_End_Dt).toLocaleDateString("en-IN"):"N/A",sortable:!0},{name:"Progress",selector:e=>{return`${t=e.TodayTaskcounts,s=e.CompletedTasks,0===Number(t)?0:(Number(s)/Number(t)*100).toFixed(0)}%`;var t,s},sortable:!0},{name:"Task Details",cell:e=>(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(r.c,{onClick:()=>J(e),children:(0,P.jsx)(d.c,{})}),e.CompletedTasks," / ",e.TodayTaskcounts]})},{name:"Task Count",selector:e=>null===e||void 0===e?void 0:e.TodayTaskcounts,sortable:!0,sortable:!0},{name:"Assigned",selector:e=>e.TasksAssignedToEmployee},{name:"Employees",cell:e=>(0,P.jsxs)(P.Fragment,{children:[1===Number(null===b||void 0===b?void 0:b.Add_Rights)&&(0,P.jsx)(r.c,{onClick:()=>Y(e.Project_Id),children:(0,P.jsx)(i.c,{})}),e.EmployeesInvolved]})}],Q=s.filter((e=>{var t,s;const a=(null===(t=g.find((t=>t.Project_Id===e.Project_Id)))||void 0===t?void 0:t.Project_Head_Name)||"",r=(null===(s=g.find((t=>t.Project_Id===e.Project_Id)))||void 0===s?void 0:s.Status)||"";return e.Project_Name.toLowerCase().includes(R.toLowerCase())||a.toLowerCase().includes(R.toLowerCase())||r.toLowerCase().includes(R.toLowerCase())})),J=e=>{C(e),D(e.Project_Id),$(!0)},K=()=>{_(!1),$(!1),C(null),q(null),I(!1)},Y=e=>{D(e),F(!0)};return(0,P.jsxs)(P.Fragment,{children:[(0,P.jsxs)("div",{className:"fw-bold d-flex align-items-center justify-content-between mt-0 mb-3 ",children:[(0,P.jsx)("span",{style:{marginLeft:"10px"},children:"Projects"}),(0,P.jsx)("div",{className:"mb-1",style:{display:"flex",alignItems:"center"},children:(0,P.jsx)("div",{style:{position:"relative",display:"flex",alignItems:"center"}})})]}),(0,P.jsxs)("div",{className:"card-body p-0 table-container",children:[(0,P.jsx)(y.cp,{columns:B,data:Q,pagination:!0,highlightOnHover:!0,fixedHeader:!0,paginationPerPage:15,responsive:!0,persistTableHead:!0,customStyles:{headCells:{style:{fontSize:"16px",fontWeight:"bold",padding:"10px",backgroundColor:"#2c3e50",color:"#ecf0f1",position:"sticky",top:0,zIndex:2}},cells:{style:{padding:"8px",fontSize:"14px",backgroundColor:"#f9f9f9",color:"#2c3e50"}},rows:{style:{borderBottom:"1px solid #ddd"}}},style:{overflowY:"auto",maxHeight:"calc(100vh - 200px)"}}),(0,P.jsxs)(o.c,{open:w,onClose:K,"aria-labelledby":"delete-dialog-title","aria-describedby":"delete-dialog-description",children:[(0,P.jsx)(n.c,{className:"bg-danger text-white mb-2 px-3 py-2",style:{fontSize:"18px"},children:"Confirm Deletion"}),(0,P.jsxs)(l.c,{className:"p-4",style:{fontSize:"16px"},children:["Are you sure you want to delete the project",(0,P.jsx)("span",{className:"text-primary",children:" "+(null===A||void 0===A?void 0:A.Project_Name)+" "}),"?"]}),(0,P.jsxs)(c.c,{children:[(0,P.jsx)("button",{onClick:()=>I(!1),className:"btn btn-secondary fa-13 shadow",style:{background:"#95a5a6",color:"white",borderRadius:"25px",padding:"8px 15px",cursor:"pointer"},children:"Cancel"}),(0,P.jsx)("button",{onClick:z,className:"btn btn-danger fa-13 shadow",style:{background:"#e74c3c",color:"white",borderRadius:"25px",padding:"8px 15px",cursor:"pointer"},children:"Delete"})]})]})]}),(0,P.jsx)(N,{onClose:K,dialogOpen:L,setDialogOpen:$,isEdit:!1,parseData:H,projectid:k,onReload:U,selectedProject:S}),(0,P.jsx)(h.c,{open:f,onClose:K,inputValue:S,isEdit:E,setReload:U,projectData:k}),(0,P.jsx)(x.c,{open:M,onClose:()=>F(!1),projectId:k,onReload:U}),(0,P.jsxs)(o.c,{open:w,onClose:K,"aria-labelledby":"delete-dialog-title","aria-describedby":"delete-dialog-description",children:[(0,P.jsx)(n.c,{className:"bg-primary text-white mb-2 px-3 py-2",children:"Confirmation"}),(0,P.jsxs)(l.c,{className:"p-4",children:["Do you want to delete the project",(0,P.jsx)("span",{className:"text-primary",children:" "+(null===A||void 0===A?void 0:A.Project_Name)+" "}),"?"]}),(0,P.jsxs)(c.c,{children:[(0,P.jsx)("button",{onClick:()=>I(!1),className:"btn btn-secondary fa-13 shadow",children:"Cancel"}),(0,P.jsx)("button",{onClick:z,className:"btn btn-danger fa-13 shadow",children:"Delete"})]})]})]})}},45108:(e,t,s)=>{s.d(t,{c:()=>S});var a=s(69060),r=s(82656),o=s(90048),n=s(89e3),l=s(4488),c=s(99904),d=s(33856),i=s(58612),p=s(27454),u=s(96464),m=s(29504),h=s(26773),x=s(71448),y=s(44380),j=s(1908),g=s(56480),v=s(12572),b=s(77536),f=s(76552),_=s(82496);const S=e=>{let{open:t,onClose:s,projectId:S,onReload:C}=e;const E={Name:"",Designation_Name:"",BranchName:""},[P,N]=(0,a.useState)(E),[T,k]=(0,a.useState)(!0),[D,w]=(0,a.useState)(!1),[I,A]=(0,a.useState)([]),[q,M]=(0,a.useState)([]),F=localStorage.getItem("user"),L=JSON.parse(F),{contextObj:$}=(0,a.useContext)(b.a);(0,a.useEffect)((()=>{t&&S&&(R(),O(),H())}),[t,S]);const R=async()=>{k(!0);try{const e=await(0,j.q)({address:`masters/Employeedetails?Project_Id=${S}`});e.success&&N(e.data)}catch(e){console.error(e),g.m4.error("Failed to fetch employee details")}finally{k(!1)}},O=async()=>{k(!0);try{const e=await(0,j.q)({address:`masters/Employeedetails/dropDown?Company_id=${L.Company_id}`});e.success&&A(e.data)}catch(e){console.error(e),g.m4.error("Failed to fetch employees for dropdown")}finally{k(!1)}},H=async()=>{k(!0);try{const e=await(0,j.q)({address:`masters/Employeedetails?Project_Id=${S}`});e.success&&M(e.data)}catch(e){console.error(e),g.m4.error("Failed to fetch assigned employees")}finally{k(!1)}},U=()=>{s(),N(E)};return(0,_.jsxs)(_.Fragment,{children:[(0,_.jsxs)(r.c,{open:t,maxWidth:"sm",fullWidth:!0,children:[(0,_.jsxs)(v.c,{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:2,marginInlineStart:2,children:[(0,_.jsx)("span",{children:"Employee Details"}),(0,_.jsx)(o.c,{children:(0,_.jsx)(n.c,{variant:"contained",color:"primary",onClick:()=>{w(!0)},sx:{mr:1},children:"Add"})})]}),(0,_.jsx)(l.c,{children:T?(0,_.jsx)("p",{children:"Loading..."}):(0,_.jsx)(c.c,{children:(0,_.jsxs)(d.c,{children:[(0,_.jsx)(i.c,{children:(0,_.jsxs)(p.c,{children:[(0,_.jsx)(u.c,{children:"Employee Name"}),(0,_.jsx)(u.c,{children:"Position"}),(0,_.jsx)(u.c,{children:"Department"})]})}),(0,_.jsx)(m.c,{children:Array.isArray(P)&&P.length>0?P.map((e=>(0,_.jsxs)(p.c,{children:[(0,_.jsx)(u.c,{children:e.Name||"N/A"}),(0,_.jsx)(u.c,{children:e.Designation_Name||"-"}),(0,_.jsx)(u.c,{children:e.BranchName||"-"})]},e.EmployeeId||e.UserId))):(0,_.jsx)(p.c,{children:(0,_.jsx)(u.c,{colSpan:3,children:"No data available"})})})]})})}),(0,_.jsx)(o.c,{sx:{marginTop:"auto ",position:"sticky",bottom:0},children:(0,_.jsx)(n.c,{variant:"contained",color:"primary",onClick:U,children:"Close"})})]}),(0,_.jsxs)(r.c,{open:D,maxWidth:"sm",fullWidth:!0,children:[(0,_.jsx)(h.c,{children:"Add Employee"}),(0,_.jsx)(l.c,{children:(0,_.jsx)(x.c,{multiple:!0,options:I,getOptionLabel:e=>e.Name,isOptionEqualToValue:(e,t)=>e.UserId===t.UserId,onChange:(e,t)=>{const s=t.filter(((e,t,s)=>t===s.findIndex((t=>t.UserId===e.UserId))));M(s)},PopperComponent:e=>(0,_.jsx)(f.c,{...e,placement:"top"}),value:q,onClose:onclose,renderInput:e=>(0,_.jsx)(y.c,{...e,placeholder:"Employees"})})}),(0,_.jsxs)(o.c,{children:[(0,_.jsx)(n.c,{onClick:()=>{w(!1),U(),N(E)},children:"Cancel"}),(0,_.jsx)(n.c,{onClick:async()=>{if(1===Number(null===$||void 0===$?void 0:$.Add_Rights))try{(await(0,j.q)({address:"masters/Employeedetails/employeeAdd",method:"POST",bodyData:{Project_Id:S,UserIds:q.map((e=>e.UserId))}})).success?(g.m4.success("Employees added successfully"),w(!1),await R(),await H(),C()):g.m4.error("Failed to add employees")}catch(e){console.error(e),g.m4.error("Error adding employees")}},variant:"contained",color:"primary",children:"Add"})]})]})]})}},28655:(e,t,s)=>{s.d(t,{c:()=>o});var a=s(27664),r=s(82496);const o=(0,a.c)((0,r.jsx)("path",{d:"M19 19H5V5h7V3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2v-7h-2zM14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3z"}),"Launch")},14168:(e,t,s)=>{s.d(t,{c:()=>o});var a=s(27664),r=s(82496);const o=(0,a.c)((0,r.jsx)("path",{d:"M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5c-1.66 0-3 1.34-3 3s1.34 3 3 3m-8 0c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5C6.34 5 5 6.34 5 8s1.34 3 3 3m0 2c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5m8 0c-.29 0-.62.02-.97.05 1.16.84 1.97 1.97 1.97 3.45V19h6v-2.5c0-2.33-4.67-3.5-7-3.5"}),"People")},18256:(e,t,s)=>{s.d(t,{Ed:()=>d,cp:()=>n,oF:()=>l,qM:()=>c});var a=s(69060),r=s(82496);const o=a.createContext(null);function n(e){const{children:t,value:s}=e,n=function(){const[e,t]=a.useState(null);return a.useEffect((()=>{t(`mui-p-${Math.round(1e5*Math.random())}`)}),[]),e}(),l=a.useMemo((()=>({idPrefix:n,value:s})),[n,s]);return(0,r.jsx)(o.Provider,{value:l,children:t})}function l(){return a.useContext(o)}function c(e,t){const{idPrefix:s}=e;return null===s?null:`${e.idPrefix}-P-${t}`}function d(e,t){const{idPrefix:s}=e;return null===s?null:`${e.idPrefix}-T-${t}`}},29720:(e,t,s)=>{s.d(t,{c:()=>i});var a=s(45072),r=s(95656),o=s(69060),n=s(77828),l=s(18256),c=s(82496);const d=["children"],i=o.forwardRef((function(e,t){const{children:s}=e,i=(0,r.c)(e,d),p=(0,l.oF)();if(null===p)throw new TypeError("No TabContext provided");const u=o.Children.map(s,(e=>o.isValidElement(e)?o.cloneElement(e,{"aria-controls":(0,l.qM)(p,e.props.value),id:(0,l.Ed)(p,e.props.value)}):null));return(0,c.jsx)(n.c,(0,a.c)({},i,{ref:t,value:p.value,children:u}))}))},61584:(e,t,s)=>{s.d(t,{c:()=>y});var a=s(45072),r=s(95656),o=s(69060),n=s(79736),l=s(12556),c=s(23456),d=s(21412),i=s(33448);function p(e){return(0,i.cp)("MuiTabPanel",e)}(0,s(10099).c)("MuiTabPanel",["root"]);var u=s(18256),m=s(82496);const h=["children","className","value"],x=(0,l.cp)("div",{name:"MuiTabPanel",slot:"Root",overridesResolver:(e,t)=>t.root})((e=>{let{theme:t}=e;return{padding:t.spacing(3)}})),y=o.forwardRef((function(e,t){const s=(0,c.c)({props:e,name:"MuiTabPanel"}),{children:o,className:l,value:i}=s,y=(0,r.c)(s,h),j=(0,a.c)({},s),g=(e=>{const{classes:t}=e;return(0,d.c)({root:["root"]},p,t)})(j),v=(0,u.oF)();if(null===v)throw new TypeError("No TabContext provided");const b=(0,u.qM)(v,i),f=(0,u.Ed)(v,i);return(0,m.jsx)(x,(0,a.c)({"aria-labelledby":f,className:(0,n.c)(g.root,l),hidden:i!==v.value,id:b,ref:t,role:"tabpanel",ownerState:j},y,{children:i===v.value&&o}))}))},12572:(e,t,s)=>{s.d(t,{c:()=>d});var a=s(0),r=s(31152),o=s(46712),n=s(83068);const l=(0,s(10099).c)("MuiBox",["root"]),c=(0,o.c)(),d=(0,a.c)({themeId:n.c,defaultTheme:c,defaultClassName:l.root,generateClassName:r.c.generate})},38780:(e,t,s)=>{s.d(t,{c:()=>o});s(69060);var a=s(27664),r=s(82496);const o=(0,a.c)((0,r.jsx)("path",{d:"M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"}),"KeyboardArrowLeft")},46320:(e,t,s)=>{s.d(t,{c:()=>o});s(69060);var a=s(27664),r=s(82496);const o=(0,a.c)((0,r.jsx)("path",{d:"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"}),"KeyboardArrowRight")}}]);
//# sourceMappingURL=7380.b699dcf2.chunk.js.map
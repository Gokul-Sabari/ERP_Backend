"use strict";(self.webpackChunkerp=self.webpackChunkerp||[]).push([[9408],{39408:(e,a,l)=>{l.r(a),l.d(a,{default:()=>A});var s=l(30800),t=l(69060),r=l(39308),n=l(56480),d=l(5548),c=l(43692),i=l(89e3),o=l(84436),x=l(12572),u=l(15786),h=l(82656),v=l(26773),m=l(4488),j=l(90048),N=l(18256),b=l(29720),p=l(61584),f=l(86e3),y=l(77536),D=l(1908),T=l(82496);const A=()=>{const e=JSON.parse(localStorage.getItem("user")),[a,l]=(0,t.useState)([]),[A,E]=(0,t.useState)(!1),S={Id:"",EntryDate:(0,r.Q7)(),LocationDetails:"MILL",Purchase:0,OtherGodown:0,PurchaseTransfer:0,Handle:0,WGChecking:0,LorryShed:0,VandiVarum:0,DDSales:0,SalesOtherGodown:0,SalesTransfer:0,EntryBy:e.UserId},[g,C]=(0,t.useState)(S),{contextObj:O}=(0,t.useContext)(y.a),[w,G]=(0,t.useState)({Fromdate:(0,r.Ir)(),Todate:(0,r.Q7)(),LocationDetails:"MILL",dialog:!1,view:"DATA ENTRY"});(0,t.useEffect)((()=>{(0,D.q)({address:"dataEntry/godownActivities?Fromdate=".concat(w.Fromdate,"&Todate=").concat(w.Todate,"&LocationDetails=").concat(w.LocationDetails)}).then((e=>l(null===e||void 0===e?void 0:e.data))).catch((e=>console.error(e)))}),[A,w.Fromdate,w.Todate,w.LocationDetails]);const L=()=>{G((e=>(0,s.c)((0,s.c)({},e),{},{dialog:!1}))),C(S)},R=e=>{var a,l,n,c,i,o,x,u,h;let{o:v,sno:m}=e;const[j,N]=(0,t.useState)(!1),[b,p]=(0,t.useState)(!1);return(0,T.jsxs)(T.Fragment,{children:[(0,T.jsxs)("tr",{children:[(0,T.jsx)("td",{className:"fa-13 border text-center",children:m}),(0,T.jsx)("td",{className:(null===v||void 0===v||null===(a=v.DayEntries)||void 0===a?void 0:a.length)>1?"fa-13 border text-center text-primary":"fa-13 border text-center",onClick:()=>N(!j),children:j?(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)("p",{className:"m-0",children:null!==v&&void 0!==v&&v.EntryDate?(0,r.uy)(null===v||void 0===v?void 0:v.EntryDate):"-"}),(0,T.jsx)("p",{className:"m-0 text-dark",children:null!==v&&void 0!==v&&null!==(l=v.DayEntries[0])&&void 0!==l&&l.EntryAt?(0,r.ao)(null===v||void 0===v||null===(n=v.DayEntries[0])||void 0===n?void 0:n.EntryAt):"-"})]}):(0,T.jsx)("p",{className:"m-0",children:null!==v&&void 0!==v&&v.EntryDate?(0,r.uy)(null===v||void 0===v?void 0:v.EntryDate):"-"})}),(0,T.jsx)("td",{className:"fa-15 border text-center fw-bold text-primary",children:(0,r.aU)(null===v||void 0===v||null===(c=v.DayEntries[0])||void 0===c?void 0:c.PurchaseTotal)}),["Purchase","OtherGodown","PurchaseTransfer","Handle","WGChecking"].map(((e,a)=>(0,T.jsx)("td",{className:"fa-13 border text-center",children:(0,r.aU)(null===v||void 0===v?void 0:v.DayEntries[0][e])},a))),(0,T.jsx)("td",{className:"fa-15 border text-center fw-bold text-primary",children:(0,r.aU)(null===v||void 0===v||null===(i=v.DayEntries[0])||void 0===i?void 0:i.SalesTotal)}),(0,T.jsx)("td",{className:"fa-14 border text-center fw-bold text-primary",children:(0,r.aU)(null===v||void 0===v||null===(o=v.DayEntries[0])||void 0===o?void 0:o.SalesOnlyTotal)}),["LorryShed","VandiVarum","DDSales","SalesTransfer"].map(((e,a)=>(0,T.jsx)("td",{className:"fa-13 border text-center",children:(0,r.aU)(null===v||void 0===v?void 0:v.DayEntries[0][e])},a))),(0,T.jsx)("td",{className:"fa-14 border text-center fw-bold text-primary",children:(0,r.aU)(null===v||void 0===v||null===(x=v.DayEntries[0])||void 0===x?void 0:x.SalesOtherGodown)}),(0,T.jsx)("td",{className:"fa-13 border text-center",children:(0,r.Qr)(null===O||void 0===O?void 0:O.Edit_Rights,1)&&(0,T.jsx)(d.c,{onClick:()=>{C(null===v||void 0===v?void 0:v.DayEntries[0]),G((e=>(0,s.c)((0,s.c)({},e),{},{dialog:!0})))},size:"small",children:(0,T.jsx)(f.c,{className:"fa-18"})})})]}),j&&(null===v||void 0===v||null===(u=v.DayEntries)||void 0===u?void 0:u.length)>1&&(null===v||void 0===v||null===(h=v.DayEntries)||void 0===h?void 0:h.map(((e,a)=>a>0&&(0,T.jsxs)("tr",{children:[(0,T.jsx)("td",{className:"fa-13 border text-center",children:m+"."+a}),(0,T.jsx)("td",{className:"fa-13 border text-center",onClick:()=>p((e=>!e)),children:b?(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)("p",{className:"m-0",children:null!==e&&void 0!==e&&e.EntryAt?(0,r.uy)(null===e||void 0===e?void 0:e.EntryAt):"-"}),(0,T.jsx)("p",{className:"m-0 text-dark",children:null!==e&&void 0!==e&&e.EntryAt?(0,r.ao)(null===e||void 0===e?void 0:e.EntryAt):"-"})]}):(0,T.jsx)("p",{className:"m-0",children:null!==e&&void 0!==e&&e.EntryAt?(0,r.uy)(null===e||void 0===e?void 0:e.EntryAt):"-"})}),(0,T.jsx)("td",{className:"fa-15 border text-center fw-bold text-primary",children:(0,r.aU)(null===e||void 0===e?void 0:e.PurchaseTotal)}),["Purchase","OtherGodown","PurchaseTransfer","Handle","WGChecking"].map(((a,l)=>(0,T.jsx)("td",{className:"fa-13 border text-center",children:(0,r.aU)(e[a])},l))),(0,T.jsx)("td",{className:"fa-15 border text-center fw-bold text-primary",children:(0,r.aU)(null===e||void 0===e?void 0:e.SalesTotal)}),(0,T.jsx)("td",{className:"fa-14 border text-center fw-bold text-primary",children:(0,r.aU)(null===e||void 0===e?void 0:e.SalesOnlyTotal)}),["LorryShed","VandiVarum","DDSales","SalesTransfer"].map(((a,l)=>(0,T.jsx)("td",{className:"fa-13 border text-center",children:(0,r.aU)(e[a])},l))),(0,T.jsx)("td",{className:"fa-14 border text-center fw-bold text-primary",children:(0,r.aU)(null===e||void 0===e?void 0:e.SalesOtherGodown)}),(0,T.jsx)("td",{className:"fa-13 border text-center",children:(0,r.Qr)(null===O||void 0===O?void 0:O.Edit_Rights,1)&&(0,T.jsx)(d.c,{onClick:()=>{C(e),G((e=>(0,s.c)((0,s.c)({},e),{},{dialog:!0})))},size:"small",children:(0,T.jsx)(f.c,{className:"fa-18"})})})]},a))))]})},I=e=>{switch(e){case"DATA ENTRY":return(0,T.jsx)("div",{className:"table-responsive",style:{maxHeight:"60dvh"},children:(0,T.jsxs)("table",{className:"table",children:[(0,T.jsxs)("thead",{children:[(0,T.jsxs)("tr",{children:[(0,T.jsx)("th",{className:"border",colSpan:2}),(0,T.jsx)("th",{className:"fw-bold fa-13 border text-center text-muted",colSpan:4,children:"INWARD"}),(0,T.jsx)("th",{className:"fw-bold fa-13 border text-center text-muted",colSpan:2,children:"MANAGEMENT"}),(0,T.jsx)("th",{className:"fw-bold fa-13 border text-center text-muted",colSpan:7,children:"OUTWARD"}),(0,T.jsx)("th",{className:"border"})]}),(0,T.jsx)("tr",{children:["SNo","DATE","TOTAL","PURCHASE","OTHER GODOWN","TRANSFER","HANDLE","WG CHECKING","TOTAL","SALES TOTAL","LORRY SHED","VANDI VARUM","DD SALES","TRANSFER","OTHER GODOWN","ACTION"].map(((e,a)=>(0,T.jsx)("td",{className:"border fa-12 text-center tble-hed-stick",children:e},a)))})]}),(0,T.jsx)("tbody",{children:null===a||void 0===a?void 0:a.map(((e,a)=>(0,T.jsx)(R,{o:e,sno:a+1},a)))})]})});case"ABSTRACT":return(0,T.jsx)(T.Fragment,{children:(0,T.jsx)("div",{className:"table-responsive",children:(0,T.jsxs)("table",{className:"table mb-0",children:[(0,T.jsx)("thead",{children:(0,T.jsx)("tr",{children:["Sno","Date","Entries","INWARD","MANAGEMENT","OUTWARD"].map((e=>(0,T.jsx)("th",{className:"fa-14 border text-center text-muted",children:e},e)))})}),(0,T.jsx)("tbody",{children:null===a||void 0===a?void 0:a.map(((e,a)=>{var l,s,t,n,d;return(0,T.jsxs)("tr",{children:[(0,T.jsx)("td",{className:"fa-13 border text-center",children:a+1}),(0,T.jsx)("td",{className:"fa-13 border text-center",children:null!==e&&void 0!==e&&e.EntryDate?(0,r.uy)(null===e||void 0===e?void 0:e.EntryDate):"-"}),(0,T.jsx)("td",{className:"fa-13 border text-center",children:null===e||void 0===e||null===(l=e.DayEntries)||void 0===l?void 0:l.length}),(0,T.jsx)("td",{className:"fa-13 border text-center",children:(0,r.aU)(null===e||void 0===e||null===(s=e.DayEntries[0])||void 0===s?void 0:s.PurchaseTotal)}),(0,T.jsx)("td",{className:"fa-13 border text-center",children:(0,r.aU)((0,r.SA)((0,r.Q5)(null===e||void 0===e||null===(t=e.DayEntries[0])||void 0===t?void 0:t.Handle,null===e||void 0===e||null===(n=e.DayEntries[0])||void 0===n?void 0:n.WGChecking)))}),(0,T.jsx)("td",{className:"fa-13 border text-center",children:(0,r.aU)(null===e||void 0===e||null===(d=e.DayEntries[0])||void 0===d?void 0:d.SalesTotal)})]},a)}))})]})})});default:return(0,T.jsx)(T.Fragment,{})}};return(0,T.jsxs)(T.Fragment,{children:[(0,T.jsxs)(c.c,{children:[(0,T.jsxs)("div",{className:"px-3 py-2 fa-16 fw-bold border-bottom d-flex justify-content-between align-items-center",children:[(0,T.jsx)("span",{children:"Godown Activities"}),(0,r.Qr)(null===O||void 0===O?void 0:O.Add_Rights,1)&&(0,T.jsx)(i.c,{variant:"outlined",onClick:()=>G((e=>(0,s.c)((0,s.c)({},e),{},{dialog:!0}))),children:"Add Activity"})]}),(0,T.jsxs)(o.c,{className:"pt-0",children:[(0,T.jsxs)("div",{className:"d-flex flex-wrap",children:[(0,T.jsxs)("div",{className:"p-2",children:[(0,T.jsx)("label",{children:"FROM"}),(0,T.jsx)("br",{}),(0,T.jsx)("input",{value:w.Fromdate,type:"date",className:"cus-inpt w-auto",onChange:e=>G((a=>(0,s.c)((0,s.c)({},a),{},{Fromdate:e.target.value})))})]}),(0,T.jsxs)("div",{className:"p-2",children:[(0,T.jsx)("label",{children:"TO"}),(0,T.jsx)("br",{}),(0,T.jsx)("input",{value:w.Todate,type:"date",className:"cus-inpt w-auto",onChange:e=>G((a=>(0,s.c)((0,s.c)({},a),{},{Todate:e.target.value})))})]}),(0,T.jsxs)("div",{className:"p-2",children:[(0,T.jsx)("label",{children:"LOCATION"}),(0,T.jsx)("br",{}),(0,T.jsxs)("select",{className:"cus-inpt",value:w.LocationDetails,onChange:e=>G((a=>(0,s.c)((0,s.c)({},a),{},{LocationDetails:e.target.value}))),children:[(0,T.jsx)("option",{value:"MILL",children:"MILL"}),(0,T.jsx)("option",{value:"GODOWN",children:"GODOWN"})]})]})]}),(0,T.jsxs)(N.cp,{value:w.view,children:[(0,T.jsx)(x.c,{sx:{borderBottom:1,borderColor:"divider"},children:(0,T.jsxs)(b.c,{indicatorColor:"transparant",onChange:(e,a)=>G((e=>(0,s.c)((0,s.c)({},e),{},{view:a}))),variant:"scrollable",scrollButtons:"auto",allowScrollButtonsMobile:!0,children:[(0,T.jsx)(u.c,{sx:"DATA ENTRY"===w.view?{backgroundColor:"#c6d7eb"}:{},label:"DATA ENTRY",value:"DATA ENTRY"}),(0,T.jsx)(u.c,{sx:"ABSTRACT"===w.view?{backgroundColor:"#c6d7eb"}:{},label:"ABSTRACT",value:"ABSTRACT"})]})}),["DATA ENTRY","ABSTRACT"].map((e=>(0,T.jsx)(p.c,{value:e,sx:{px:0,py:2},children:null!==a&&void 0!==a&&a.length?I(e):(0,T.jsx)(T.Fragment,{})},e)))]})]})]}),(0,T.jsxs)(h.c,{open:w.dialog,onClose:L,fullWidth:!0,maxWidth:"sm",children:[(0,T.jsx)(v.c,{className:" bg-light",children:null!==g&&void 0!==g&&g.Id?"Modify Activity":"Add Godown Activity"}),(0,T.jsxs)(m.c,{children:[(0,T.jsx)("h6",{className:"border-bottom fw-bold text-muted py-2 m-0 mt-2",children:"DATE & LOCATION"}),(0,T.jsxs)("div",{className:"d-flex my-2",children:[(0,T.jsxs)("div",{className:"p-2",style:{width:"150px"},children:[(0,T.jsx)("label",{children:"DATE"}),(0,T.jsx)("input",{value:g.EntryDate,type:"date",className:"cus-inpt",onChange:e=>C((a=>(0,s.c)((0,s.c)({},a),{},{EntryDate:e.target.value})))})]}),(0,T.jsxs)("div",{className:"py-2",style:{width:"150px"},children:[(0,T.jsx)("label",{children:"LOCATION"}),(0,T.jsxs)("select",{value:null===g||void 0===g?void 0:g.LocationDetails,onChange:e=>C((a=>(0,s.c)((0,s.c)({},a),{},{LocationDetails:e.target.value}))),className:"cus-inpt",required:!0,children:[(0,T.jsx)("option",{value:"MILL",children:"MILL"}),(0,T.jsx)("option",{value:"GODOWN",children:"GODOWN"})]})]})]}),(0,T.jsx)("div",{className:"table-responsive",children:(0,T.jsx)("teble",{className:"table",children:(0,T.jsxs)("tbody",{children:[(0,T.jsx)("tr",{children:(0,T.jsx)("td",{colSpan:3,className:"fw-bold text-muted",children:" INWARD"})}),(0,T.jsxs)("tr",{children:[(0,T.jsxs)("td",{className:"border-0",children:[(0,T.jsx)("label",{className:"fa-14",children:"PURCHASE"}),(0,T.jsx)("input",{value:null!==g&&void 0!==g&&g.Purchase?null===g||void 0===g?void 0:g.Purchase:"",className:"cus-inpt",onInput:r.Gk,onChange:e=>C((a=>(0,s.c)((0,s.c)({},a),{},{Purchase:e.target.value})))})]}),(0,T.jsxs)("td",{className:"border-0",children:[(0,T.jsx)("label",{className:"fa-14",children:"OTHER GODOWN"}),(0,T.jsx)("input",{value:null!==g&&void 0!==g&&g.OtherGodown?null===g||void 0===g?void 0:g.OtherGodown:"",className:"cus-inpt",onInput:r.Gk,onChange:e=>C((a=>(0,s.c)((0,s.c)({},a),{},{OtherGodown:e.target.value})))})]}),(0,T.jsxs)("td",{className:"border-0",children:[(0,T.jsx)("label",{className:"fa-14",children:"TRANSFER"}),(0,T.jsx)("input",{value:null!==g&&void 0!==g&&g.PurchaseTransfer?null===g||void 0===g?void 0:g.PurchaseTransfer:"",className:"cus-inpt",onInput:r.Gk,onChange:e=>C((a=>(0,s.c)((0,s.c)({},a),{},{PurchaseTransfer:e.target.value})))})]}),(0,T.jsx)("td",{className:"border-0"})]}),(0,T.jsx)("tr",{children:(0,T.jsx)("td",{className:"border-0",colSpan:3})}),(0,T.jsx)("tr",{children:(0,T.jsx)("td",{className:"border-0",colSpan:3})}),(0,T.jsx)("tr",{children:(0,T.jsx)("td",{colSpan:3,className:"fw-bold text-muted",children:"STOCK HANDLING"})}),(0,T.jsxs)("tr",{children:[(0,T.jsxs)("td",{className:"border-0",children:[(0,T.jsx)("label",{className:"fa-14",children:"HANDLE"}),(0,T.jsx)("input",{value:null!==g&&void 0!==g&&g.Handle?null===g||void 0===g?void 0:g.Handle:"",className:"cus-inpt",onInput:r.Gk,onChange:e=>C((a=>(0,s.c)((0,s.c)({},a),{},{Handle:e.target.value})))})]}),(0,T.jsxs)("td",{className:"border-0",children:[(0,T.jsx)("label",{className:"fa-14",children:"WG CHECKING"}),(0,T.jsx)("input",{value:null!==g&&void 0!==g&&g.WGChecking?null===g||void 0===g?void 0:g.WGChecking:"",className:"cus-inpt",onInput:r.Gk,onChange:e=>C((a=>(0,s.c)((0,s.c)({},a),{},{WGChecking:e.target.value})))})]}),(0,T.jsx)("td",{className:"border-0"})]}),(0,T.jsx)("tr",{children:(0,T.jsx)("td",{className:"border-0",colSpan:3})}),(0,T.jsx)("tr",{children:(0,T.jsx)("td",{className:"border-0",colSpan:3})}),(0,T.jsx)("tr",{children:(0,T.jsx)("td",{colSpan:3,className:"fw-bold text-muted",children:" OUTWARD"})}),(0,T.jsxs)("tr",{children:[(0,T.jsxs)("td",{className:"border-0",children:[(0,T.jsx)("label",{className:"fa-14",children:"Lorry Shed"}),(0,T.jsx)("input",{value:null!==g&&void 0!==g&&g.LorryShed?null===g||void 0===g?void 0:g.LorryShed:"",className:"cus-inpt",onInput:r.Gk,onChange:e=>C((a=>(0,s.c)((0,s.c)({},a),{},{LorryShed:e.target.value})))})]}),(0,T.jsxs)("td",{className:"border-0",children:[(0,T.jsx)("label",{className:"fa-14",children:"Vandi Varum"}),(0,T.jsx)("input",{value:null!==g&&void 0!==g&&g.VandiVarum?null===g||void 0===g?void 0:g.VandiVarum:"",className:"cus-inpt",onInput:r.Gk,onChange:e=>C((a=>(0,s.c)((0,s.c)({},a),{},{VandiVarum:e.target.value})))})]}),(0,T.jsxs)("td",{className:"border-0",children:[(0,T.jsx)("label",{className:"fa-14",children:"DD Sales"}),(0,T.jsx)("input",{value:null!==g&&void 0!==g&&g.DDSales?null===g||void 0===g?void 0:g.DDSales:"",className:"cus-inpt",onInput:r.Gk,onChange:e=>C((a=>(0,s.c)((0,s.c)({},a),{},{DDSales:e.target.value})))})]})]}),(0,T.jsxs)("tr",{children:[(0,T.jsxs)("td",{className:"border-0",children:[(0,T.jsx)("label",{className:"fa-14",children:"TRANSFER"}),(0,T.jsx)("input",{value:null!==g&&void 0!==g&&g.SalesTransfer?null===g||void 0===g?void 0:g.SalesTransfer:"",className:"cus-inpt",onInput:r.Gk,onChange:e=>C((a=>(0,s.c)((0,s.c)({},a),{},{SalesTransfer:e.target.value})))})]}),(0,T.jsxs)("td",{className:"border-0",children:[(0,T.jsx)("label",{className:"fa-14",children:"OTHER GODOWN"}),(0,T.jsx)("input",{value:null!==g&&void 0!==g&&g.SalesOtherGodown?null===g||void 0===g?void 0:g.SalesOtherGodown:"",className:"cus-inpt",onInput:r.Gk,onChange:e=>C((a=>(0,s.c)((0,s.c)({},a),{},{SalesOtherGodown:e.target.value})))})]}),(0,T.jsx)("td",{className:"border-0"})]})]})})})]}),(0,T.jsxs)(j.c,{children:[(0,T.jsx)(i.c,{children:"CANCEL"}),(0,T.jsx)(i.c,{variant:"outlined",onClick:()=>{(0,D.q)({address:"dataEntry/godownActivities",method:g.Id?"PUT":"POST",headers:{"Content-Type":"application/json"},bodyData:g}).then((e=>{e.success?(n.m4.success(e.message),L(),E(!A)):n.m4.error(e.message)})).catch((e=>console.error(e)))},children:"save"})]})]})]})}}}]);
//# sourceMappingURL=9408.ab45de86.chunk.js.map
"use strict";(self.webpackChunkerp=self.webpackChunkerp||[]).push([[156],{13724:(e,l,t)=>{t.d(l,{A5:()=>O,Om:()=>H,cp:()=>E,oN:()=>B});var n=t(69060),i=t(3358),o=t(5548),a=t(66931),r=t(89500),s=t(93996),d=t(14696),c=t(13224),u=t(27454),m=t(96464),v=t(43692),x=t(85624),p=t(99904),h=t(33856),g=t(58612),b=t(53248),j=t(29504),f=t(5930),F=t(39308),C=t(4284),y=t(41459),N=t(46864),_=t(76491),S=t(10728),w=t(49608),D=t(28064),k=(t(37692),t(35832)),z=t(82496);const P=(e,l)=>e.map((e=>{const t={};return l.forEach(((l,n)=>{if(l.isVisible||l.Defult_Display)if(l.isCustomCell&&l.Cell){const i=l.Cell({row:e}),o=l.ColumnHeader?String(l.ColumnHeader).replace(/\s+/g,"_").toLowerCase():`field_${n+1}`;"string"!==typeof i&&"number"!==typeof i&&"bigint"!==typeof i||(t[o]=i)}else{let n=l.Field_Name;t[n]=e[n]||""}})),t})),O=function(){let e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return{isVisible:arguments.length>5&&void 0!==arguments[5]?arguments[5]:1,Field_Name:arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",Fied_Data:arguments.length>1&&void 0!==arguments[1]?arguments[1]:"string",align:arguments.length>3&&void 0!==arguments[3]?arguments[3]:"left",verticalAlign:arguments.length>4&&void 0!==arguments[4]?arguments[4]:"center",...e&&{ColumnHeader:e}}},H=e=>{let{buttonsData:l=[],ToolTipText:t="Options"}=e;const[u,m]=(0,n.useState)(null),v=Boolean(u);return(0,z.jsxs)(z.Fragment,{children:[(0,z.jsx)(i.c,{title:t,children:(0,z.jsx)(o.c,{"aria-describedby":v,onClick:e=>{m(e.currentTarget)},className:"ms-2",size:"small",children:(0,z.jsx)(C.c,{})})}),(0,z.jsx)(a.cp,{open:v,anchorEl:u,onClose:()=>{m(null)},anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},children:(0,z.jsx)(r.c,{children:l.map(((e,l)=>(0,z.jsxs)(s.c,{onClick:()=>(null===e||void 0===e?void 0:e.onclick)&&(null===e||void 0===e?void 0:e.onclick()),disabled:null===e||void 0===e?void 0:e.disabled,children:[(0,z.jsx)(d.c,{children:null===e||void 0===e?void 0:e.icon}),(0,z.jsx)(c.c,{children:null===e||void 0===e?void 0:e.name})]},l)))})})]})},B=(e,l)=>{switch(l){case"number":return e?(0,F.SA)(e):e;case"date":return e?(0,F.uy)(e):e;case"time":return e?(0,F.AX)(e):e;case"string":return e;default:return""}},$=e=>{let{dataArray:l=[],columns:t=[],onClickFun:i=null,isExpendable:a=!1,expandableComp:r=null,tableMaxHeight:s=550,initialPageCount:d=20,EnableSerialNumber:c=!1,CellSize:C="small",disablePagination:O=!1,title:$="",PDFPrintOption:E=!1,ExcelPrintOption:M=!1,maxHeightOption:A=!1,ButtonArea:I=null,MenuButtons:Q=[],bodyFontSizePx:T=13,headerFontSizePx:V=13}=e;const[L,R]=(0,n.useState)(0),[W,q]=(0,n.useState)(d),[U,G]=(0,n.useState)([]),[X,J]=(0,n.useState)(!0),K=X&&A?" max-content ":s,Y=[{type:"left",class:"text-start"},{type:"right",class:"text-end"},{type:"center",class:"text-center"}],Z=[{type:"top",class:" vtop "},{type:"bottom",class:" vbottom "},{type:"center",class:" vctr "}],ee=(e=>{if(!U.length)return e;return[...e].sort(((e,l)=>{for(const t of U){const{columnId:n,direction:i}=t,o=e[n],a=l[n];if(o!==a)return"asc"===i?o>a?1:-1:o<a?1:-1}return 0}))})(l),le=L*W,te=le+W,ne=ee.slice(le,te),ie=e=>{let{row:l,index:s}=e;const[d,v]=(0,n.useState)(!1),x="20px";return(0,z.jsxs)(n.Fragment,{children:[(0,z.jsxs)(u.c,{children:[!0===a&&r&&(0,z.jsx)(m.c,{className:"border-end text-center vtop",sx:{fontSize:`${T}px`},children:(0,z.jsx)(o.c,{size:"small",onClick:()=>v((e=>!e)),children:d?(0,z.jsx)(y.c,{sx:{fontSize:x}}):(0,z.jsx)(N.c,{sx:{fontSize:x}})})}),!0===c&&(0,z.jsx)(m.c,{className:"border-end text-center vtop",sx:{fontSize:`${T}px`},children:W*L+s+1}),null===t||void 0===t?void 0:t.map(((e,t)=>{var n,o;const a=(0,F.Qr)(null===e||void 0===e?void 0:e.Defult_Display,1)||(0,F.Qr)(null===e||void 0===e?void 0:e.isVisible,1),r=Boolean(null===e||void 0===e?void 0:e.isCustomCell)&&e.Cell,d=!r,c=(l,t,n)=>null!==e&&void 0!==e&&e.tdClass?` ${null===e||void 0===e?void 0:e.tdClass({row:l,Field_Name:t,index:n})} `:"",u=e.align?null===(n=Y.find((l=>l.type===String(e.align).toLowerCase())))||void 0===n?void 0:n.class:"",v=e.verticalAlign?null===(o=Z.find((l=>l.type===String(e.verticalAlign).toLowerCase())))||void 0===o?void 0:o.class:" vctr ";if(a&&d){const n=Object.entries(l).find((l=>{let[t]=l;return t===e.Field_Name}));return(0,z.jsx)(m.c,{className:`border-end ${u} ${v} ${c(l,e.Field_Name,s)}`,sx:{fontSize:`${T}px`},onClick:()=>i?i(l):console.log("Function not supplied"),children:n?B(n[1],null===e||void 0===e?void 0:e.Fied_Data):"-"},t)}return a&&r?(0,z.jsx)(m.c,{className:`border-end ${u} ${v} ${c(l,e.Field_Name,s)}`,sx:{fontSize:`${T}px`},children:e.Cell({row:l,Field_Name:e.Field_Name,index:s})},t):(0,z.jsx)(m.c,{sx:{fontSize:`${T}px`},className:`border-end ${u} ${v}`,children:"-"},t)}))]}),!0===a&&r&&d&&(0,z.jsx)(u.c,{children:(0,z.jsx)(m.c,{colSpan:Number(null===t||void 0===t?void 0:t.length)+(!0===c?2:1),children:r({row:l,index:s})})})]})};return(0,z.jsxs)(v.c,{className:"rounded-3 bg-white overflow-hidden",component:x.c,children:[(0,z.jsxs)("div",{className:"d-flex align-items-center flex-wrap px-3 py-2 flex-row-reverse ",children:[(E||M||Q.length>0||A)&&(0,z.jsx)(H,{ToolTipText:"Table Options",buttonsData:[...A?[{name:"Max Height",icon:X?(0,z.jsx)(_.c,{fontSize:"small",color:"primary"}):(0,z.jsx)(S.c,{fontSize:"small"}),onclick:()=>J((e=>!e)),disabled:(0,F.Qr)(null===l||void 0===l?void 0:l.length,0)}]:[],...E?[{name:"PDF Print",icon:(0,z.jsx)(w.c,{fontSize:"small",color:"primary"}),onclick:()=>((e,l)=>{try{const t=new D.default,n=P(e,l),i=l.filter((e=>e.isVisible||e.Defult_Display)).map((e=>e.Field_Name||String(e.ColumnHeader).replace(/\s+/g,"_").toLowerCase())),o=n.map((e=>i.map((l=>e[l])))).map(((e,l)=>({...e,Sno:l+1})));t.autoTable({head:[i],body:o}),t.save("table.pdf")}catch(t){console.error(t)}})(l,t),disabled:(0,F.Qr)(null===l||void 0===l?void 0:l.length,0)}]:[],...M?[{name:"Excel Print",icon:(0,z.jsx)(w.c,{fontSize:"small",color:"primary"}),onclick:()=>((e,l)=>{try{const t=P(e,l),n=k.c$.json_to_sheet(t),i=k.c$.book_new();k.c$.book_append_sheet(i,n,"Data"),k.a8(i,"table.xlsx")}catch(t){console.error(t)}})(l,t),disabled:(0,F.Qr)(null===l||void 0===l?void 0:l.length,0)}]:[],...Q]}),I&&I,$&&(0,z.jsx)("h6",{className:"fw-bold text-muted flex-grow-1 m-0",children:$})]}),(0,z.jsx)(p.c,{sx:{maxHeight:K},children:(0,z.jsxs)(h.c,{stickyHeader:!0,size:C,children:[(0,z.jsx)(g.c,{children:(0,z.jsxs)(u.c,{children:[a&&r&&(0,z.jsx)(m.c,{className:"fw-bold border-end border-top text-center",sx:{fontSize:`${V}px`,backgroundColor:"#EDF0F7"},children:"#"}),c&&(0,z.jsx)(m.c,{className:"fw-bold border-end border-top text-center",sx:{fontSize:`${V}px`,backgroundColor:"#EDF0F7"},children:"SNo"}),t.map(((e,l)=>{const t=(0,F.Qr)(null===e||void 0===e?void 0:e.Defult_Display,1)||(0,F.Qr)(null===e||void 0===e?void 0:e.isVisible,1),n=!1===Boolean(null===e||void 0===e?void 0:e.isCustomCell)||!e.Cell,i=U.find((l=>l.columnId===e.Field_Name)),o=i?i.direction:"asc";var a,r,s,d;return t?n?(0,z.jsx)(m.c,{className:"fw-bold border-end border-top "+(e.align?null===(a=Y.find((l=>l.type===String(e.align).toLowerCase())))||void 0===a?void 0:a.class:""),sx:{fontSize:`${V}px`,backgroundColor:"#EDF0F7"},sortDirection:!!i&&o,children:(0,z.jsx)(b.c,{active:!!i,direction:o,onClick:()=>(e=>{const l=U.find((l=>l.columnId===e));if(l){const t="asc"===l.direction;G(U.map((l=>l.columnId===e?{...l,direction:t?"desc":"asc"}:l)))}else G([...U,{columnId:e,direction:"asc"}])})(e.Field_Name),children:e.ColumnHeader||(null===e||void 0===e||null===(r=e.Field_Name)||void 0===r?void 0:r.replace(/_/g," "))})},l):(0,z.jsx)(m.c,{className:(e.ColumnHeader||null!==e&&void 0!==e&&e.Field_Name?" fw-bold border-end border-top p-2 appFont ":" p-0 ")+" "+(e.align?null===(s=Y.find((l=>l.type===String(e.align).toLowerCase())))||void 0===s?void 0:s.class:""),sx:{fontSize:`${V}px`,backgroundColor:"#EDF0F7"},children:e.ColumnHeader||(null===e||void 0===e||null===(d=e.Field_Name)||void 0===d?void 0:d.replace(/_/g," "))},l):null}))]})}),(0,z.jsxs)(j.c,{children:[(O?ee:ne).map(((e,l)=>(0,z.jsx)(ie,{row:e,index:l},l))),0===l.length&&(0,z.jsx)(u.c,{children:(0,z.jsx)(m.c,{colSpan:t.length+(!0===a&&r?1:0)+(!0===c?1:0),sx:{textAlign:"center"},children:"No Data"})})]})]})}),!O&&0!==ne.length&&(0,z.jsx)("div",{className:"p-2 pb-0",children:(0,z.jsx)(f.c,{component:"div",count:l.length,page:L,onPageChange:(e,l)=>{R(l)},rowsPerPage:W,onRowsPerPageChange:e=>{q(parseInt(e.target.value,10)),R(0)},rowsPerPageOptions:Array.from(new Set([d,5,20,50,100,200,500])).sort(((e,l)=>e-l)),labelRowsPerPage:"Rows per page",showFirstButton:!0,showLastButton:!0})})]})};$.defaultProps={dataArray:[],columns:[],onClickFun:null,isExpendable:!1,expandableComp:null,tableMaxHeight:550,initialPageCount:20,EnableSerialNumber:!1,CellSize:"small",disablePagination:!1,title:void 0,PDFPrintOption:!1,ExcelPrintOption:!1,maxHeightOption:!1,ButtonArea:null,MenuButtons:[],headerFontSizePx:13,bodyFontSizePx:13};const E=$},70156:(e,l,t)=>{t.r(l),t.d(l,{default:()=>re});var n=t(69060),i=t(1908),o=t(39308),a=t(13724),r=t(71448),s=t(52924),d=t(44380),c=t(3358),u=t(5548),m=t(82656),v=t(4488),x=t(89e3),p=t(90048),h=t(68424),g=t(39504),b=t(74912),j=t(61988),f=t(57704),F=t(27454),C=t(96464),y=t(43692),N=t(85624),_=t(99904),S=t(33856),w=t(58612),D=t(53248),k=t(29504),z=t(5930),P=t(41459),O=t(46864),H=t(12120),B=t(82496);const $=e=>{let{open:l,onClose:t,columns:n,filters:i,setFilters:o,dataArray:a,setColumnDialog:h}=e;const g=(e,l)=>{o((t=>({...t,[e]:l})))},j=e=>{const{Field_Name:l,Fied_Data:t}=e;var n,o,c,u,m,v,x,p,h,b;if("number"===t)return(0,B.jsxs)("div",{className:"d-flex justify-content-between px-2",children:[(0,B.jsx)("input",{placeholder:"Min",type:"number",className:"bg-light border-0 m-1 p-1 w-50",value:null!==(n=null===(o=i[l])||void 0===o?void 0:o.min)&&void 0!==n?n:"",onChange:e=>g(l,{type:"range",...i[l],min:e.target.value?parseFloat(e.target.value):void 0})}),(0,B.jsx)("input",{placeholder:"Max",type:"number",className:"bg-light border-0 m-1 p-1 w-50",value:null!==(c=null===(u=i[l])||void 0===u?void 0:u.max)&&void 0!==c?c:"",onChange:e=>g(l,{type:"range",...i[l],max:e.target.value?parseFloat(e.target.value):void 0})})]});if("date"===t)return(0,B.jsxs)("div",{className:"d-flex justify-content-between px-2",children:[(0,B.jsx)("input",{type:"date",className:"bg-light border-0 m-1 p-1 w-50",value:null!==(m=null===(v=i[l])||void 0===v||null===(x=v.value)||void 0===x?void 0:x.start)&&void 0!==m?m:"",onChange:e=>{var t;return g(l,{type:"date",value:{...null===(t=i[l])||void 0===t?void 0:t.value,start:e.target.value||void 0}})}}),(0,B.jsx)("input",{type:"date",className:"bg-light border-0 m-1 p-1 w-50",value:null!==(p=null===(h=i[l])||void 0===h||null===(b=h.value)||void 0===b?void 0:b.end)&&void 0!==p?p:"",onChange:e=>{var t;return g(l,{type:"date",value:{...null===(t=i[l])||void 0===t?void 0:t.value,end:e.target.value||void 0}})}})]});if("string"===t){const e=[...new Set(a.map((e=>{var t,n;return null===(t=e[l])||void 0===t||null===(n=t.toLowerCase())||void 0===n?void 0:n.trim()})))];return(0,B.jsx)(r.c,{multiple:!0,options:e,disableCloseOnSelect:!0,value:i[l]||[],onChange:(e,t)=>g(l,t),renderOption:(e,l,t)=>{let{selected:n}=t;return(0,B.jsxs)("li",{...e,children:[(0,B.jsx)(s.c,{checked:n,style:{marginRight:8}}),l]})},isOptionEqualToValue:(e,l)=>e===l,renderInput:e=>(0,B.jsx)(d.c,{...e,label:l,placeholder:`Select ${null===l||void 0===l?void 0:l.replace(/_/g," ")}`})})}return null};return(0,B.jsxs)(m.c,{open:l,onClose:t,maxWidth:"sm",fullWidth:!0,children:[(0,B.jsxs)(v.c,{children:[(0,B.jsxs)("h5",{className:"d-flex justify-content-between px-2",children:[(0,B.jsx)("span",{children:"Filters"}),(0,B.jsxs)("span",{children:[(0,B.jsx)(c.c,{title:"Column Visibility",children:(0,B.jsx)(u.c,{size:"small",onClick:()=>h(!0),children:(0,B.jsx)(H.c,{})})}),(0,B.jsx)(c.c,{title:"Clear Filters",children:(0,B.jsx)(u.c,{size:"small",onClick:()=>o({}),children:(0,B.jsx)(b.c,{})})})]})]}),(0,B.jsx)("div",{className:"border rounded-3",children:n.map(((e,l)=>{var t;return(0,B.jsxs)("div",{className:"py-3 px-3 hov-bg border-bottom",children:[(0,B.jsx)("label",{className:"mt-2 mb-1",children:null===(t=e.Field_Name)||void 0===t?void 0:t.replace(/_/g," ")}),j(e)]},l)}))})]}),(0,B.jsx)(p.c,{children:(0,B.jsx)(x.c,{onClick:t,color:"error",children:"Close"})})]})};var E=t(26773),M=t(78092);const A=e=>{let{open:l,onClose:t,columns:n,setColumns:i,originalColumns:o=[]}=e;return(0,B.jsxs)(m.c,{open:l,onClose:t,maxWidth:"lg",fullWidth:!0,children:[(0,B.jsx)(E.c,{children:"Column Settings"}),(0,B.jsx)(v.c,{children:(0,B.jsx)("div",{className:"row",children:n.map(((e,l)=>{return(0,B.jsx)("div",{className:"col-lg-4 col-md-6 p-2",children:(0,B.jsxs)(y.c,{component:N.c,className:"p-2 d-flex justify-content-between align-items-center flex-wrap "+(l%2!==0?"bg-light":""),children:[(0,B.jsxs)("div",{className:"d-flex justify-content-between align-items-center flex-wrap",children:[(0,B.jsx)(M.c,{checked:Boolean(null===e||void 0===e?void 0:e.isDefault)||Boolean(null===e||void 0===e?void 0:e.isVisible),disabled:Boolean(null===e||void 0===e?void 0:e.isDefault),onChange:l=>{return t=null===e||void 0===e?void 0:e.Field_Name,n=l.target.checked,void i((e=>e.map((e=>e.Field_Name===t?{...e,isVisible:n?1:0}:e))));var t,n}}),(0,B.jsx)("h6",{className:"fa-13 mb-0 fw-bold",children:null===e||void 0===e?void 0:e.Field_Name})]}),(0,B.jsx)("input",{type:"number",value:(t=null===e||void 0===e?void 0:e.OrderBy,isNaN(t)||null===t||""===t?"":null===e||void 0===e?void 0:e.OrderBy),onChange:l=>{return t=null===e||void 0===e?void 0:e.Field_Name,n=l.target.value,void i((e=>e.map((e=>e.Field_Name===t?{...e,OrderBy:n}:e))));var t,n},className:"mt-2 p-1 border-0 cus-inpt",style:{width:"80px"},placeholder:"Order"})]})},l);var t}))})}),(0,B.jsxs)(p.c,{children:[(0,B.jsx)(x.c,{onClick:()=>{i(o)},variant:"outlined",children:"Reset"}),(0,B.jsx)(x.c,{onClick:t,color:"error",children:"Close"})]})]})};var I=t(66931),Q=t(89500),T=t(93996),V=t(14696),L=t(13224),R=t(76491),W=t(10728),q=t(49608),U=t(4284),G=t(37956),X=t(28064),J=(t(37692),t(35832));const K=(e,l)=>Number(e)===Number(l),Y=(e,l)=>{switch(l){case"number":return e?(new Intl.NumberFormat).format(e):e;case"date":return e?new Date(e).toLocaleDateString():e;case"time":return e?new Date(e).toLocaleTimeString():e;case"string":return e;default:return""}},Z=(e,l)=>e.map((e=>{const t={};return l.forEach(((l,n)=>{if(l.isVisible||l.Defult_Display){const i=l.ColumnHeader?String(l.ColumnHeader).replace(/\s+/g,"_").toLowerCase():`field_${n+1}`;if(l.isCustomCell&&l.Cell){const n=l.Cell({row:e});"string"!==typeof n&&"number"!==typeof n||(t[i]=n)}else t[i]=e[l.Field_Name]||""}})),t})),ee=e=>{let{dataArray:l=[],columns:t=[],PDFPrintOption:i=!1,ExcelPrintOption:o=!1,MenuButtons:a=[],maxHeightOption:r=!1,showFullHeight:s=!0,setShowFullHeight:d=(()=>{}),enableFilters:m=!1,setFilterDialog:v=(()=>{})}=e;const[x,p]=n.useState(null),h=Boolean(x),g=()=>p(null),b=[...r?[{name:"Max Height",icon:s?(0,B.jsx)(R.c,{fontSize:"small",color:"primary"}):(0,B.jsx)(W.c,{fontSize:"small"}),onclick:()=>d((e=>!e)),disabled:K(null===l||void 0===l?void 0:l.length,0)}]:[],...i?[{name:"PDF Print",icon:(0,B.jsx)(q.c,{fontSize:"small",color:"primary"}),onclick:()=>((e,l)=>{try{const t=new X.default,n=Z(e,l),i=l.filter((e=>e.isVisible||e.Defult_Display)).map((e=>e.Field_Name||e.ColumnHeader||"")),o=n.map((e=>i.map((l=>e[l]))));t.autoTable({head:[i],body:o}),t.save("table.pdf")}catch(t){console.error("PDF Export Error:",t)}})(l,t),disabled:K(null===l||void 0===l?void 0:l.length,0)}]:[],...o?[{name:"Excel Print",icon:(0,B.jsx)(q.c,{fontSize:"small",color:"primary"}),onclick:()=>((e,l)=>{try{const t=Z(e,l),n=J.c$.json_to_sheet(t),i=J.c$.book_new();J.c$.book_append_sheet(i,n,"Data"),J.a8(i,"table.xlsx")}catch(t){console.error("Excel Export Error:",t)}})(l,t),disabled:K(null===l||void 0===l?void 0:l.length,0)}]:[],...a];return(0,B.jsxs)(B.Fragment,{children:[(0,B.jsx)(c.c,{title:"Table Options",children:(0,B.jsx)(u.c,{onClick:e=>p(e.currentTarget),size:"small",children:(0,B.jsx)(U.c,{})})}),m&&(0,B.jsx)(c.c,{title:"Open Filters",children:(0,B.jsx)(u.c,{onClick:()=>v(!0),size:"small",children:(0,B.jsx)(G.c,{})})}),(0,B.jsx)(I.cp,{open:h,anchorEl:x,onClose:g,anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},children:(0,B.jsx)(Q.c,{children:b.map(((e,l)=>(0,B.jsxs)(T.c,{onClick:()=>{(null===e||void 0===e?void 0:e.onclick)&&e.onclick(),g()},disabled:null===e||void 0===e?void 0:e.disabled,children:[(0,B.jsx)(V.c,{children:null===e||void 0===e?void 0:e.icon}),(0,B.jsx)(L.c,{children:null===e||void 0===e?void 0:e.name})]},l)))})})]})},le=(e,l)=>{const[t,i]=(0,n.useState)({}),[o,a]=(0,n.useState)(e||[]);(0,n.useEffect)((()=>{r()}),[t,e,l]);const r=()=>{let n=[...e];for(const e of l){const l=e.Field_Name,i=t[l];if(i)if("range"===i.type){const{min:e,max:t}=i;n=n.filter((n=>{const i=Number(n[l]);return(void 0===e||i>=e)&&(void 0===t||i<=t)}))}else if("date"===i.type){const{start:e,end:t}=i.value||{};n=n.filter((n=>{const i=new Date(n[l]);return(!e||i>=new Date(e))&&(!t||i<=new Date(t))}))}else Array.isArray(i)&&(n=i.length?n.filter((e=>{var t,n;return i.includes(null===(t=e[l])||void 0===t||null===(n=t.toLowerCase())||void 0===n?void 0:n.trim())})):n)}a(n)};return{filters:t,setFilters:i,filteredData:o}},te=e=>{let{dataArray:l=[],columns:t=[],onClickFun:i=null,isExpendable:o=!1,expandableComp:a=null,tableMaxHeight:r=550,initialPageCount:s=20,EnableSerialNumber:d=!1,CellSize:c="small",disablePagination:m=!1,title:v="",PDFPrintOption:x=!1,ExcelPrintOption:p=!1,maxHeightOption:h=!1,ButtonArea:g=null,MenuButtons:b=[],headerFontSizePx:j=13,bodyFontSizePx:f=13,enableFilters:H=!1}=e;const[E,M]=(0,n.useState)(t),[I,Q]=(0,n.useState)(!1),[T,V]=(0,n.useState)(!1),[L,R]=(0,n.useState)(0),[W,q]=(0,n.useState)(s),[U,G]=(0,n.useState)([]),[X,J]=(0,n.useState)(!0),Z=(0,n.useMemo)((()=>[...E].sort(((e,l)=>null!==e&&void 0!==e&&e.OrderBy&&null!==l&&void 0!==l&&l.OrderBy?e.OrderBy-l.OrderBy:0))),[E]),te=(0,n.useMemo)((()=>Z.filter((e=>K(null===e||void 0===e?void 0:e.Defult_Display,1)||K(null===e||void 0===e?void 0:e.isVisible,1)))),[Z]),{filters:ne,setFilters:ie,filteredData:oe}=le(l,Z),ae=(0,n.useMemo)((()=>{const e=Array.isArray(oe)?oe:[];return U.length?[...e].sort(((e,l)=>{for(const{columnId:t,direction:n}of U){const i=e[t],o=l[t];if(i!==o)return"asc"===n?i>o?1:-1:i<o?1:-1}return 0})):e}),[oe,U]),re=(0,n.useMemo)((()=>{const e=L*W;return Array.isArray(ae)?ae.slice(e,e+W):[]}),[ae,L,W]),se=e=>{let{row:l,index:t}=e;const[r,s]=(0,n.useState)(!1);return(0,B.jsxs)(n.Fragment,{children:[(0,B.jsxs)(F.c,{children:[o&&a&&(0,B.jsx)(C.c,{sx:{fontSize:`${f}px`},children:(0,B.jsx)(u.c,{size:"small",onClick:()=>s(!r),children:r?(0,B.jsx)(P.c,{}):(0,B.jsx)(O.c,{})})}),d&&(0,B.jsx)(C.c,{sx:{fontSize:`${f}px`},children:W*L+t+1}),te.map(((e,n)=>(0,B.jsx)(C.c,{sx:{fontSize:`${f}px`},onClick:()=>null===i||void 0===i?void 0:i(l),children:null!==e&&void 0!==e&&e.isCustomCell&&null!==e&&void 0!==e&&e.Cell?e.Cell({row:l,Field_Name:e.Field_Name,index:t}):Y(l[e.Field_Name],null===e||void 0===e?void 0:e.Fied_Data)},n)))]}),r&&a&&(0,B.jsx)(F.c,{children:(0,B.jsx)(C.c,{colSpan:te.length+(d?1:0)+(o?1:0),children:a({row:l,index:t})})})]})};return(0,B.jsxs)(y.c,{className:"rounded-3 bg-white overflow-hidden",component:N.c,children:[(0,B.jsxs)("div",{className:"d-flex align-items-center justify-content-between px-3 py-2",children:[(0,B.jsx)(ee,{dataArray:oe,columns:te,PDFPrintOption:x,ExcelPrintOption:p,MenuButtons:b,setShowFullHeight:J,showFullHeight:X,maxHeightOption:h,enableFilters:H,setFilterDialog:Q}),g&&g,v&&(0,B.jsx)("h6",{className:"fw-bold text-muted m-0",children:v})]}),(0,B.jsx)(_.c,{sx:{maxHeight:X&&h?"max-content":r},children:(0,B.jsxs)(S.c,{stickyHeader:!0,size:c,children:[(0,B.jsx)(w.c,{children:(0,B.jsxs)(F.c,{children:[o&&a&&(0,B.jsx)(C.c,{sx:{fontSize:`${j}px`},children:"#"}),d&&(0,B.jsx)(C.c,{sx:{fontSize:`${j}px`},children:"SNo"}),te.map(((e,l)=>{const t=U.find((l=>l.columnId===e.Field_Name));return(0,B.jsx)(C.c,{sx:{fontSize:`${j}px`},sortDirection:(null===t||void 0===t?void 0:t.direction)||!1,children:(0,B.jsx)(D.c,{active:!!t,direction:(null===t||void 0===t?void 0:t.direction)||"asc",onClick:()=>(e=>{const l=U.find((l=>l.columnId===e));G(l?U.map((l=>l.columnId===e?{...l,direction:"asc"===l.direction?"desc":"asc"}:l)):[...U,{columnId:e,direction:"asc"}])})(e.Field_Name),children:e.ColumnHeader||e.Field_Name})},l)}))]})}),(0,B.jsxs)(k.c,{children:[(m?ae:re).map(((e,l)=>(0,B.jsx)(se,{row:e,index:l},l))),!oe.length&&(0,B.jsx)(F.c,{children:(0,B.jsx)(C.c,{colSpan:te.length+(d?1:0)+(o?1:0),align:"center",children:"No Data"})})]})]})}),!m&&oe.length>0&&(0,B.jsx)("div",{className:"p-2 pb-0",children:(0,B.jsx)(z.c,{component:"div",count:oe.length,page:L,onPageChange:(e,l)=>R(l),rowsPerPage:W,onRowsPerPageChange:e=>{q(parseInt(e.target.value,10)),R(0)},rowsPerPageOptions:[5,10,20,50,100],labelRowsPerPage:"Rows per page",showFirstButton:!0,showLastButton:!0})}),H&&(0,B.jsxs)(n.Fragment,{children:[(0,B.jsx)($,{open:I,onClose:()=>Q(!1),columns:te,filters:ne,setFilters:ie,dataArray:l,setColumnDialog:V}),(0,B.jsx)(A,{open:T,onClose:()=>V(!1),columns:E,setColumns:M,originalColumns:t})]})]})};te.defaultProps={onClickFun:null,isExpendable:!1,expandableComp:null,tableMaxHeight:550,initialPageCount:20,EnableSerialNumber:!1,CellSize:"small",disablePagination:!1,title:void 0,PDFPrintOption:!1,ExcelPrintOption:!1,maxHeightOption:!1,ButtonArea:null,MenuButtons:[],headerFontSizePx:13,bodyFontSizePx:13,enableFilters:!1};const ne=(0,o.gV)().user,ie=((0,o.Q$)(null===ne||void 0===ne?void 0:ne.UserId)&&(null===ne||void 0===ne||ne.UserId),(0,o.Q$)(null===ne||void 0===ne?void 0:ne.UserId)&&(null===ne||void 0===ne||ne.UserId),[{Field_Name:"trans_date",Fied_Data:"date",ColumnHeader:"Date"},{Field_Name:"batch",Fied_Data:"string",ColumnHeader:"Batch"},{Field_Name:"productNameGet",Fied_Data:"string",ColumnHeader:"Product"},{Field_Name:"godownName",Fied_Data:"string",ColumnHeader:"Godown"},{Field_Name:"stockDays",Fied_Data:"number",ColumnHeader:"Stock Days"},{Field_Name:"pendingQuantity",Fied_Data:"number",ColumnHeader:"Available Qty"},{Field_Name:"consumedQuantity",Fied_Data:"number",ColumnHeader:"Consumed Qty"},{Field_Name:"totalQuantity",Fied_Data:"number",ColumnHeader:"Max Qty"}]),oe=(0,B.jsx)(h.c,{fontSize:"small"}),ae=(0,B.jsx)(g.c,{fontSize:"small"}),re=e=>{let{loadingOn:l,loadingOff:t}=e;const[h,g]=(0,n.useState)([]),[F,C]=(0,n.useState)({Fromdate:(0,o.Q7)(),Todate:(0,o.Q7)(),FilterFromDate:(0,o.Q7)(),FilterTodate:(0,o.Q7)(),dateBased:"no",filterDialog:!1}),[y,N]=(0,n.useState)({}),[_,S]=(0,n.useState)(""),[w,D]=(0,n.useState)([]),[k,z]=(0,n.useState)(!1);(0,n.useEffect)((()=>{(0,i.q)({address:`inventory/batchMaster/stockBalance?\n            Fromdate=${F.Fromdate}&\n            Todate=${F.Todate}&\n            dateBased=${F.dateBased}`,loadingOn:l,loadingOff:t}).then((e=>{e.success?g(e.data):g([])})).catch((e=>console.error(e)))}),[F.Fromdate,F.Todate,F.dateBased]);const P=ie.map(((e,l)=>({isVisible:l<10?1:0,Field_Name:null===e||void 0===e?void 0:e.Field_Name,Fied_Data:null===e||void 0===e?void 0:e.Fied_Data,ColumnHeader:e.ColumnHeader,OrderBy:l+1}))),O=(0,n.useMemo)((()=>P.filter((e=>(0,o.Qr)(null===e||void 0===e?void 0:e.Defult_Display,1)||(0,o.Qr)(null===e||void 0===e?void 0:e.isVisible,1)))),[P]),H=(0,n.useMemo)((()=>{const e=Object.keys(y).length>0,l=!!_,t=e?w:h,n=l?(0,o.ui)(t,_):[],i=O.filter((e=>"number"===(0,o.MP)(e.Fied_Data))).map((e=>e.Field_Name)),a=n.map((e=>{const l=["Total_Qty","pendingQuantity","consumedQuantity","totalQuantity"];return{...e,...Object.fromEntries(i.map((t=>{var n,i;return[t,l.includes(t)?null===e||void 0===e||null===(n=e.groupedData)||void 0===n?void 0:n.reduce(((e,l)=>(0,o.Q5)(e,(0,o.gH)(l[t])||0)),0):(0,o.yy)(null===e||void 0===e||null===(i=e.groupedData)||void 0===i?void 0:i.reduce(((e,l)=>(0,o.Q5)(e,(0,o.gH)(l[t])||0)),0),e.groupedData.length)]})))}}));return l?a:t}),[y,h,w,_,O]);(0,n.useEffect)((()=>{E()}),[y]);const $=(e,l)=>{N((t=>({...t,[e]:l})))},E=()=>{let e=[...h];for(const t of P)if(y[t.Field_Name])if("range"===y[t.Field_Name].type){const{min:l,max:n}=y[t.Field_Name];e=e.filter((e=>{const i=e[t.Field_Name];return(void 0===l||i>=l)&&(void 0===n||i<=n)}))}else if("date"===y[t.Field_Name].type){const{start:l,end:n}=y[t.Field_Name].value;e=e.filter((e=>{const i=new Date(e[t.Field_Name]);return(void 0===l||i>=new Date(l))&&(void 0===n||i<=new Date(n))}))}else if(Array.isArray(y[t.Field_Name])){var l;e=(null===(l=y[t.Field_Name])||void 0===l?void 0:l.length)>0?e.filter((e=>{var l;return y[t.Field_Name].includes(null===(l=e[t.Field_Name])||void 0===l?void 0:l.toLowerCase().trim())})):e}D(e)},M=e=>{const{Field_Name:l,Fied_Data:t}=e;var n,i,o,a,c,u,m,v,x,p;if("number"===t)return(0,B.jsxs)("div",{className:"d-flex justify-content-between px-2",children:[(0,B.jsx)("input",{placeholder:"Min",type:"number",className:"bg-light border-0 m-1 p-1 w-50",value:null!==(n=null===(i=y[l])||void 0===i?void 0:i.min)&&void 0!==n?n:"",onChange:e=>$(l,{type:"range",...y[l],min:e.target.value?parseFloat(e.target.value):void 0})}),(0,B.jsx)("input",{placeholder:"Max",type:"number",className:"bg-light border-0 m-1 p-1 w-50",value:null!==(o=null===(a=y[l])||void 0===a?void 0:a.max)&&void 0!==o?o:"",onChange:e=>$(l,{type:"range",...y[l],max:e.target.value?parseFloat(e.target.value):void 0})})]});if("date"===t)return(0,B.jsxs)("div",{className:"d-flex justify-content-between px-2",children:[(0,B.jsx)("input",{placeholder:"Start Date",type:"date",className:"bg-light border-0 m-1 p-1 w-50",value:null!==(c=null===(u=y[l])||void 0===u||null===(m=u.value)||void 0===m?void 0:m.start)&&void 0!==c?c:"",onChange:e=>{var t;return $(l,{type:"date",value:{...null===(t=y[l])||void 0===t?void 0:t.value,start:e.target.value||void 0}})}}),(0,B.jsx)("input",{placeholder:"End Date",type:"date",className:"bg-light border-0 m-1 p-1 w-50",value:null!==(v=null===(x=y[l])||void 0===x||null===(p=x.value)||void 0===p?void 0:p.end)&&void 0!==v?v:"",onChange:e=>{var t;return $(l,{type:"date",value:{...null===(t=y[l])||void 0===t?void 0:t.value,end:e.target.value||void 0}})}})]});if("string"===t){const e=[...new Set(h.map((e=>{var t,n;return null===(t=e[l])||void 0===t||null===(n=t.toLowerCase())||void 0===n?void 0:n.trim()})))];return(0,B.jsx)(r.c,{multiple:!0,id:`${l}-filter`,options:e,disableCloseOnSelect:!0,getOptionLabel:e=>e,value:y[l]||[],onChange:(e,t)=>$(l,t),renderOption:(e,l,t)=>{let{selected:n}=t;return(0,B.jsxs)("li",{...e,children:[(0,B.jsx)(s.c,{icon:oe,checkedIcon:ae,style:{marginRight:8},checked:n}),l]})},isOptionEqualToValue:(e,l)=>e===l,renderInput:e=>(0,B.jsx)(d.c,{...e,label:l,placeholder:`Select ${null===l||void 0===l?void 0:l.replace(/_/g," ")}`})})}},A=()=>{z(!1)};return(0,B.jsxs)(B.Fragment,{children:[(0,B.jsx)(a.cp,{title:"Batch Listing",EnableSerialNumber:!0,ButtonArea:(0,B.jsxs)(B.Fragment,{children:[(0,B.jsx)(c.c,{title:"Clear Filters",children:(0,B.jsx)(u.c,{size:"small",onClick:()=>N({}),children:(0,B.jsx)(b.c,{})})}),(0,B.jsx)(c.c,{title:"Filters",children:(0,B.jsx)(u.c,{onClick:()=>z(!0),size:"small",children:(0,B.jsx)(j.c,{})})}),(0,B.jsxs)("select",{className:"cus-inpt p-2 w-auto m-1",value:_,onChange:e=>S(e.target.value),children:[(0,B.jsx)("option",{value:"",children:"Group By"}),O.filter((e=>"string"===(0,o.MP)(e.Fied_Data)&&"Ledger_Name"!==(null===e||void 0===e?void 0:e.Field_Name))).map(((e,l)=>{var t;return(0,B.jsx)("option",{value:null===e||void 0===e?void 0:e.Field_Name,children:null===e||void 0===e||null===(t=e.Field_Name)||void 0===t?void 0:t.replace(/_/g," ")},l)}))]})]}),maxHeightOption:!0,ExcelPrintOption:!0,dataArray:H,columns:_?O.filter((e=>H.length>0&&Object.keys(H[0]).includes(e.Field_Name))).map((e=>({...e,ColumnHeader:e.Field_Name===_?_:e.ColumnHeader}))):O,enableFilters:!0,isExpendable:!!_,expandableComp:e=>{let{row:l}=e;return(0,B.jsx)(a.cp,{EnableSerialNumber:!0,headerFontSizePx:12,bodyFontSizePx:12,dataArray:(0,o.dq)(null===l||void 0===l?void 0:l.groupedData),columns:O.filter((e=>!(0,o.m2)(e.Field_Name,_)))})}}),(0,B.jsxs)(m.c,{open:k,onClose:A,maxWidth:"sm",fullWidth:!0,children:[(0,B.jsxs)(v.c,{children:[(0,B.jsxs)("h5",{className:"d-flex justify-content-between px-2",children:[(0,B.jsx)("span",{children:"Filters"}),(0,B.jsxs)("span",{children:[(0,B.jsx)(c.c,{title:"Clear Filters",children:(0,B.jsx)(u.c,{size:"small",onClick:()=>N({}),children:(0,B.jsx)(b.c,{})})}),(0,B.jsx)(x.c,{onClick:()=>{A(),C((e=>({...e,Fromdate:null===F||void 0===F?void 0:F.FilterFromDate,Todate:F.FilterTodate,dateBased:"yes"})))},startIcon:(0,B.jsx)(f.c,{}),variant:"outlined",children:"Search"})]})]}),(0,B.jsx)("div",{className:"table-responsive",children:(0,B.jsx)("table",{className:"table table-bordered",children:(0,B.jsxs)("tbody",{children:[(0,B.jsxs)("tr",{children:[(0,B.jsx)("td",{style:{verticalAlign:"middle"},children:"From"}),(0,B.jsx)("td",{children:(0,B.jsx)("input",{type:"date",value:F.FilterFromDate,onChange:e=>C({...F,FilterFromDate:e.target.value}),className:"cus-inpt"})})]}),(0,B.jsxs)("tr",{children:[(0,B.jsx)("td",{style:{verticalAlign:"middle"},children:"To"}),(0,B.jsx)("td",{children:(0,B.jsx)("input",{type:"date",value:F.FilterTodate,onChange:e=>C({...F,FilterTodate:e.target.value}),className:"cus-inpt"})})]}),(0,B.jsx)("tr",{children:(0,B.jsxs)("td",{style:{verticalAlign:"middle"},children:[(0,B.jsx)("input",{className:"form-check-input shadow-none pointer mx-2",style:{padding:"0.7em"},type:"checkbox",id:"applyDateFilterCheckBox",checked:(0,o.m2)(F.dateBased,"yes"),onChange:()=>C((e=>({...e,dateBased:(0,o.m2)(e.dateBased,"yes")?"no":"yes"})))}),(0,B.jsx)("label",{htmlFor:"applyDateFilterCheckBox",className:"fw-bold",children:"Apply Date Filters"})]})})]})})}),(0,B.jsxs)("div",{className:"border rounded-3 ",children:[O.map(((e,l)=>{var t;return(0,B.jsxs)("div",{className:"py-3 px-3 hov-bg border-bottom",children:[(0,B.jsx)("label",{className:"mt-2 mb-1",children:null===e||void 0===e||null===(t=e.Field_Name)||void 0===t?void 0:t.replace(/_/g," ")}),M(e)]},l)})),(0,B.jsx)("br",{})]})]}),(0,B.jsx)(p.c,{children:(0,B.jsx)(x.c,{onClick:A,children:"close"})})]})]})}},39504:(e,l,t)=>{t.d(l,{c:()=>o});var n=t(27664),i=t(82496);const o=(0,n.c)((0,i.jsx)("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2m-9 14-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8z"}),"CheckBox")},68424:(e,l,t)=>{t.d(l,{c:()=>o});var n=t(27664),i=t(82496);const o=(0,n.c)((0,i.jsx)("path",{d:"M19 5v14H5V5zm0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2"}),"CheckBoxOutlineBlank")},61988:(e,l,t)=>{t.d(l,{c:()=>o});var n=t(27664),i=t(82496);const o=(0,n.c)((0,i.jsx)("path",{d:"M4.25 5.61C6.27 8.2 10 13 10 13v6c0 .55.45 1 1 1h2c.55 0 1-.45 1-1v-6s3.72-4.8 5.74-7.39c.51-.66.04-1.61-.79-1.61H5.04c-.83 0-1.3.95-.79 1.61"}),"FilterAlt")},74912:(e,l,t)=>{t.d(l,{c:()=>o});var n=t(27664),i=t(82496);const o=(0,n.c)((0,i.jsx)("path",{d:"M19.79 5.61C20.3 4.95 19.83 4 19 4H6.83l7.97 7.97zM2.81 2.81 1.39 4.22 10 13v6c0 .55.45 1 1 1h2c.55 0 1-.45 1-1v-2.17l5.78 5.78 1.41-1.41z"}),"FilterAltOff")},52924:(e,l,t)=>{t.d(l,{c:()=>D});var n=t(95656),i=t(45072),o=t(69060),a=t(79736),r=t(21412),s=t(13344),d=t(90608),c=t(27664),u=t(82496);const m=(0,c.c)((0,u.jsx)("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank"),v=(0,c.c)((0,u.jsx)("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox"),x=(0,c.c)((0,u.jsx)("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}),"IndeterminateCheckBox");var p=t(55832),h=t(49836),g=t(12556),b=t(43424),j=t(10099),f=t(33448);function F(e){return(0,f.cp)("MuiCheckbox",e)}const C=(0,j.c)("MuiCheckbox",["root","checked","disabled","indeterminate","colorPrimary","colorSecondary","sizeSmall","sizeMedium"]),y=["checkedIcon","color","icon","indeterminate","indeterminateIcon","inputProps","size","className"],N=(0,g.cp)(d.c,{shouldForwardProp:e=>(0,b.c)(e)||"classes"===e,name:"MuiCheckbox",slot:"Root",overridesResolver:(e,l)=>{const{ownerState:t}=e;return[l.root,t.indeterminate&&l.indeterminate,l[`size${(0,p.c)(t.size)}`],"default"!==t.color&&l[`color${(0,p.c)(t.color)}`]]}})((e=>{let{theme:l,ownerState:t}=e;return(0,i.c)({color:(l.vars||l).palette.text.secondary},!t.disableRipple&&{"&:hover":{backgroundColor:l.vars?`rgba(${"default"===t.color?l.vars.palette.action.activeChannel:l.vars.palette[t.color].mainChannel} / ${l.vars.palette.action.hoverOpacity})`:(0,s.W4)("default"===t.color?l.palette.action.active:l.palette[t.color].main,l.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"default"!==t.color&&{[`&.${C.checked}, &.${C.indeterminate}`]:{color:(l.vars||l).palette[t.color].main},[`&.${C.disabled}`]:{color:(l.vars||l).palette.action.disabled}})})),_=(0,u.jsx)(v,{}),S=(0,u.jsx)(m,{}),w=(0,u.jsx)(x,{}),D=o.forwardRef((function(e,l){var t,s;const d=(0,h.C)({props:e,name:"MuiCheckbox"}),{checkedIcon:c=_,color:m="primary",icon:v=S,indeterminate:x=!1,indeterminateIcon:g=w,inputProps:b,size:j="medium",className:f}=d,C=(0,n.c)(d,y),D=x?g:v,k=x?g:c,z=(0,i.c)({},d,{color:m,indeterminate:x,size:j}),P=(e=>{const{classes:l,indeterminate:t,color:n,size:o}=e,a={root:["root",t&&"indeterminate",`color${(0,p.c)(n)}`,`size${(0,p.c)(o)}`]},s=(0,r.c)(a,F,l);return(0,i.c)({},l,s)})(z);return(0,u.jsx)(N,(0,i.c)({type:"checkbox",inputProps:(0,i.c)({"data-indeterminate":x},b),icon:o.cloneElement(D,{fontSize:null!=(t=D.props.fontSize)?t:j}),checkedIcon:o.cloneElement(k,{fontSize:null!=(s=k.props.fontSize)?s:j}),ownerState:z,ref:l,className:(0,a.c)(P.root,f)},C,{classes:P}))}))}}]);
//# sourceMappingURL=156.42538291.chunk.js.map
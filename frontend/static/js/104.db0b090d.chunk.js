"use strict";(self.webpackChunkerp=self.webpackChunkerp||[]).push([[104],{60104:(e,a,l)=>{l.r(a),l.d(a,{default:()=>C});var t=l(69060),n=l(42136),s=l(51752),r=l(5548),d=l(82656),c=l(26773),i=l(4488),o=l(75848),u=l(90048),h=l(89e3),v=l(86e3),m=l(45180),p=l(56480),x=l(77536),b=l(91012),g=l(1908),f=l(82496);const j={BranchId:"",Company_id:"",BranchCode:"",BranchName:"",Tele_Code:"",Tele1_Code:"",BranchTel:"",BranchTel1:"",BranchAddress:"",E_Mail:"",BranchIncharge:"",BranchIncMobile:"",BranchCity:"",Pin_Code:"",State:"",BranchCountry:"",Entry_By:""};function N(e){e.target.value=e.target.value.replace(/[^0-9]/g,"")}const C=function(){const[e,a]=(0,t.useState)([]),l=localStorage.getItem("user"),C=JSON.parse(l),[y,B]=(0,t.useState)(j),[_,w]=(0,t.useState)(!1),[T,q]=(0,t.useState)([]),[D,$]=(0,t.useState)(!1),[I,S]=(0,t.useState)(!1),[k,E]=(0,t.useState)(!1),{contextObj:M}=(0,t.useContext)(x.a);(0,t.useEffect)((()=>{(0,g.q)({address:`masters/branch?User_Id=${null===C||void 0===C?void 0:C.UserId}&Company_id=${null===C||void 0===C?void 0:C.Company_id}`}).then((e=>{e.success&&a(e.data)}))}),[_,null===C||void 0===C?void 0:C.Company_id]),(0,t.useEffect)((()=>{(0,g.q)({address:"masters/company/dropDown"}).then((e=>{e.success&&q(e.data)})).catch((e=>console.log(e)))}),[]);const R=[{label:"Company",elem:"select",options:[...T.map((e=>({value:e.ID,label:e.Name})))],event:e=>B({...y,Company_id:e.target.value}),required:!0,value:null===y||void 0===y?void 0:y.Company_id},{label:"Branch Name",elem:"input",type:"text",placeholder:"Enter Branch Name",event:e=>B({...y,BranchName:e.target.value}),required:!0,value:null===y||void 0===y?void 0:y.BranchName},{label:"Branch Code",elem:"input",type:"text",placeholder:"Enter Branch Name",event:e=>B({...y,BranchCode:e.target.value}),required:!0,value:null===y||void 0===y?void 0:y.BranchCode},{label:"Tele Code 1",elem:"input",type:"text",placeholder:"",event:e=>B({...y,Tele_Code:e.target.value}),required:!0,value:null===y||void 0===y?void 0:y.Tele_Code},{label:"Branch Telephone 1",elem:"input",oninput:e=>N(e),event:e=>B({...y,BranchTel:e.target.value}),required:!0,value:null===y||void 0===y?void 0:y.BranchTel},{label:"Tele Code 2",elem:"input",type:"text",placeholder:"",event:e=>B({...y,Tele1_Code:e.target.value}),required:!0,value:null===y||void 0===y?void 0:y.Tele1_Code},{label:"Branch Telephone 2",elem:"input",oninput:e=>N(e),placeholder:"",event:e=>B({...y,BranchTel1:e.target.value}),required:!0,value:null===y||void 0===y?void 0:y.BranchTel1},{label:"Email",elem:"input",type:"email",placeholder:"",event:e=>B({...y,E_Mail:e.target.value}),required:!0,value:null===y||void 0===y?void 0:y.E_Mail},{label:"Branch Incharge",elem:"input",type:"text",placeholder:"",event:e=>B({...y,BranchIncharge:e.target.value}),required:!0,value:null===y||void 0===y?void 0:y.BranchIncharge},{label:"Incharge Mobile",elem:"input",oninput:e=>N(e),placeholder:"",event:e=>B({...y,BranchIncMobile:e.target.value}),required:!0,value:null===y||void 0===y?void 0:y.BranchIncMobile},{label:"City",elem:"input",type:"text",placeholder:"",event:e=>B({...y,BranchCity:e.target.value}),required:!0,value:null===y||void 0===y?void 0:y.BranchCity},{label:"PinCode",elem:"input",oninput:e=>N(e),placeholder:"",event:e=>B({...y,Pin_Code:e.target.value}),required:!0,value:null===y||void 0===y?void 0:y.Pin_Code},{label:"State",elem:"input",type:"text",placeholder:"",event:e=>B({...y,State:e.target.value}),required:!0,value:null===y||void 0===y?void 0:y.State},{label:"Country",elem:"input",type:"text",placeholder:"",event:e=>B({...y,BranchCountry:e.target.value}),required:!0,value:null===y||void 0===y?void 0:y.BranchCountry},{label:"Address",elem:"textarea",type:"text",placeholder:"",event:e=>B({...y,BranchAddress:e.target.value}),required:!0,value:null===y||void 0===y?void 0:y.BranchAddress}],P=()=>{B(j),$(!D),S(!1)},z=e=>{E(!k),B(e)};return 1===Number(null===M||void 0===M?void 0:M.Read_Rights)?(0,f.jsxs)(t.Fragment,{children:[D?(0,f.jsxs)("div",{className:"card",children:[(0,f.jsxs)("div",{className:"card-header bg-white fw-bold d-flex align-items-center justify-content-between",children:[I?"Edit Branch":"Create Branch",(0,f.jsx)("div",{className:"text-end",children:(0,f.jsx)(n.c,{onClick:()=>{P()},className:"rounded-5 px-3 py-1 fa-13 shadow",children:"Back"})})]}),(0,f.jsx)("div",{className:"card-body",children:(0,f.jsx)("div",{className:"row",children:R.map(((e,a)=>(0,f.jsxs)("div",{className:"col-lg-4 col-md-6 p-2 px-3",children:[(0,f.jsx)("label",{children:e.label}),"input"===e.elem?(0,f.jsx)("input",{type:e.type||"text",className:"cus-inpt",onChange:e.event,onInput:e.oninput,disabled:e.disabled,value:e.value}):"select"===e.elem?(0,f.jsxs)("select",{className:"cus-inpt",onChange:e.event,value:e.value,children:[(0,f.jsx)("option",{value:"",children:"select"}),e.options.map(((e,a)=>(0,f.jsx)("option",{value:e.value,disabled:e.disabled,defaultValue:e.selected,children:e.label},a)))]}):"textarea"===e.elem?(0,f.jsx)("textarea",{className:"cus-inpt",onChange:e.event,rows:4,value:e.value}):null]},a)))})}),(0,f.jsxs)("div",{className:"card-footer d-flex justify-content-end bg-white",children:[(0,f.jsx)(n.c,{onClick:()=>{P()},className:"rounded-5 px-4 mx-1 btn-light bg-white",children:"Cancel"}),(0,f.jsx)(n.c,{onClick:I?()=>{(0,g.q)({address:"masters/branch",method:"PUT",bodyData:y}).then((e=>{e.success?(P(),w(!_),p.m4.success(e.message)):p.m4.error(e.message)}))}:()=>{(0,g.q)({address:"masters/branch",method:"POST",bodyData:y}).then((e=>{e.success?(P(),w(!_),p.m4.success(e.message)):p.m4.error(e.message)}))},className:"rounded-5 px-4 shadow mx-1",children:I?"Update":"Create Branch"})]})]}):(0,f.jsxs)("div",{className:"card",children:[(0,f.jsxs)("div",{className:"card-header bg-white fw-bold d-flex align-items-center justify-content-between",children:["Branches",(0,f.jsx)("div",{className:"text-end",children:(0,f.jsx)(n.c,{onClick:()=>P(),className:"rounded-5 px-3 py-1 fa-13 shadow",children:"Create Branch"})})]}),(0,f.jsx)("div",{className:"card-body overflow-scroll",style:{maxHeight:"78vh"},children:(0,f.jsx)("div",{className:"table-responsive",children:(0,f.jsxs)(s.c,{className:"",children:[(0,f.jsx)("thead",{children:(0,f.jsxs)("tr",{children:[(0,f.jsx)("th",{className:"fa-14",children:"Sno"}),(0,f.jsx)("th",{className:"fa-14",children:"Code"}),(0,f.jsx)("th",{className:"fa-14",children:"Branch"}),(0,f.jsx)("th",{className:"fa-14",children:"Phone"}),(0,f.jsx)("th",{className:"fa-14",children:"State"}),(0,f.jsx)("th",{className:"fa-14",children:"City"}),(0,f.jsx)("th",{className:"fa-14",children:"Address"}),(1===Number(null===M||void 0===M?void 0:M.Edit_Rights)||1===Number(null===M||void 0===M?void 0:M.Delete_Rights))&&(0,f.jsx)("th",{className:"fa-14",children:"Action"})]})}),(0,f.jsx)("tbody",{children:e.map(((e,a)=>(0,f.jsxs)("tr",{children:[(0,f.jsx)("td",{className:"fa-12",children:a+1}),(0,f.jsx)("td",{className:"fa-12",children:e.BranchCode}),(0,f.jsx)("td",{className:"fa-12",children:e.BranchName}),(0,f.jsx)("td",{className:"fa-12",children:e.BranchTel1}),(0,f.jsx)("td",{className:"fa-12",children:e.State}),(0,f.jsx)("td",{className:"fa-12",children:e.BranchCity}),(0,f.jsx)("td",{className:"fa-12",children:e.BranchAddress}),(1===Number(null===M||void 0===M?void 0:M.Edit_Rights)||1===Number(null===M||void 0===M?void 0:M.Delete_Rights))&&(0,f.jsxs)("td",{children:[1===Number(null===M||void 0===M?void 0:M.Edit_Rights)&&(0,f.jsx)(r.c,{onClick:()=>{var a;a=e,P(),B(a),S(!0)},size:"small",children:(0,f.jsx)(v.c,{className:"fa-in"})}),1===Number(null===M||void 0===M?void 0:M.Delete_Rights)&&(0,f.jsx)(r.c,{onClick:()=>{z(e)},size:"small",children:(0,f.jsx)(m.c,{className:"fa-in del-red"})})]})]},a)))})]})})})]}),(0,f.jsxs)(d.c,{open:k,onClose:z,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[(0,f.jsx)(c.c,{id:"alert-dialog-title",children:"Confirmation"}),(0,f.jsx)(i.c,{children:(0,f.jsx)(o.c,{id:"alert-dialog-description",children:(0,f.jsx)("b",{children:`Do you want to delete the ${(null===y||void 0===y?void 0:y.BranchName)&&(null===y||void 0===y?void 0:y.BranchName)} Branch?`})})}),(0,f.jsxs)(u.c,{children:[(0,f.jsx)(h.c,{onClick:z,children:"Cancel"}),(0,f.jsx)(h.c,{onClick:()=>{(0,g.q)({address:"masters/branch",method:"DELETE",bodyData:{BranchID:null===y||void 0===y?void 0:y.BranchId}}).then((e=>{e.success?(w(!_),p.m4.success(e.message),B(j),E(!1)):p.m4.error(e.message)}))},autoFocus:!0,sx:{color:"red"},children:"Delete"})]})]})]}):(0,f.jsx)(b.c,{})}},45180:(e,a,l)=>{l.d(a,{c:()=>s});var t=l(27664),n=l(82496);const s=(0,t.c)((0,n.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"}),"Delete")},86e3:(e,a,l)=>{l.d(a,{c:()=>s});var t=l(27664),n=l(82496);const s=(0,t.c)((0,n.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"}),"Edit")},75848:(e,a,l)=>{l.d(a,{c:()=>g});var t=l(95656),n=l(45072),s=l(69060),r=l(79736),d=l(21412),c=l(12556),i=l(43424),o=l(49836),u=l(56880),h=l(10099),v=l(33448);function m(e){return(0,v.cp)("MuiDialogContentText",e)}(0,h.c)("MuiDialogContentText",["root"]);var p=l(82496);const x=["children","className"],b=(0,c.cp)(u.c,{shouldForwardProp:e=>(0,i.c)(e)||"classes"===e,name:"MuiDialogContentText",slot:"Root",overridesResolver:(e,a)=>a.root})({}),g=s.forwardRef((function(e,a){const l=(0,o.C)({props:e,name:"MuiDialogContentText"}),{className:s}=l,c=(0,t.c)(l,x),i=(e=>{const{classes:a}=e,l=(0,d.c)({root:["root"]},m,a);return(0,n.c)({},a,l)})(c);return(0,p.jsx)(b,(0,n.c)({component:"p",variant:"body1",color:"text.secondary",ref:a,ownerState:c,className:(0,r.c)(i.root,s)},l,{classes:i}))}))},16344:(e,a,l)=>{l.d(a,{cV:()=>r,cp:()=>c});var t=l(69060),n=l(82496);const s=["as","disabled"];function r(e){let{tagName:a,disabled:l,href:t,target:n,rel:s,role:r,onClick:d,tabIndex:c=0,type:i}=e;a||(a=null!=t||null!=n||null!=s?"a":"button");const o={tagName:a};if("button"===a)return[{type:i||"button",disabled:l},o];const u=e=>{(l||"a"===a&&function(e){return!e||"#"===e.trim()}(t))&&e.preventDefault(),l?e.stopPropagation():null==d||d(e)};return"a"===a&&(t||(t="#"),l&&(t=void 0)),[{role:null!=r?r:"button",disabled:void 0,tabIndex:l?void 0:c,href:t,target:"a"===a?n:void 0,"aria-disabled":l||void 0,rel:"a"===a?s:void 0,onClick:u,onKeyDown:e=>{" "===e.key&&(e.preventDefault(),u(e))}},o]}const d=t.forwardRef(((e,a)=>{let{as:l,disabled:t}=e,d=function(e,a){if(null==e)return{};var l,t,n={},s=Object.keys(e);for(t=0;t<s.length;t++)l=s[t],a.indexOf(l)>=0||(n[l]=e[l]);return n}(e,s);const[c,{tagName:i}]=r(Object.assign({tagName:l,disabled:t},d));return(0,n.jsx)(i,Object.assign({},d,c,{ref:a}))}));d.displayName="Button";const c=d},42136:(e,a,l)=>{l.d(a,{c:()=>o});var t=l(264),n=l.n(t),s=l(69060),r=l(16344),d=l(83576),c=l(82496);const i=s.forwardRef(((e,a)=>{let{as:l,bsPrefix:t,variant:s="primary",size:i,active:o=!1,disabled:u=!1,className:h,...v}=e;const m=(0,d.Ky)(t,"btn"),[p,{tagName:x}]=(0,r.cV)({tagName:l,disabled:u,...v}),b=x;return(0,c.jsx)(b,{...p,...v,ref:a,disabled:u,className:n()(h,m,o&&"active",s&&`${m}-${s}`,i&&`${m}-${i}`,v.href&&u&&"disabled")})}));i.displayName="Button";const o=i},51752:(e,a,l)=>{l.d(a,{c:()=>c});var t=l(264),n=l.n(t),s=l(69060),r=l(83576),d=l(82496);const c=s.forwardRef(((e,a)=>{let{bsPrefix:l,className:t,striped:s,bordered:c,borderless:i,hover:o,size:u,variant:h,responsive:v,...m}=e;const p=(0,r.Ky)(l,"table"),x=n()(t,p,h&&`${p}-${h}`,u&&`${p}-${u}`,s&&`${p}-${"string"===typeof s?`striped-${s}`:"striped"}`,c&&`${p}-bordered`,i&&`${p}-borderless`,o&&`${p}-hover`),b=(0,d.jsx)("table",{...m,className:x,ref:a});if(v){let e=`${p}-responsive`;return"string"===typeof v&&(e=`${e}-${v}`),(0,d.jsx)("div",{className:e,children:b})}return b}))}}]);
//# sourceMappingURL=104.db0b090d.chunk.js.map
"use strict";(self.webpackChunkerp=self.webpackChunkerp||[]).push([[2084,3692,1312],{2084:(e,t,a)=>{a.r(t),a.d(t,{default:()=>j});var i=a(30800),l=a(69060),r=a(39308),s=a(56480),d=a(43692),n=a(89e3),c=a(84436),o=a(82656),u=a(26773),m=a(4488),v=a(90048),h=a(77536),p=a(1908),x=a(82496);const j=()=>{const e=JSON.parse(localStorage.getItem("user")),{contextObj:t}=(0,l.useContext)(h.a),a={Id:0,EntryDate:(0,r.Q7)(),LocationDetails:"MILL",StockItem:"",StartTime:"10:00",EndTime:"12:00",InputKG:0,OutputKG:0,WeingtCheckedBy:"",ApproximateOutput:0,EntryBy:e.UserId},[j,g]=(0,l.useState)([]),[N,f]=(0,l.useState)([]),[b,y]=(0,l.useState)([]),[C,S]=(0,l.useState)(a),[I,O]=(0,l.useState)(!1),[T,k]=(0,l.useState)({reqDate:(0,r.Q7)(),reqLocation:"MILL",dialog:!1});(0,l.useEffect)((()=>{(0,p.q)({address:"dataEntry/weightCheckActivity/getStaffs"}).then((e=>f(e.success?e.data:[]))).catch((e=>console.error(e))),(0,p.q)({address:"dataEntry/weightCheckActivity/getItems"}).then((e=>y(e.success?e.data:[]))).catch((e=>console.error(e)))}),[I]),(0,l.useEffect)((()=>{(0,p.q)({address:"dataEntry/weightCheckActivity?reqDate=".concat(T.reqDate,"&reqLocation=").concat(T.reqLocation)}).then((e=>{if(e.success){var t;const a=null===(t=e.data)||void 0===t?void 0:t.map((e=>(0,i.c)((0,i.c)({},e),{},{StartTime:(0,r.OM)(null===e||void 0===e?void 0:e.StartTime),EndTime:(0,r.OM)(null===e||void 0===e?void 0:e.EndTime)})));g(a)}})).catch((e=>console.error(e)))}),[I,T.reqDate,T.reqLocation]);const A=()=>{k((e=>(0,i.c)((0,i.c)({},e),{},{dialog:!1}))),S(a)};return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)(d.c,{children:[(0,x.jsxs)("div",{className:"p-2 border-bottom fa-16 fw-bold d-flex justify-content-between align-items-center",children:[(0,x.jsx)("span",{className:"text-primary text-uppercase ps-3",children:"WeiGht Checking"}),(0,r.Qr)(null===t||void 0===t?void 0:t.Add_Rights,1)&&(0,x.jsx)(n.c,{variant:"outlined",onClick:()=>k((e=>(0,i.c)((0,i.c)({},e),{},{dialog:!0}))),children:"Add Activity"})]}),(0,x.jsxs)("div",{className:"d-flex p-2 px-3",children:[(0,x.jsxs)("div",{children:[(0,x.jsx)("label",{className:"mb-1 w-100",children:"DATE"}),(0,x.jsx)("input",{type:"date",className:"cus-inpt w-auto",value:T.reqDate,onChange:e=>k((t=>(0,i.c)((0,i.c)({},t),{},{reqDate:e.target.value})))})]}),(0,x.jsxs)("div",{children:[(0,x.jsx)("label",{className:"mb-1 w-100",children:"LOCATION"}),(0,x.jsxs)("select",{className:"cus-inpt w-auto",value:T.reqLocation,onChange:e=>k((t=>(0,i.c)((0,i.c)({},t),{},{reqLocation:e.target.value}))),children:[(0,x.jsx)("option",{value:"MILL",children:"MILL"}),(0,x.jsx)("option",{value:"GODOWN",children:"GODOWN"})]})]})]}),(0,x.jsx)(c.c,{children:(0,x.jsx)("div",{className:"table-responsive",children:(0,x.jsxs)("table",{className:"table",children:[(0,x.jsx)("thead",{children:(0,x.jsx)("tr",{children:["SNo","Stock Item","Start","End","Duration","Input","Output","Difference","Expected","Actual","Weingt Checked By"].map(((e,t)=>(0,x.jsx)("th",{className:"border fa-14 text-muted text-uppercase text-center",children:e},t)))})}),(0,x.jsx)("tbody",{children:(null===j||void 0===j?void 0:j.length)>0&&(null===j||void 0===j?void 0:j.map(((e,t)=>(0,x.jsxs)("tr",{children:[(0,x.jsx)("td",{className:"border text-center fa-13",children:t+1}),(0,x.jsx)("td",{className:"border fa-13 cellHoverColor",onClick:()=>{S(e),k((e=>(0,i.c)((0,i.c)({},e),{},{dialog:!0})))},children:null===e||void 0===e?void 0:e.StockItem}),(0,x.jsx)("td",{className:"border text-center fa-13",children:null!==e&&void 0!==e&&e.StartTime?(0,r.Gu)((0,r.Wi)(null===e||void 0===e?void 0:e.StartTime)):"-"}),(0,x.jsx)("td",{className:"border text-center fa-13",children:null!==e&&void 0!==e&&e.EndTime?(0,r.Gu)((0,r.Wi)(null===e||void 0===e?void 0:e.EndTime)):"-"}),(0,x.jsx)("td",{className:"border text-center fa-13 text-primary fw-bold",children:null!==e&&void 0!==e&&e.StartTime&&null!==e&&void 0!==e&&e.EndTime?(0,r.Zp)(null===e||void 0===e?void 0:e.StartTime,null===e||void 0===e?void 0:e.EndTime):"-"}),(0,x.jsx)("td",{className:"border text-center fa-13",children:null!==e&&void 0!==e&&e.InputKG?(0,r.SA)(null===e||void 0===e?void 0:e.InputKG):"-"}),(0,x.jsx)("td",{className:"border text-center fa-13",children:null!==e&&void 0!==e&&e.OutputKG?(0,r.SA)(null===e||void 0===e?void 0:e.OutputKG):"-"}),(0,x.jsx)("td",{className:"border text-center fa-13 text-primary fw-bold",children:null!==e&&void 0!==e&&e.InputKG&&null!==e&&void 0!==e&&e.OutputKG?(0,r.od)(null===e||void 0===e?void 0:e.OutputKG,null===e||void 0===e?void 0:e.InputKG):"-"}),(0,x.jsx)("td",{className:"border text-center fa-13",children:null!==e&&void 0!==e&&e.ApproximateOutput?(null===e||void 0===e?void 0:e.ApproximateOutput)+"%":"-"}),(0,x.jsx)("td",{className:"border text-center fa-13",children:null!==e&&void 0!==e&&e.InputKG&&null!==e&&void 0!==e&&e.OutputKG?(e.OutputKG/e.InputKG*100).toFixed(2)+"%":"-"}),(0,x.jsx)("td",{className:"border text-center fa-13",children:null===e||void 0===e?void 0:e.WeingtCheckedBy})]},t))))})]})})})]}),(0,x.jsxs)(o.c,{open:T.dialog,onClose:A,fullWidth:!0,maxWidth:"sm",children:[(0,x.jsx)(u.c,{children:null!==C&&void 0!==C&&C.Id?"Modify Activity":"Add Activity"}),(0,x.jsxs)("form",{onSubmit:e=>{e.preventDefault(),(0,p.q)({address:"dataEntry/weightCheckActivity",method:C.Id?"PUT":"POST",headers:{"Content-Type":"application/json"},bodyData:C}).then((e=>{e.success?(s.m4.success(e.message),O(!I),A()):s.m4.error(e.message)})).catch((e=>console.error(e)))},children:[(0,x.jsx)(m.c,{children:(0,x.jsx)("div",{className:"table-responsive",children:(0,x.jsx)("table",{className:"table",children:(0,x.jsxs)("tbody",{children:[(0,x.jsxs)("tr",{children:[(0,x.jsx)("td",{className:"border-0 fa-15",style:{verticalAlign:"middle"},children:"Date"}),(0,x.jsx)("td",{className:"border-0",children:(0,x.jsx)("input",{type:"date",value:null!==C&&void 0!==C&&C.EntryDate?(0,r.Q7)(null===C||void 0===C?void 0:C.EntryDate):"",className:"cus-inpt",onChange:e=>S((t=>(0,i.c)((0,i.c)({},t),{},{EntryDate:e.target.value}))),required:!0})})]}),(0,x.jsxs)("tr",{children:[(0,x.jsx)("td",{className:"border-0 fa-15",style:{verticalAlign:"middle"},children:"Location"}),(0,x.jsx)("td",{className:"border-0",children:(0,x.jsxs)("select",{value:null===C||void 0===C?void 0:C.LocationDetails,onChange:e=>S((t=>(0,i.c)((0,i.c)({},t),{},{LocationDetails:e.target.value}))),className:"cus-inpt",required:!0,children:[(0,x.jsx)("option",{value:"MILL",children:"MILL"}),(0,x.jsx)("option",{value:"GODOWN",children:"GODOWN"})]})})]}),(0,x.jsxs)("tr",{children:[(0,x.jsx)("td",{className:"border-0 fa-15",style:{verticalAlign:"middle"},children:"Stock Item"}),(0,x.jsx)("td",{className:"border-0",children:(0,x.jsx)("input",{value:null===C||void 0===C?void 0:C.StockItem,type:"search",list:"StockItem",required:!0,className:"cus-inpt",placeholder:"Type or Search Stock Item",onChange:e=>S((t=>(0,i.c)((0,i.c)({},t),{},{StockItem:e.target.value})))})})]}),(0,x.jsxs)("tr",{children:[(0,x.jsx)("td",{className:"border-0 fa-15",style:{verticalAlign:"middle"},children:"Start Time"}),(0,x.jsx)("td",{className:"border-0",children:(0,x.jsx)("input",{value:null!==C&&void 0!==C&&C.StartTime?null===C||void 0===C?void 0:C.StartTime:"",className:"cus-inpt",type:"time",required:!0,onChange:e=>S((t=>(0,i.c)((0,i.c)({},t),{},{StartTime:e.target.value})))})})]}),(0,x.jsxs)("tr",{children:[(0,x.jsx)("td",{className:"border-0 fa-15",style:{verticalAlign:"middle"},children:"End Time"}),(0,x.jsx)("td",{className:"border-0",children:(0,x.jsx)("input",{value:null!==C&&void 0!==C&&C.EndTime?null===C||void 0===C?void 0:C.EndTime:"",className:"cus-inpt",type:"time",min:C.StartTime?(0,r.OM)(null===C||void 0===C?void 0:C.StartTime):"",required:!0,onChange:e=>S((t=>(0,i.c)((0,i.c)({},t),{},{EndTime:e.target.value})))})})]}),(0,x.jsxs)("tr",{children:[(0,x.jsx)("td",{className:"border-0 fa-15",style:{verticalAlign:"middle"},children:"Input KGs"}),(0,x.jsx)("td",{className:"border-0",children:(0,x.jsx)("input",{value:null!==C&&void 0!==C&&C.InputKG?null===C||void 0===C?void 0:C.InputKG:"",className:"cus-inpt",type:"number",required:!0,min:1,placeholder:"Weight in kgs",onChange:e=>S((t=>(0,i.c)((0,i.c)({},t),{},{InputKG:e.target.value})))})})]}),(0,x.jsxs)("tr",{children:[(0,x.jsx)("td",{className:"border-0 fa-15",style:{verticalAlign:"middle"},children:"Output KGs"}),(0,x.jsx)("td",{className:"border-0",children:(0,x.jsx)("input",{value:null!==C&&void 0!==C&&C.OutputKG?null===C||void 0===C?void 0:C.OutputKG:"",className:"cus-inpt",type:"number",required:!0,min:1,placeholder:"Weight in kgs",onChange:e=>S((t=>(0,i.c)((0,i.c)({},t),{},{OutputKG:e.target.value})))})})]}),(0,x.jsxs)("tr",{children:[(0,x.jsx)("td",{className:"border-0 fa-15",style:{verticalAlign:"middle"},children:"Expected Output ( % )"}),(0,x.jsx)("td",{className:"border-0",children:(0,x.jsx)("input",{value:null!==C&&void 0!==C&&C.ApproximateOutput?null===C||void 0===C?void 0:C.ApproximateOutput:"",className:"cus-inpt",type:"number",required:!0,min:1,placeholder:"in Percentage (%)",onChange:e=>S((t=>(0,i.c)((0,i.c)({},t),{},{ApproximateOutput:e.target.value})))})})]}),(0,x.jsxs)("tr",{children:[(0,x.jsx)("td",{className:"border-0 fa-15",style:{verticalAlign:"middle"},children:"Weight Checked By"}),(0,x.jsx)("td",{className:"border-0",children:(0,x.jsx)("input",{value:null===C||void 0===C?void 0:C.WeingtCheckedBy,type:"search",list:"staffList",required:!0,className:"cus-inpt",placeholder:"Type or Search Name",onChange:e=>S((t=>(0,i.c)((0,i.c)({},t),{},{WeingtCheckedBy:e.target.value})))})})]})]})})})}),(0,x.jsxs)(v.c,{children:[(0,x.jsx)(n.c,{onClick:A,type:"button",children:"Cancel"}),(0,x.jsx)(n.c,{type:"submit",children:"SUBMIT"})]})]})]}),(0,x.jsx)("datalist",{id:"staffList",children:N.map(((e,t)=>(0,x.jsx)("option",{value:e.WeingtCheckedBy},t)))}),(0,x.jsx)("datalist",{id:"StockItem",children:b.map(((e,t)=>(0,x.jsx)("option",{value:e.StockItem},t)))})]})}},84436:(e,t,a)=>{a.d(t,{c:()=>x});var i=a(45072),l=a(95656),r=a(69060),s=a(79736),d=a(21412),n=a(12556),c=a(49836),o=a(10099),u=a(33448);function m(e){return(0,u.cp)("MuiCardContent",e)}(0,o.c)("MuiCardContent",["root"]);var v=a(82496);const h=["className","component"],p=(0,n.cp)("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(e,t)=>t.root})((()=>({padding:16,"&:last-child":{paddingBottom:24}}))),x=r.forwardRef((function(e,t){const a=(0,c.C)({props:e,name:"MuiCardContent"}),{className:r,component:n="div"}=a,o=(0,l.c)(a,h),u=(0,i.c)({},a,{component:n}),x=(e=>{const{classes:t}=e;return(0,d.c)({root:["root"]},m,t)})(u);return(0,v.jsx)(p,(0,i.c)({as:n,className:(0,s.c)(x.root,r),ownerState:u,ref:t},o))}))},43692:(e,t,a)=>{a.d(t,{c:()=>j});var i=a(45072),l=a(95656),r=a(69060),s=a(79736),d=a(21412),n=a(12556),c=a(49836),o=a(85624),u=a(10099),m=a(33448);function v(e){return(0,m.cp)("MuiCard",e)}(0,u.c)("MuiCard",["root"]);var h=a(82496);const p=["className","raised"],x=(0,n.cp)(o.c,{name:"MuiCard",slot:"Root",overridesResolver:(e,t)=>t.root})((()=>({overflow:"hidden"}))),j=r.forwardRef((function(e,t){const a=(0,c.C)({props:e,name:"MuiCard"}),{className:r,raised:n=!1}=a,o=(0,l.c)(a,p),u=(0,i.c)({},a,{raised:n}),m=(e=>{const{classes:t}=e;return(0,d.c)({root:["root"]},v,t)})(u);return(0,h.jsx)(x,(0,i.c)({className:(0,s.c)(m.root,r),elevation:n?8:void 0,ref:t,ownerState:u},o))}))}}]);
//# sourceMappingURL=2084.c3c2cce7.chunk.js.map
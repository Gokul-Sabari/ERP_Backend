"use strict";(self.webpackChunkerp=self.webpackChunkerp||[]).push([[104],{60104:(e,a,l)=>{l.r(a),l.d(a,{default:()=>y});var t=l(30800),c=l(69060),n=l(42136),s=l(51752),r=l(5548),d=l(82656),i=l(26773),o=l(4488),u=l(75848),h=l(90048),v=l(89e3),m=l(86e3),p=l(45180),x=l(56480),b=l(77536),g=l(91012),f=l(1908),N=l(82496);const j={BranchId:"",Company_id:"",BranchCode:"",BranchName:"",Tele_Code:"",Tele1_Code:"",BranchTel:"",BranchTel1:"",BranchAddress:"",E_Mail:"",BranchIncharge:"",BranchIncMobile:"",BranchCity:"",Pin_Code:"",State:"",BranchCountry:"",Entry_By:""};function C(e){e.target.value=e.target.value.replace(/[^0-9]/g,"")}const y=function(){const[e,a]=(0,c.useState)([]),l=localStorage.getItem("user"),y=JSON.parse(l),[B,_]=(0,c.useState)(j),[w,T]=(0,c.useState)(!1),[q,D]=(0,c.useState)([]),[I,S]=(0,c.useState)(!1),[k,E]=(0,c.useState)(!1),[M,R]=(0,c.useState)(!1),{contextObj:P}=(0,c.useContext)(b.a);(0,c.useEffect)((()=>{(0,f.q)({address:"masters/branch?User_Id=".concat(null===y||void 0===y?void 0:y.UserId,"&Company_id=").concat(null===y||void 0===y?void 0:y.Company_id)}).then((e=>{e.success&&a(e.data)}))}),[w,null===y||void 0===y?void 0:y.Company_id]),(0,c.useEffect)((()=>{(0,f.q)({address:"masters/company/dropDown"}).then((e=>{e.success&&D(e.data)})).catch((e=>console.log(e)))}),[]);const z=[{label:"Company",elem:"select",options:[...q.map((e=>({value:e.ID,label:e.Name})))],event:e=>_((0,t.c)((0,t.c)({},B),{},{Company_id:e.target.value})),required:!0,value:null===B||void 0===B?void 0:B.Company_id},{label:"Branch Name",elem:"input",type:"text",placeholder:"Enter Branch Name",event:e=>_((0,t.c)((0,t.c)({},B),{},{BranchName:e.target.value})),required:!0,value:null===B||void 0===B?void 0:B.BranchName},{label:"Branch Code",elem:"input",type:"text",placeholder:"Enter Branch Name",event:e=>_((0,t.c)((0,t.c)({},B),{},{BranchCode:e.target.value})),required:!0,value:null===B||void 0===B?void 0:B.BranchCode},{label:"Tele Code 1",elem:"input",type:"text",placeholder:"",event:e=>_((0,t.c)((0,t.c)({},B),{},{Tele_Code:e.target.value})),required:!0,value:null===B||void 0===B?void 0:B.Tele_Code},{label:"Branch Telephone 1",elem:"input",oninput:e=>C(e),event:e=>_((0,t.c)((0,t.c)({},B),{},{BranchTel:e.target.value})),required:!0,value:null===B||void 0===B?void 0:B.BranchTel},{label:"Tele Code 2",elem:"input",type:"text",placeholder:"",event:e=>_((0,t.c)((0,t.c)({},B),{},{Tele1_Code:e.target.value})),required:!0,value:null===B||void 0===B?void 0:B.Tele1_Code},{label:"Branch Telephone 2",elem:"input",oninput:e=>C(e),placeholder:"",event:e=>_((0,t.c)((0,t.c)({},B),{},{BranchTel1:e.target.value})),required:!0,value:null===B||void 0===B?void 0:B.BranchTel1},{label:"Email",elem:"input",type:"email",placeholder:"",event:e=>_((0,t.c)((0,t.c)({},B),{},{E_Mail:e.target.value})),required:!0,value:null===B||void 0===B?void 0:B.E_Mail},{label:"Branch Incharge",elem:"input",type:"text",placeholder:"",event:e=>_((0,t.c)((0,t.c)({},B),{},{BranchIncharge:e.target.value})),required:!0,value:null===B||void 0===B?void 0:B.BranchIncharge},{label:"Incharge Mobile",elem:"input",oninput:e=>C(e),placeholder:"",event:e=>_((0,t.c)((0,t.c)({},B),{},{BranchIncMobile:e.target.value})),required:!0,value:null===B||void 0===B?void 0:B.BranchIncMobile},{label:"City",elem:"input",type:"text",placeholder:"",event:e=>_((0,t.c)((0,t.c)({},B),{},{BranchCity:e.target.value})),required:!0,value:null===B||void 0===B?void 0:B.BranchCity},{label:"PinCode",elem:"input",oninput:e=>C(e),placeholder:"",event:e=>_((0,t.c)((0,t.c)({},B),{},{Pin_Code:e.target.value})),required:!0,value:null===B||void 0===B?void 0:B.Pin_Code},{label:"State",elem:"input",type:"text",placeholder:"",event:e=>_((0,t.c)((0,t.c)({},B),{},{State:e.target.value})),required:!0,value:null===B||void 0===B?void 0:B.State},{label:"Country",elem:"input",type:"text",placeholder:"",event:e=>_((0,t.c)((0,t.c)({},B),{},{BranchCountry:e.target.value})),required:!0,value:null===B||void 0===B?void 0:B.BranchCountry},{label:"Address",elem:"textarea",type:"text",placeholder:"",event:e=>_((0,t.c)((0,t.c)({},B),{},{BranchAddress:e.target.value})),required:!0,value:null===B||void 0===B?void 0:B.BranchAddress}],A=()=>{_(j),S(!I),E(!1)},O=e=>{R(!M),_(e)};return 1===Number(null===P||void 0===P?void 0:P.Read_Rights)?(0,N.jsxs)(c.Fragment,{children:[I?(0,N.jsxs)("div",{className:"card",children:[(0,N.jsxs)("div",{className:"card-header bg-white fw-bold d-flex align-items-center justify-content-between",children:[k?"Edit Branch":"Create Branch",(0,N.jsx)("div",{className:"text-end",children:(0,N.jsx)(n.c,{onClick:()=>{A()},className:"rounded-5 px-3 py-1 fa-13 shadow",children:"Back"})})]}),(0,N.jsx)("div",{className:"card-body",children:(0,N.jsx)("div",{className:"row",children:z.map(((e,a)=>(0,N.jsxs)("div",{className:"col-lg-4 col-md-6 p-2 px-3",children:[(0,N.jsx)("label",{children:e.label}),"input"===e.elem?(0,N.jsx)("input",{type:e.type||"text",className:"cus-inpt",onChange:e.event,onInput:e.oninput,disabled:e.disabled,value:e.value}):"select"===e.elem?(0,N.jsxs)("select",{className:"cus-inpt",onChange:e.event,value:e.value,children:[(0,N.jsx)("option",{value:"",children:"select"}),e.options.map(((e,a)=>(0,N.jsx)("option",{value:e.value,disabled:e.disabled,defaultValue:e.selected,children:e.label},a)))]}):"textarea"===e.elem?(0,N.jsx)("textarea",{className:"cus-inpt",onChange:e.event,rows:4,value:e.value}):null]},a)))})}),(0,N.jsxs)("div",{className:"card-footer d-flex justify-content-end bg-white",children:[(0,N.jsx)(n.c,{onClick:()=>{A()},className:"rounded-5 px-4 mx-1 btn-light bg-white",children:"Cancel"}),(0,N.jsx)(n.c,{onClick:k?()=>{(0,f.q)({address:"masters/branch",method:"PUT",bodyData:B}).then((e=>{e.success?(A(),T(!w),x.m4.success(e.message)):x.m4.error(e.message)}))}:()=>{(0,f.q)({address:"masters/branch",method:"POST",bodyData:B}).then((e=>{e.success?(A(),T(!w),x.m4.success(e.message)):x.m4.error(e.message)}))},className:"rounded-5 px-4 shadow mx-1",children:k?"Update":"Create Branch"})]})]}):(0,N.jsxs)("div",{className:"card",children:[(0,N.jsxs)("div",{className:"card-header bg-white fw-bold d-flex align-items-center justify-content-between",children:["Branches",(0,N.jsx)("div",{className:"text-end",children:(0,N.jsx)(n.c,{onClick:()=>A(),className:"rounded-5 px-3 py-1 fa-13 shadow",children:"Create Branch"})})]}),(0,N.jsx)("div",{className:"card-body overflow-scroll",style:{maxHeight:"78vh"},children:(0,N.jsx)("div",{className:"table-responsive",children:(0,N.jsxs)(s.c,{className:"",children:[(0,N.jsx)("thead",{children:(0,N.jsxs)("tr",{children:[(0,N.jsx)("th",{className:"fa-14",children:"Sno"}),(0,N.jsx)("th",{className:"fa-14",children:"Code"}),(0,N.jsx)("th",{className:"fa-14",children:"Branch"}),(0,N.jsx)("th",{className:"fa-14",children:"Phone"}),(0,N.jsx)("th",{className:"fa-14",children:"State"}),(0,N.jsx)("th",{className:"fa-14",children:"City"}),(0,N.jsx)("th",{className:"fa-14",children:"Address"}),(1===Number(null===P||void 0===P?void 0:P.Edit_Rights)||1===Number(null===P||void 0===P?void 0:P.Delete_Rights))&&(0,N.jsx)("th",{className:"fa-14",children:"Action"})]})}),(0,N.jsx)("tbody",{children:e.map(((e,a)=>(0,N.jsxs)("tr",{children:[(0,N.jsx)("td",{className:"fa-12",children:a+1}),(0,N.jsx)("td",{className:"fa-12",children:e.BranchCode}),(0,N.jsx)("td",{className:"fa-12",children:e.BranchName}),(0,N.jsx)("td",{className:"fa-12",children:e.BranchTel1}),(0,N.jsx)("td",{className:"fa-12",children:e.State}),(0,N.jsx)("td",{className:"fa-12",children:e.BranchCity}),(0,N.jsx)("td",{className:"fa-12",children:e.BranchAddress}),(1===Number(null===P||void 0===P?void 0:P.Edit_Rights)||1===Number(null===P||void 0===P?void 0:P.Delete_Rights))&&(0,N.jsxs)("td",{children:[1===Number(null===P||void 0===P?void 0:P.Edit_Rights)&&(0,N.jsx)(r.c,{onClick:()=>{var a;a=e,A(),_(a),E(!0)},size:"small",children:(0,N.jsx)(m.c,{className:"fa-in"})}),1===Number(null===P||void 0===P?void 0:P.Delete_Rights)&&(0,N.jsx)(r.c,{onClick:()=>{O(e)},size:"small",children:(0,N.jsx)(p.c,{className:"fa-in del-red"})})]})]},a)))})]})})})]}),(0,N.jsxs)(d.c,{open:M,onClose:O,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[(0,N.jsx)(i.c,{id:"alert-dialog-title",children:"Confirmation"}),(0,N.jsx)(o.c,{children:(0,N.jsx)(u.c,{id:"alert-dialog-description",children:(0,N.jsx)("b",{children:"Do you want to delete the ".concat((null===B||void 0===B?void 0:B.BranchName)&&(null===B||void 0===B?void 0:B.BranchName)," Branch?")})})}),(0,N.jsxs)(h.c,{children:[(0,N.jsx)(v.c,{onClick:O,children:"Cancel"}),(0,N.jsx)(v.c,{onClick:()=>{(0,f.q)({address:"masters/branch",method:"DELETE",bodyData:{BranchID:null===B||void 0===B?void 0:B.BranchId}}).then((e=>{e.success?(T(!w),x.m4.success(e.message),_(j),R(!1)):x.m4.error(e.message)}))},autoFocus:!0,sx:{color:"red"},children:"Delete"})]})]})]}):(0,N.jsx)(g.c,{})}},45180:(e,a,l)=>{l.d(a,{c:()=>n});var t=l(27664),c=l(82496);const n=(0,t.c)((0,c.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"}),"Delete")},86e3:(e,a,l)=>{l.d(a,{c:()=>n});var t=l(27664),c=l(82496);const n=(0,t.c)((0,c.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"}),"Edit")},75848:(e,a,l)=>{l.d(a,{c:()=>g});var t=l(95656),c=l(45072),n=l(69060),s=l(79736),r=l(21412),d=l(12556),i=l(43424),o=l(49836),u=l(56880),h=l(10099),v=l(33448);function m(e){return(0,v.cp)("MuiDialogContentText",e)}(0,h.c)("MuiDialogContentText",["root"]);var p=l(82496);const x=["children","className"],b=(0,d.cp)(u.c,{shouldForwardProp:e=>(0,i.c)(e)||"classes"===e,name:"MuiDialogContentText",slot:"Root",overridesResolver:(e,a)=>a.root})({}),g=n.forwardRef((function(e,a){const l=(0,o.C)({props:e,name:"MuiDialogContentText"}),{className:n}=l,d=(0,t.c)(l,x),i=(e=>{const{classes:a}=e,l=(0,r.c)({root:["root"]},m,a);return(0,c.c)({},a,l)})(d);return(0,p.jsx)(b,(0,c.c)({component:"p",variant:"body1",color:"text.secondary",ref:a,ownerState:d,className:(0,s.c)(i.root,n)},l,{classes:i}))}))},16344:(e,a,l)=>{l.d(a,{cV:()=>s,cp:()=>d});var t=l(69060),c=l(82496);const n=["as","disabled"];function s(e){let{tagName:a,disabled:l,href:t,target:c,rel:n,role:s,onClick:r,tabIndex:d=0,type:i}=e;a||(a=null!=t||null!=c||null!=n?"a":"button");const o={tagName:a};if("button"===a)return[{type:i||"button",disabled:l},o];const u=e=>{(l||"a"===a&&function(e){return!e||"#"===e.trim()}(t))&&e.preventDefault(),l?e.stopPropagation():null==r||r(e)};return"a"===a&&(t||(t="#"),l&&(t=void 0)),[{role:null!=s?s:"button",disabled:void 0,tabIndex:l?void 0:d,href:t,target:"a"===a?c:void 0,"aria-disabled":l||void 0,rel:"a"===a?n:void 0,onClick:u,onKeyDown:e=>{" "===e.key&&(e.preventDefault(),u(e))}},o]}const r=t.forwardRef(((e,a)=>{let{as:l,disabled:t}=e,r=function(e,a){if(null==e)return{};var l,t,c={},n=Object.keys(e);for(t=0;t<n.length;t++)l=n[t],a.indexOf(l)>=0||(c[l]=e[l]);return c}(e,n);const[d,{tagName:i}]=s(Object.assign({tagName:l,disabled:t},r));return(0,c.jsx)(i,Object.assign({},r,d,{ref:a}))}));r.displayName="Button";const d=r},42136:(e,a,l)=>{l.d(a,{c:()=>v});var t=l(30800),c=l(31024),n=l(264),s=l.n(n),r=l(69060),d=l(16344),i=l(83576),o=l(82496);const u=["as","bsPrefix","variant","size","active","disabled","className"],h=r.forwardRef(((e,a)=>{let{as:l,bsPrefix:n,variant:r="primary",size:h,active:v=!1,disabled:m=!1,className:p}=e,x=(0,c.c)(e,u);const b=(0,i.Ky)(n,"btn"),[g,{tagName:f}]=(0,d.cV)((0,t.c)({tagName:l,disabled:m},x)),N=f;return(0,o.jsx)(N,(0,t.c)((0,t.c)((0,t.c)({},g),x),{},{ref:a,disabled:m,className:s()(p,b,v&&"active",r&&"".concat(b,"-").concat(r),h&&"".concat(b,"-").concat(h),x.href&&m&&"disabled")}))}));h.displayName="Button";const v=h},51752:(e,a,l)=>{l.d(a,{c:()=>u});var t=l(30800),c=l(31024),n=l(264),s=l.n(n),r=l(69060),d=l(83576),i=l(82496);const o=["bsPrefix","className","striped","bordered","borderless","hover","size","variant","responsive"],u=r.forwardRef(((e,a)=>{let{bsPrefix:l,className:n,striped:r,bordered:u,borderless:h,hover:v,size:m,variant:p,responsive:x}=e,b=(0,c.c)(e,o);const g=(0,d.Ky)(l,"table"),f=s()(n,g,p&&"".concat(g,"-").concat(p),m&&"".concat(g,"-").concat(m),r&&"".concat(g,"-").concat("string"===typeof r?"striped-".concat(r):"striped"),u&&"".concat(g,"-bordered"),h&&"".concat(g,"-borderless"),v&&"".concat(g,"-hover")),N=(0,i.jsx)("table",(0,t.c)((0,t.c)({},b),{},{className:f,ref:a}));if(x){let e="".concat(g,"-responsive");return"string"===typeof x&&(e="".concat(e,"-").concat(x)),(0,i.jsx)("div",{className:e,children:N})}return N}))}}]);
//# sourceMappingURL=104.cb684d68.chunk.js.map
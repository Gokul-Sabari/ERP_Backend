"use strict";(self.webpackChunkerp=self.webpackChunkerp||[]).push([[9708],{59708:(e,a,t)=>{t.r(a),t.d(a,{default:()=>x});var s=t(69060),l=t(43692),r=t(84436),d=t(3358),o=t(5548),n=t(39308),c=t(50764),i=t(31664),u=t(61988),m=t(1908),p=t(82496);const h=e=>{let{row:a,Fromdate:t,Todate:l,DB:r}=e;const[d,o]=(0,s.useState)([]),[n,i]=(0,s.useState)([]);return(0,s.useEffect)((()=>{(0,m.q)({address:`sales/partyWiseReport/details?Fromdate=${t}&Todate=${l}&Party_Name=${null===a||void 0===a?void 0:a.Actual_Party_Name}`,headers:{Db:r}}).then((e=>{let{success:a,data:t,others:s}=e;if(a){const{dataTypeInfo:e}=s;o(t),i((a=>({...a,salesInfo:Array.isArray(e)?e:[]})))}else o([])})).catch(console.error)}),[null===a||void 0===a?void 0:a.Party_Name,t,l]),(0,p.jsx)(c.c,{dataArray:d,columns:n.salesInfo})},x=()=>{const e=JSON.parse(localStorage.getItem("user")),[a,t]=(0,s.useState)(null),[x,v]=(0,s.useState)([]),[y,j]=(0,s.useState)({Fromdate:(0,n.SO)(1),Todate:(0,n.Q7)(),filterDialog:!1,reload:!0});return(0,s.useEffect)((()=>{t(null),v([]),(0,m.q)({address:`sales/partyWiseReport?Fromdate=${null===y||void 0===y?void 0:y.Fromdate}&Todate=${null===y||void 0===y?void 0:y.Todate}`,headers:{Db:null===e||void 0===e?void 0:e.Company_id}}).then((e=>{let{success:a,data:s,others:l}=e;if(a){const{dataTypeInfo:e}=l;t(s),v(Array.isArray(e)?e:[])}else t([])})).catch(console.error)}),[y.reload]),(0,p.jsx)(s.Fragment,{children:(0,p.jsxs)(l.c,{className:"mt-3",children:[(0,p.jsx)("div",{className:"px-3 py-2 d-flex justify-content-between align-items-center fw-bold text-dark",style:{backgroundColor:"#eae0cc"},children:(0,p.jsx)("span",{children:"PARTY BASED SALES"})}),(0,p.jsxs)(r.c,{children:[(0,p.jsxs)("div",{className:"mb-3",children:[(0,p.jsx)("input",{type:"date",className:"cus-inpt w-auto ps-3 border rounded-5 me-1",value:y.Fromdate,onChange:e=>j((a=>({...a,Fromdate:e.target.value})))}),(0,p.jsx)("input",{type:"date",className:"cus-inpt w-auto ps-3 border rounded-5",value:y.Todate,onChange:e=>j((a=>({...a,Todate:e.target.value})))}),(0,p.jsx)(d.c,{title:"Reload Data",children:(0,p.jsx)(o.c,{onClick:()=>j((e=>({...e,reload:!e.reload}))),size:"small",className:"ms-2",children:(0,p.jsx)(i.c,{})})}),(0,p.jsx)(d.c,{title:"Filters",children:(0,p.jsx)(o.c,{onClick:()=>j((e=>({...e,filterDialog:!0}))),size:"small",className:"d-md-none d-inline",children:(0,p.jsx)(u.c,{})})})]}),null===a&&(0,p.jsx)("h6",{className:"blue-text text-center",children:"Fetching data..."}),Array.isArray(a)&&(0,p.jsx)(c.c,{dataArray:a,columns:x,ExpandableComp:a=>{let{row:t}=a;return(0,p.jsx)(h,{row:t,DB:null===e||void 0===e?void 0:e.Company_id,Fromdate:null===y||void 0===y?void 0:y.Fromdate,Todate:null===y||void 0===y?void 0:y.Todate})},enableFilters:!0})]})]})})}}}]);
//# sourceMappingURL=9708.3cd553e7.chunk.js.map
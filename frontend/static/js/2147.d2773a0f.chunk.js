"use strict";(self.webpackChunkerp=self.webpackChunkerp||[]).push([[2147],{42147:(e,t,a)=>{a.r(t),a.d(t,{default:()=>T});var d=a(30800),o=a(69060),n=a(89e3),c=a(13724),r=a(51560),l=a(1908),s=a(39308),i=a(86e3),m=a(27664),u=a(82496);const h=(0,m.c)((0,u.jsx)("path",{d:"M23 8c0 1.1-.9 2-2 2-.18 0-.35-.02-.51-.07l-3.56 3.55c.05.16.07.34.07.52 0 1.1-.9 2-2 2s-2-.9-2-2c0-.18.02-.36.07-.52l-2.55-2.55c-.16.05-.34.07-.52.07s-.36-.02-.52-.07l-4.55 4.56c.05.16.07.33.07.51 0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2c.18 0 .35.02.51.07l4.56-4.55C8.02 9.36 8 9.18 8 9c0-1.1.9-2 2-2s2 .9 2 2c0 .18-.02.36-.07.52l2.55 2.55c.16-.05.34-.07.52-.07s.36.02.52.07l3.55-3.56C19.02 8.35 19 8.18 19 8c0-1.1.9-2 2-2s2 .9 2 2"}),"Timeline"),g={Fromdate:(0,s.Q7)(),Todate:(0,s.Q7)()},T=e=>{let{loadingOn:t,loadingOff:a,AddRights:m,EditRights:T,DeleteRights:p}=e;const[A,F]=(0,o.useState)({Fromdate:(0,s.Q7)(),Todate:(0,s.Q7)(),DebitAccount:{value:"",label:"ALL"},CreditAccount:{value:"",label:"ALL"},refresh:!1}),[b,v]=(0,o.useState)(!1),[f,x]=(0,o.useState)([]),y=(0,r.i6)(),_=(0,r.IT)(),C=_.state,j=new URLSearchParams((0,r.IT)().search);(0,o.useEffect)((()=>{const e={Fromdate:j.get("Fromdate")&&(0,s.e8)(j.get("Fromdate"))?j.get("Fromdate"):g.Fromdate,Todate:j.get("Todate")&&(0,s.e8)(j.get("Todate"))?j.get("Todate"):g.Todate};F((t=>(0,d.c)((0,d.c)({},t),{},{Fromdate:e.Fromdate,Todate:e.Todate})))}),[_.search]),(0,o.useEffect)((()=>{const e=null!==C&&void 0!==C&&C.Fromdate&&(0,s.e8)(null===C||void 0===C?void 0:C.Fromdate)?(0,s.Q7)(null===C||void 0===C?void 0:C.Fromdate):null,t=null!==C&&void 0!==C&&C.Todate&&(0,s.e8)(null===C||void 0===C?void 0:C.Todate)?(0,s.Q7)(null===C||void 0===C?void 0:C.Todate):null;e&&t&&(Q({Fromdate:e,Todate:t}),F((e=>(0,d.c)((0,d.c)({},e),{},{Fromdate:(0,s.Q7)(C.Fromdate),Todate:C.Todate}))),v((e=>!e)))}),[C]),(0,o.useEffect)((()=>{const e=A.Fromdate,d=A.Todate;(0,l.q)({address:"payment/paymentMaster?Fromdate=".concat(e,"&Todate=").concat(d),loadingOff:a,loadingOn:t}).then((e=>{e.success&&x(e.data)})).catch((e=>console.error(e)))}),[b]);const Q=e=>{const t=new URLSearchParams(e);y("?".concat(t.toString()),{replace:!0})},S=(0,o.useMemo)((()=>f.reduce(((e,t)=>(0,s.Q5)(e,null===t||void 0===t?void 0:t.debit_amount)),0)),[f]);return(0,u.jsx)(u.Fragment,{children:(0,u.jsx)(c.cp,{title:"Payments",headerFontSizePx:12,bodyFontSizePx:12,ButtonArea:(0,u.jsxs)(u.Fragment,{children:[m&&(0,u.jsx)(n.c,{onClick:()=>y("create"),variant:"outlined",children:"Add"}),m&&(0,u.jsx)(n.c,{onClick:()=>y("addReference"),variant:"outlined",className:"me-2",children:"Add Reference"}),(0,s.gH)(S)>0&&(0,u.jsxs)("h6",{className:"m-0 text-end text-muted px-3",children:["Total: ",(0,s.SA)(S)]})]}),dataArray:f,columns:[(0,c.A5)("payment_date","date","Date"),(0,c.A5)("payment_invoice_no","string","Payment ID"),(0,c.A5)("debit_amount","number","Amount"),(0,c.A5)("debit_ledger_name","string","Debit-Acc"),(0,c.A5)("credit_ledger_name","string","Credit-Acc"),(0,c.A5)("Voucher_Type","string","Voucher"),(0,c.A5)("pay_bill_type","string","Type"),{isVisible:1,ColumnHeader:"Action",isCustomCell:!0,Cell:e=>{let{row:t}=e;return(0,u.jsx)(c.Om,{buttonsData:[{name:"Edit",icon:(0,u.jsx)(i.c,{}),onclick:()=>y("create",{state:t}),disabled:!T},{name:"Add Reference",icon:(0,u.jsx)(h,{}),onclick:()=>y("addReference",{state:t}),disabled:!T||(0,s.Qr)(t.pay_bill_type,2)||(0,s.Qr)(t.pay_bill_type,4)}]})}}],EnableSerialNumber:!0})})}},86e3:(e,t,a)=>{a.d(t,{c:()=>n});var d=a(27664),o=a(82496);const n=(0,d.c)((0,o.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"}),"Edit")}}]);
//# sourceMappingURL=2147.d2773a0f.chunk.js.map
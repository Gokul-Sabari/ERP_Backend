"use strict";(self.webpackChunkerp=self.webpackChunkerp||[]).push([[2140],{62344:(e,r,a)=>{a.d(r,{o$:()=>o,o5:()=>n,cF:()=>l,iI:()=>s});var t=a(30800);const d=a.p+"static/media/smt.aa4d4f940bbebff07a57.png",s={table:{style:{width:"auto",backgroundColor:"transparent"}},rows:{style:{backgroundColor:"transparent"}},headCells:{style:{backgroundColor:"#6b9080f8",color:"white",fontSize:"14px"}}},l={control:(e,r)=>(0,t.c)((0,t.c)({},e),{},{height:"45px",background:"rgba(255, 255, 255, 0.322)"}),menu:(e,r)=>(0,t.c)((0,t.c)({},e),{},{zIndex:9999}),menuPortal:e=>(0,t.c)((0,t.c)({},e),{},{zIndex:9999}),groupHeading:e=>(0,t.c)((0,t.c)({},e),{},{backgroundColor:"#f5f5f5",color:"#333",fontWeight:"bold",fontSize:"14px",padding:"8px 12px",borderBottom:"1px solid #ddd",textTransform:"uppercase"}),option:(e,r)=>(0,t.c)((0,t.c)({},e),{},{backgroundColor:r.isSelected?"#2684FF":r.isFocused?"#E2ECF9":"white",color:r.isSelected?"white":"#333",padding:"10px 12px"})},o=[{id:1,headname:"Menu ID",variant:"head",align:"left",width:100},{id:2,headname:"MenuName"},{id:3,headname:"Read Rights"},{id:4,headname:"Add Rights"},{id:5,headname:"Edit Rights"},{id:6,headname:"Delete Rights"},{id:7,headname:"Print Rights"},{id:8,headname:"Action"}],n=[{dataBase:1,name:"SHANKAR TRADERS",business:"Wholesale Merchant in Dhall",address:"32, Chitrakara Street, Madurai - 01 <br /> Bill of Supply -Disclaimer Affidavlt Field Extemped",logo:d,gstin:"33AADFS6973R1ZD",phone:"984-313-1353, 984-335-5166",fssai:"12418012000818",bankAccount:"0021 5032 0885 122",ifsc:"TMBL0000002"},{dataBase:2,name:"SMT AGRO PRODUCTS",business:"",address:"H.O: 153, Chitrakara Street, 2nd Floor, Madurai -01 <br /> G.O: 746 Puliyur, Sayanapuram, Svga <br /> Bill of Supply -Disclaimer Affidavlt Field Extemped",logo:d,gstin:"33ACMFS3420Q1ZQ",phone:"0452-4371625",fssai:"12418012000818",bankAccount:"0025 3031 0875 947",ifsc:"TMBL0000002"},{dataBase:3,name:"BHAVANI TRADERS",business:"",address:"H.O: 152-A, Chitrakara Street, Madurai -01 <br /> G.O: 30/1-Rajman Nagar, Chintamani Main Road, Mdu-01 <br /> Tax Invoice",logo:d,gstin:"33AAEFB6728J1ZG",phone:"958-559-7641, 958-559-7614",fssai:"12418012000670",bankAccount:"0021 5005 0800 309",ifsc:"TMBL0000002"}]},89804:(e,r,a)=>{a.r(r),a.d(r,{default:()=>j});var t=a(30800),d=a(69060),s=a(13724),l=a(1908),o=a(39308),n=a(89e3),i=a(5548),c=a(82656),h=a(26773),u=a(4488),m=a(90048),p=a(51560),g=a(61988),v=a(57704),x=a(56672),S=a(56480),O=a(76456),D=a(40656),E=a(62344),f=a(82496);const b={Fromdate:(0,o.Q7)(),Todate:(0,o.Q7)(),OrderStatus:"ITEMS PENDING",vendorId:"",vendor:""},j=e=>{let{loadingOn:r,loadingOff:a,AddRights:j,EditRights:R,DeleteRights:y}=e;const[A,I]=(0,d.useState)([]),[T,C]=(0,d.useState)({OrderDetails:{},OrderItemsArray:[],DeliveryArray:[],TranspoterArray:[],StaffArray:[],display:!1}),[F,M]=(0,d.useState)([]),[N,k]=(0,d.useState)([]),P=(0,p.i6)(),w=(0,p.IT)(),B=w.state,L=new URLSearchParams((0,p.IT)().search),[H,Q]=(0,d.useState)((0,t.c)((0,t.c)({},b),{},{FilterDialog:!1,deleteOrderDialog:!1,deleteOrderId:"",refresh:!1,view:"PURCHASE ORDERS"}));(0,d.useEffect)((()=>{(0,l.q)({address:"masters/retailers/dropDown"}).then((e=>{e.success&&M(e.data)})).catch((e=>console.error(e))),(0,l.q)({address:"masters/products"}).then((e=>{e.success?k(e.data):k([])})).catch((e=>console.error(e)))}),[]),(0,d.useEffect)((()=>{r&&r(),(0,l.q)({address:"dataEntry/purchaseOrderEntry?Fromdate=".concat(H.Fromdate,"&Todate=").concat(H.Todate)}).then((e=>{e.success&&I(e.data)})).catch((e=>console.error(e))).finally((()=>{a&&a()}))}),[H.refresh]),(0,d.useEffect)((()=>{const e={Fromdate:L.get("Fromdate")&&(0,o.e8)(L.get("Fromdate"))?L.get("Fromdate"):b.Fromdate,Todate:L.get("Todate")&&(0,o.e8)(L.get("Todate"))?L.get("Todate"):b.Todate,OrderStatus:L.get("OrderStatus")||b.OrderStatus,vendorId:L.get("vendorId")||b.vendorId,vendor:L.get("vendor")||b.vendor};Q((r=>(0,t.c)((0,t.c)({},r),e)))}),[w.search]),(0,d.useEffect)((()=>{const e=null!==B&&void 0!==B&&B.Fromdate&&(0,o.e8)(null===B||void 0===B?void 0:B.Fromdate)?(0,o.Q7)(null===B||void 0===B?void 0:B.Fromdate):null,r=null!==B&&void 0!==B&&B.Todate&&(0,o.e8)(null===B||void 0===B?void 0:B.Todate)?(0,o.Q7)(null===B||void 0===B?void 0:B.Todate):null;e&&r&&G({Fromdate:e,Todate:r})}),[B]);const G=e=>{const r=new URLSearchParams;Object.keys(e).forEach((a=>{e[a]&&r.set(a,e[a])})),P("?".concat(r.toString()),{replace:!0})},z=e=>{const r=(0,t.c)((0,t.c)({},H),e);Q(r),G(r)};return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(s.cp,{dataArray:(0,x.K)({data:(0,o.Q$)(H.vendorId)?A.filter((e=>(0,o.Qr)(e.PartyId,H.vendorId))):A,status:H.OrderStatus}),columns:(0,x.a)({OrderStatus:H.OrderStatus,dialogs:Q,setOrderPreview:C,navigation:e=>{let{page:r="",stateToTransfer:a={}}=e;P(r,{state:a})},products:N,EditRights:R,DeleteRights:y,AddRights:j}),tableMaxHeight:650,EnableSerialNumber:!0,title:"Purchase Order - "+H.OrderStatus,maxHeightOption:!0,ExcelPrintOption:!0,PDFPrintOption:!0,ButtonArea:(0,f.jsxs)(f.Fragment,{children:[j&&(0,f.jsx)(n.c,{variant:"outlined",onClick:()=>P("create"),children:"Add"}),(0,f.jsx)(i.c,{size:"small",className:"me-2",onClick:()=>Q((e=>(0,t.c)((0,t.c)({},e),{},{FilterDialog:!0}))),children:(0,f.jsx)(g.c,{})})]})}),T.display&&(0,f.jsx)(O.c,{OrderDetails:T.OrderDetails,OrderItemsArray:T.OrderItemsArray,DeliveryArray:T.DeliveryArray,TranspoterArray:T.TranspoterArray,StaffArray:T.StaffArray,display:T.display,onCloseDialog:()=>{C({OrderDetails:{},OrderItemsArray:[],DeliveryArray:[],TranspoterArray:[],display:!1})}}),(0,f.jsxs)(c.c,{open:H.FilterDialog,onClose:()=>Q((e=>(0,t.c)((0,t.c)({},e),{},{FilterDialog:!1}))),maxWidth:"sm",fullWidth:!0,children:[(0,f.jsx)(h.c,{children:"Filters"}),(0,f.jsx)(u.c,{children:(0,f.jsx)("table",{className:"table m-0 border-0",children:(0,f.jsxs)("tbody",{children:[(0,f.jsxs)("tr",{children:[(0,f.jsx)("td",{className:"border-0 vctr",children:"Vendor"}),(0,f.jsx)("td",{className:"border-0 vctr",children:(0,f.jsx)(D.cp,{value:{value:H.vendorId,label:H.vendor},onChange:e=>z({vendorId:e.value,vendor:e.label}),options:[{value:"",label:"Search",isDisabled:!0},...F.map((e=>({value:null===e||void 0===e?void 0:e.Retailer_Id,label:null===e||void 0===e?void 0:e.Retailer_Name})))],styles:E.cF,isSearchable:!0,placeholder:"Select Vendor",maxMenuHeight:300})})]}),(0,f.jsxs)("tr",{children:[(0,f.jsx)("td",{className:"border-0 vctr",children:"Fromdate"}),(0,f.jsx)("td",{className:"border-0 vctr",children:(0,f.jsx)("input",{type:"date",onChange:e=>z({Fromdate:e.target.value}),value:H.Fromdate,className:"cus-inpt p-2"})})]}),(0,f.jsxs)("tr",{children:[(0,f.jsx)("td",{className:"border-0 vctr",children:"Todate"}),(0,f.jsx)("td",{className:"border-0 vctr",children:(0,f.jsx)("input",{type:"date",onChange:e=>z({Todate:e.target.value}),value:H.Todate,className:"cus-inpt p-2"})})]}),(0,f.jsxs)("tr",{children:[(0,f.jsx)("td",{className:"border-0 vctr",children:"Order Status"}),(0,f.jsx)("td",{className:"border-0 vctr",children:(0,f.jsxs)("select",{className:"cus-inpt p-2",value:H.OrderStatus,onChange:e=>z({OrderStatus:e.target.value}),children:[(0,f.jsxs)("optgroup",{label:"ITEM BASED",children:[(0,f.jsx)("option",{value:"ITEMS",children:"ITEMS"}),(0,f.jsx)("option",{value:"ITEMS PENDING",children:"ITEMS - PENDING"}),(0,f.jsx)("option",{value:"ITEMS ARRIVED",children:"ITEMS - ARRIVED"})]}),(0,f.jsxs)("optgroup",{label:"ORDER BASED",children:[(0,f.jsx)("option",{value:"ORDERS",children:"ORDERS"}),(0,f.jsx)("option",{value:"COMPLETED ORDERS",children:"COMPLETED ORDERS"}),(0,f.jsx)("option",{value:"IN-COMPLETED ORDERS",children:"IN-COMPLETED ORDERS"})]})]})})]})]})})}),(0,f.jsxs)(m.c,{children:[(0,f.jsx)(n.c,{onClick:()=>Q((e=>(0,t.c)((0,t.c)({},e),{},{FilterDialog:!1}))),variant:"outlined",children:"Close"}),(0,f.jsx)(n.c,{onClick:()=>Q((e=>(0,t.c)((0,t.c)({},e),{},{refresh:!e.refresh}))),variant:"outlined",startIcon:(0,f.jsx)(v.c,{}),children:"Search"})]})]}),(0,f.jsxs)(c.c,{open:H.deleteOrderDialog,onClose:()=>Q((e=>(0,t.c)((0,t.c)({},e),{},{deleteOrderDialog:!1,deleteOrderId:""}))),maxWidth:"sm",children:[(0,f.jsx)(h.c,{children:"Confirmation"}),(0,f.jsx)(u.c,{children:(0,f.jsx)("h6",{children:"Do you want to delete the order permanently?"})}),(0,f.jsxs)(m.c,{children:[(0,f.jsx)(n.c,{onClick:()=>Q((e=>(0,t.c)((0,t.c)({},e),{},{deleteOrderDialog:!1,deleteOrderId:""}))),children:"Cancel"}),(0,f.jsx)(n.c,{color:"error",variant:"outlined",onClick:()=>{return e=H.deleteOrderId,void((0,o.Q$)(e)&&(0,l.q)({address:"dataEntry/purchaseOrderEntry",method:"DELETE",bodyData:{OrderId:e}}).then((e=>{e.success?(Q((e=>(0,t.c)((0,t.c)({},e),{},{deleteOrderDialog:!1,deleteOrderId:"",refresh:!e.refresh}))),S.m4.success(e.message)):(Q((e=>(0,t.c)((0,t.c)({},e),{},{deleteOrderDialog:!1,deleteOrderId:""}))),S.m4.error(e.message))})).catch((e=>console.error(e))));var e},children:"Delete"})]})]})]})}},57704:(e,r,a)=>{a.d(r,{c:()=>s});var t=a(27664),d=a(82496);const s=(0,t.c)((0,d.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"}),"Search")}}]);
//# sourceMappingURL=2140.f37ba67a.chunk.js.map
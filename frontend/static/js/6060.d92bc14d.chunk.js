"use strict";(self.webpackChunkerp=self.webpackChunkerp||[]).push([[6060,3692],{64568:(e,l,a)=>{a.d(l,{c:()=>t});var s=a(82496);const t=()=>(0,s.jsx)("span",{style:{color:"red",fontWeight:"bold",fontSize:"1em"},children:" *"})},62344:(e,l,a)=>{a.d(l,{o$:()=>d,o5:()=>i,cF:()=>n,iI:()=>r});var s=a(30800);const t=a.p+"static/media/smt.aa4d4f940bbebff07a57.png",r={table:{style:{width:"auto",backgroundColor:"transparent"}},rows:{style:{backgroundColor:"transparent"}},headCells:{style:{backgroundColor:"#6b9080f8",color:"white",fontSize:"14px"}}},n={control:(e,l)=>(0,s.c)((0,s.c)({},e),{},{height:"45px",background:"rgba(255, 255, 255, 0.322)"}),menu:(e,l)=>(0,s.c)((0,s.c)({},e),{},{zIndex:9999}),menuPortal:e=>(0,s.c)((0,s.c)({},e),{},{zIndex:9999})},d=[{id:1,headname:"Menu ID",variant:"head",align:"left",width:100},{id:2,headname:"MenuName"},{id:3,headname:"Read Rights"},{id:4,headname:"Add Rights"},{id:5,headname:"Edit Rights"},{id:6,headname:"Delete Rights"},{id:7,headname:"Print Rights"},{id:8,headname:"Action"}],i=[{dataBase:1,name:"SHANKAR TRADERS",business:"Wholesale Merchant in Dhall",address:"32, Chitrakara Street, Madurai - 01 <br /> Bill of Supply -Disclaimer Affidavlt Field Extemped",logo:t,gstin:"33AADFS6973R1ZD",phone:"984-313-1353, 984-335-5166",fssai:"12418012000818",bankAccount:"0021 5032 0885 122",ifsc:"TMBL0000002"},{dataBase:2,name:"SMT AGRO PRODUCTS",business:"",address:"H.O: 153, Chitrakara Street, 2nd Floor, Madurai -01 <br /> G.O: 746 Puliyur, Sayanapuram, Svga <br /> Bill of Supply -Disclaimer Affidavlt Field Extemped",logo:t,gstin:"33ACMFS3420Q1ZQ",phone:"0452-4371625",fssai:"12418012000818",bankAccount:"0025 3031 0875 947",ifsc:"TMBL0000002"},{dataBase:3,name:"BHAVANI TRADERS",business:"",address:"H.O: 152-A, Chitrakara Street, Madurai -01 <br /> G.O: 30/1-Rajman Nagar, Chintamani Main Road, Mdu-01 <br /> Tax Invoice",logo:t,gstin:"33AAEFB6728J1ZG",phone:"958-559-7641, 958-559-7614",fssai:"12418012000670",bankAccount:"0021 5005 0800 309",ifsc:"TMBL0000002"}]},80556:(e,l,a)=>{a.r(l),a.d(l,{default:()=>Q});var s=a(30800),t=a(43692),r=a(84436),n=a(89e3),d=a(5548),i=a(82656),c=a(26773),o=a(4488),h=a(90048),u=a(69060),m=a(40656),v=a(62344),x=a(64568),j=a(1908),p=a(39308),N=a(45180),g=a(96064),y=a(86e3),b=a(49608),f=a(56084),C=a(36992),I=a(14499),D=a(57704),S=a(51560),_=a(56480),O=a(82496);const T=JSON.parse(localStorage.getItem("user")),P={Sno:"",Id:"",BranchId:1,PoYear:"",PO_ID:"",LoadingDate:"",TradeConfirmDate:"",OwnerName:"",OwnerId:"",BrokerName:"",BrokerId:"",PartyId:"select",PartyName:"",PartyAddress:"",PaymentCondition:"",Remarks:"",OrderStatus:"New Order",CreatedBy:null===T||void 0===T?void 0:T.UserId},L={Id:"",Sno:"",OrderId:"",ItemId:"",ItemName:"",Weight:"",Units:"",Rate:"",DeliveryLocation:"",Discount:"",QualityCondition:""},w={indexValue:null,Id:"",Sno:"",OrderId:"",Trip_Id:"",Trip_Item_SNo:"",LocationId:"",Location:"",TransporterIndex:"",ArrivalDate:"",ItemId:"",ItemName:"",Concern:"",BillNo:"",BillDate:"",BilledRate:0,Quantity:"",Weight:"",Units:"",BatchLocation:"",PendingQuantity:"",CreatedBy:null===T||void 0===T?void 0:T.UserId},E={indexValue:null,Id:"",OrderId:"",Loading_Load:"",Loading_Empty:"",Unloading_Load:"",Unloading_Empty:"",EX_SH:"",DriverName:"",VehicleNo:"",PhoneNumber:"",CreatedBy:null===T||void 0===T?void 0:T.UserId},k={Id:"",OrderId:"",EmployeeId:"",CostType:""},Q=e=>{var l;let{loadingOn:a,loadingOff:T}=e;const Q=JSON.parse(localStorage.getItem("user")),A=(0,S.i6)(),B=(0,S.IT)().state,R="border fa-14 vctr",M="cus-inpt p-2",[W,V]=(0,u.useState)([]),[F,U]=(0,u.useState)([]),[z,H]=(0,u.useState)([]),[q,G]=(0,u.useState)([]),[$,Y]=(0,u.useState)([]),[X,J]=(0,u.useState)([]),[Z,K]=(0,u.useState)([]),[ee,le]=(0,u.useState)([]),[ae,se]=(0,u.useState)([]),[te,re]=(0,u.useState)([]),[ne,de]=(0,u.useState)({FromGodown:"",FromGodownName:"Select From Location",ToGodown:"",ToGodownName:"Select To Location",Fromdate:(0,p.Q7)(),Todate:(0,p.Q7)(),search:!1,tripSheetDialog:!1}),[ie,ce]=(0,u.useState)(P),[oe,he]=(0,u.useState)(L),[ue,me]=(0,u.useState)(w),[ve,xe]=(0,u.useState)(E),je=!(null===ie||void 0===ie||!ie.Id),[pe,Ne]=(0,u.useState)({itemsDialog:!1,deliveryDialog:!1,transporterDialog:!1}),[ge,ye]=(0,u.useState)({PurchaseOrderOnly:!0,PurchaseOderWithDelivery:!1,DeliveryEntry:!1});(0,u.useEffect)((()=>{(0,j.q)({address:"masters/products?Company_Id=".concat(null===Q||void 0===Q?void 0:Q.Company_id)}).then((e=>{e.success?V(e.data):V([])})).catch((e=>console.error(e))),(0,j.q)({address:"dataEntry/costCenter"}).then((e=>{e.success&&U(e.data)})).catch((e=>console.error(e))),(0,j.q)({address:"dataEntry/costCenter/category"}).then((e=>{e.success&&H(e.data)})).catch((e=>console.log(e))),(0,j.q)({address:"dataEntry/godownLocationMaster"}).then((e=>{e.success&&G(e.data)})).catch((e=>console.error(e))),(0,j.q)({address:"masters/retailers"}).then((e=>{e.success&&Y(e.data)})).catch((e=>console.error(e)))}),[]),(0,u.useEffect)((()=>{var e,l,a,t,r,n,d,i,c,o,h,u,m,v,x,j,N,g;if(!(0,p.CY)(B)||!(0,p.CY)(B.OrderDetails))return;const y=null!==(e=B.OrderDetails)&&void 0!==e&&e.LoadingDate?(0,p.Q7)(null===(l=B.OrderDetails)||void 0===l?void 0:l.LoadingDate):"",b=null!==(a=B.OrderDetails)&&void 0!==a&&a.TradeConfirmDate?(0,p.Q7)(null===(t=B.OrderDetails)||void 0===t?void 0:t.TradeConfirmDate):"",f=null===B||void 0===B?void 0:B.editPage;ce((0,s.c)((0,s.c)({},B.OrderDetails),{},{PartyId:null!==(r=null===B||void 0===B||null===(n=B.OrderDetails)||void 0===n?void 0:n.PartyId)&&void 0!==r?r:"",OwnerId:null!==(d=null===B||void 0===B||null===(i=B.OrderDetails)||void 0===i?void 0:i.OwnerId)&&void 0!==d?d:"",BrokerId:null!==(c=null===B||void 0===B||null===(o=B.OrderDetails)||void 0===o?void 0:o.BrokerId)&&void 0!==c?c:"",OrderStatus:null!==(h=null===(u=B.OrderDetails)||void 0===u?void 0:u.OrderStatus)&&void 0!==h?h:"New Order",LoadingDate:y,TradeConfirmDate:b,CreatedBy:null===Q||void 0===Q?void 0:Q.UserId})),J(null!==(m=null===B||void 0===B?void 0:B.OrderItemsArray)&&void 0!==m?m:[]),K(null!==(v=null===B||void 0===B||null===(x=B.DeliveryArray)||void 0===x?void 0:x.map(((e,l)=>(0,s.c)((0,s.c)({},e),{},{indexValue:null===(null===e||void 0===e?void 0:e.indexValue)?l:null===e||void 0===e?void 0:e.indexValue}))))&&void 0!==v?v:[]),le(null!==(j=null===B||void 0===B||null===(N=B.TranspoterArray)||void 0===N?void 0:N.map(((e,l)=>(0,s.c)((0,s.c)({},e),{},{indexValue:null===(null===e||void 0===e?void 0:e.indexValue)?l:null===e||void 0===e?void 0:e.indexValue}))))&&void 0!==j?j:[]),se(null!==(g=null===B||void 0===B?void 0:B.StaffArray)&&void 0!==g?g:[]);const C=Object.keys(ge).findIndex((e=>e===f));ye(-1!==C?e=>Object.fromEntries(Object.entries(e).map((e=>{let[l,a]=e;return[l,l===f]}))):{PurchaseOrderOnly:!1,PurchaseOderWithDelivery:!0,DeliveryEntry:!1})}),[B]);const be=e=>{const{id:l}=e.target;ye({PurchaseOrderOnly:"PurchaseOrderOnly"===l,PurchaseOderWithDelivery:"PurchaseOderWithDelivery"===l,DeliveryEntry:"DeliveryEntry"===l})},fe=()=>{Ne((e=>(0,s.c)((0,s.c)({},e),{},{itemsDialog:!1,deliveryDialog:!1,transporterDialog:!1}))),he(L),me(w),xe(E)},Ce=function(e){let l=arguments.length>1&&void 0!==arguments[1]&&arguments[1];K((a=>{const s=a.filter((l=>!((0,p.Qr)(l.Trip_Id,e.Trip_Id)&&(0,p.Qr)(l.Trip_Item_SNo,e.S_No))));if(l)return s;{var t;const l=te.flatMap((e=>e.Products_List)).filter((l=>(0,p.Qr)(l.Trip_Id,e.Trip_Id)&&(0,p.Qr)(l.S_No,e.S_No))),a=te.find((l=>(0,p.Qr)(l.Trip_Id,e.Trip_Id))),r=(null===a||void 0===a||null===(t=a.Employees_Involved)||void 0===t?void 0:t.filter((e=>!ae.some((l=>(0,p.Qr)(l.EmployeeId,e.Involved_Emp_Id))))))||[];r.length>0&&se((e=>[...e,...r.map((e=>Object.fromEntries(Object.entries(k).map((l=>{let[a,s]=l;switch(a){case"EmployeeId":return[a,null===e||void 0===e?void 0:e.Involved_Emp_Id];case"CostType":return[a,null===e||void 0===e?void 0:e.Cost_Center_Type_Id];default:return[a,s]}})))))]));const n=l.map(((e,l)=>{var s;const t=null===a||void 0===a?void 0:a.Trip_Date,r=t?(0,p.Q7)(t):(0,p.Q7)(),n=function(){var e;let l=arguments.length>1?arguments[1]:void 0;return null!==(e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).find((e=>(0,p.Qr)(e.Product_Id,l))))&&void 0!==e?e:{}}(W,null===e||void 0===e?void 0:e.Product_Id),d=parseFloat(null!==(s=null===n||void 0===n?void 0:n.PackGet)&&void 0!==s?s:0),i=(0,p.yy)(e.QTY,d);return Object.fromEntries(Object.entries(w).map((a=>{var s,t,n,d,c,o;let[h,u]=a;switch(h){case"indexValue":return[h,(0,p.Q5)(Z.length,l)];case"Sno":return[h,(0,p.Q5)(Z.length,(0,p.Q5)(l,1))];case"LocationId":return[h,null!==(s=Number(null===e||void 0===e?void 0:e.To_Location))&&void 0!==s?s:u];case"Location":return[h,null!==(t=null===e||void 0===e?void 0:e.ToLocation)&&void 0!==t?t:u];case"Trip_Id":return[h,null!==(n=null===e||void 0===e?void 0:e.Trip_Id)&&void 0!==n?n:null];case"Trip_Item_SNo":return[h,null!==(d=null===e||void 0===e?void 0:e.S_No)&&void 0!==d?d:null];case"TransporterIndex":return[h,0];case"ArrivalDate":case"BillDate":return[h,r];case"ItemId":return[h,Number(null===e||void 0===e?void 0:e.Product_Id)];case"ItemName":return[h,null===e||void 0===e?void 0:e.Product_Name];case"BilledRate":return[h,Number(e.Gst_Rate)];case"Quantity":return[h,i];case"Weight":return[h,null!==(c=Number(e.QTY))&&void 0!==c?c:0];case"BatchLocation":return[h,null!==(o=null===e||void 0===e?void 0:e.Batch_No)&&void 0!==o?o:""];default:return[h,u]}})))}));return s.concat(n)}}))};return(0,O.jsx)(t.c,{children:(0,O.jsxs)(r.c,{children:[(0,O.jsxs)("div",{className:"d-flex flex-wrap",children:[(0,O.jsx)("h5",{className:"flex-grow-1",children:"Purchase Order"}),(0,O.jsx)(n.c,{variant:"outlined",onClick:()=>A(window.history.length>1?-1:"/dataEntry/purchaseOrder"),children:"back"})]}),!(0,p.Q$)(ie.Id)&&(0,O.jsx)("form",{onSubmit:e=>e.preventDefault(),children:(0,O.jsxs)("div",{className:"d-flex justify-content-center flex-wrap p-2 mb-2",children:[(0,O.jsxs)("div",{className:"form-check",children:[(0,O.jsx)("input",{className:"form-check-input shadow-none",style:{padding:"0.7em"},type:"radio",name:"radioType",id:"PurchaseOrderOnly",checked:ge.PurchaseOrderOnly,disabled:!!ie.Id,onChange:be}),(0,O.jsx)("label",{className:"form-check-label p-1 me-3",htmlFor:"PurchaseOrderOnly",children:"Purchase Order"})]}),(0,O.jsxs)("div",{className:"form-check",children:[(0,O.jsx)("input",{className:"form-check-input shadow-none",style:{padding:"0.7em"},type:"radio",name:"radioType",id:"PurchaseOderWithDelivery",checked:ge.PurchaseOderWithDelivery,disabled:!!ie.Id,onChange:be}),(0,O.jsx)("label",{className:"form-check-label p-1 me-3",htmlFor:"PurchaseOderWithDelivery",children:"Order With Arrival"})]})]})}),ge.PurchaseOderWithDelivery&&ie.Id&&(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)("label",{children:"Order ID"}),":",(0,O.jsx)("input",{value:ie.Id,disabled:!0,className:M+" w-auto ms-2 mb-2",onChange:e=>ce((l=>(0,s.c)((0,s.c)({},l),{},{Id:e.target.value}))),placeholder:"Ex: 233"})]}),(0,O.jsxs)("div",{className:"row",children:[(0,O.jsx)("div",{className:"col-xxl-3 col-lg-4 col-md-5 p-2",children:(0,O.jsxs)("div",{className:"border p-2",style:{minHeight:"30vh",height:"100%"},children:[(0,O.jsxs)("div",{className:"d-flex align-items-center flex-wrap mb-2 border-bottom pb-2",children:[(0,O.jsx)("h6",{className:"flex-grow-1 m-0",children:"Staff Involved"}),(0,O.jsx)(n.c,{variant:"outlined",color:"primary",type:"button",onClick:()=>se([...ae,(0,s.c)({},k)]),children:"Add"})]}),(0,O.jsxs)("table",{className:"table table-bordered",children:[(0,O.jsx)("thead",{children:(0,O.jsxs)("tr",{children:[(0,O.jsx)("th",{className:"fa-13",children:"Sno"}),(0,O.jsx)("th",{className:"fa-13",children:"Staff Name"}),(0,O.jsx)("th",{className:"fa-13",children:"Category"}),(0,O.jsx)("th",{className:"fa-13",children:"#"})]})}),(0,O.jsx)("tbody",{children:ae.map(((e,l)=>{var a;return(0,O.jsxs)("tr",{children:[(0,O.jsx)("td",{className:"fa-13 vctr text-center",children:l+1}),(0,O.jsx)("td",{className:"fa-13 w-100 p-0",children:(0,O.jsx)(m.cp,{value:{value:null===e||void 0===e?void 0:e.EmployeeId,label:null===(a=F.find((l=>(0,p.Qr)(null===l||void 0===l?void 0:l.Cost_Center_Id,null===e||void 0===e?void 0:e.EmployeeId))))||void 0===a?void 0:a.Cost_Center_Name},onChange:e=>se((a=>a.map(((a,t)=>{if((0,p.Qr)(t,l)){const l=F.find((l=>(0,p.Qr)(l.Cost_Center_Id,e.value)));return(0,s.c)((0,s.c)({},a),{},{CostType:(0,p.Q$)(a.CostType)?Number(a.CostType):(0,p.Q$)(l.User_Type)?Number(l.User_Type):0,EmployeeId:Number(e.value)})}return a})))),options:[...F.filter((e=>-1===ae.findIndex((l=>(0,p.Qr)(l.EmployeeId,e.Cost_Center_Id)))))].map((e=>({value:e.Cost_Center_Id,label:e.Cost_Center_Name}))),styles:v.cF,isSearchable:!0,placeholder:"Select Staff"})}),(0,O.jsx)("td",{className:"fa-13 vctr p-0",style:{maxWidth:"130px",minWidth:"100px"},children:(0,O.jsxs)("select",{value:null===e||void 0===e?void 0:e.CostType,onChange:e=>se((a=>a.map(((a,t)=>(0,p.Qr)(t,l)?(0,s.c)((0,s.c)({},a),{},{CostType:e.target.value}):a)))),className:"cus-inpt p-2 border-0",children:[(0,O.jsx)("option",{value:"",children:"Select"}),z.map(((e,l)=>(0,O.jsx)("option",{value:null===e||void 0===e?void 0:e.Cost_Category_Id,children:null===e||void 0===e?void 0:e.Cost_Category},l)))]})}),(0,O.jsx)("td",{className:"fa-13 vctr p-0",children:(0,O.jsx)(d.c,{onClick:()=>{se((e=>e.filter(((e,a)=>l!==a))))},size:"small",children:(0,O.jsx)(N.c,{color:"error"})})})]},l)}))})]})]})}),(0,O.jsx)("div",{className:"col-xxl-9 col-lg-8 col-md-7 py-2 px-0",children:(0,O.jsxs)("div",{className:"border p-2",style:{minHeight:"30vh",height:"100%"},children:[(0,O.jsxs)("div",{className:"row py-2 px-3",children:[(0,O.jsxs)("div",{className:"col-md-4 col-sm-6 p-2",children:[(0,O.jsx)("label",{children:"Loading Date"}),(0,O.jsx)("input",{type:"date",className:M+" bg-light",value:ie.LoadingDate,onChange:e=>ce((l=>(0,s.c)((0,s.c)({},l),{},{LoadingDate:e.target.value})))})]}),(0,O.jsxs)("div",{className:"col-md-4 col-sm-6 p-2",children:[(0,O.jsx)("label",{children:"Trade Date"}),(0,O.jsx)("input",{type:"date",className:M+" bg-light",value:ie.TradeConfirmDate,onChange:e=>ce((l=>(0,s.c)((0,s.c)({},l),{},{TradeConfirmDate:e.target.value})))})]}),(0,O.jsxs)("div",{className:"col-md-4 col-sm-6 p-2",children:[(0,O.jsx)("label",{children:"Order Status"}),(0,O.jsxs)("select",{className:M+" bg-light",value:null===ie||void 0===ie?void 0:ie.OrderStatus,onChange:e=>ce((l=>(0,s.c)((0,s.c)({},l),{},{OrderStatus:e.target.value}))),children:[(0,O.jsx)("option",{value:"New Order",children:"New Order"}),(0,O.jsx)("option",{value:"On Process",children:"On Process"}),(0,O.jsx)("option",{value:"Completed",children:"Completed"}),(0,O.jsx)("option",{value:"Canceled",children:"Canceled"})]})]})]}),(0,O.jsxs)("div",{className:"d-flex flex-wrap bg-white",children:[(0,O.jsxs)("span",{className:"flex-grow-1 p-2",children:[(0,O.jsx)("h6",{children:"Party Name"}),(0,O.jsx)(m.cp,{value:{value:ie.PartyId,label:ie.PartyName},onChange:e=>{var l;const a=null!==(l=$.find((l=>(0,p.Qr)(l.Retailer_Id,e.value))))&&void 0!==l?l:{};ce((e=>(0,s.c)((0,s.c)({},e),{},{PartyId:null===a||void 0===a?void 0:a.Retailer_Id,PartyName:null===a||void 0===a?void 0:a.Retailer_Name,PartyAddress:null===a||void 0===a?void 0:a.Reatailer_Address})))},options:[{value:"",label:"select",isDisabled:!0},...$.map((e=>({value:null===e||void 0===e?void 0:e.Retailer_Id,label:null===e||void 0===e?void 0:e.Retailer_Name})))],styles:v.cF,isSearchable:!0,placeholder:"Select Party",maxMenuHeight:200}),(0,O.jsx)("br",{}),(0,O.jsx)("h6",{children:"Party Address"}),(0,O.jsx)("textarea",{className:M+" mb-2",rows:3,value:ie.PartyAddress,onChange:e=>ce((l=>(0,s.c)((0,s.c)({},l),{},{PartyAddress:e.target.value})))})]}),(0,O.jsxs)("span",{className:"p-2",children:[(0,O.jsx)("h6",{children:"Payment Condition"}),(0,O.jsx)("textarea",{className:M,rows:2,value:ie.PaymentCondition,onChange:e=>ce((l=>(0,s.c)((0,s.c)({},l),{},{PaymentCondition:e.target.value})))}),(0,O.jsx)("h6",{children:"Remarks"}),(0,O.jsx)("textarea",{className:M,rows:2,value:ie.Remarks,onChange:e=>ce((l=>(0,s.c)((0,s.c)({},l),{},{Remarks:e.target.value})))})]})]})]})})]}),(0,O.jsxs)("div",{className:"table-responsive",children:[(ge.PurchaseOrderOnly||ge.PurchaseOderWithDelivery)&&!ge.DeliveryEntry&&(0,O.jsxs)("table",{className:"table m-0",children:[(0,O.jsxs)("thead",{children:[(0,O.jsxs)("tr",{children:[(0,O.jsx)("td",{className:R+" text-primary fw-bold bg-light",colSpan:6,children:"ORDER ITEMS"}),(0,O.jsx)("td",{className:R+" text-end bg-light p-0",children:(0,O.jsx)(n.c,{startIcon:(0,O.jsx)(g.c,{}),varient:"outlined",onClick:()=>Ne((e=>(0,s.c)((0,s.c)({},e),{},{itemsDialog:!0}))),children:"Add Product"})})]}),(0,O.jsxs)("tr",{children:[(0,O.jsx)("th",{className:R+" text-center",children:"SNo"}),(0,O.jsx)("th",{className:R+" text-center",children:"Item Name"}),(0,O.jsx)("th",{className:R+" text-center",children:"Tonnage"}),(0,O.jsxs)("th",{className:R+" text-center",children:["Rate ",(0,O.jsx)("br",{}),"Deliver/Spot"]}),(0,O.jsx)("th",{className:R+" text-center",children:"Discount"}),(0,O.jsx)("th",{className:R+" text-center",children:"Quality Condition"}),(0,O.jsx)("th",{className:R+" text-center",children:"Action"})]})]}),(0,O.jsxs)("tbody",{children:[X.map(((e,l)=>(0,O.jsxs)("tr",{children:[(0,O.jsx)("td",{className:R,children:l+1}),(0,O.jsx)("td",{className:R,children:null===e||void 0===e?void 0:e.ItemName}),(0,O.jsx)("td",{className:R,children:(null===e||void 0===e?void 0:e.Weight)+" "+(null===e||void 0===e?void 0:e.Units)}),(0,O.jsx)("td",{className:R,children:null===e||void 0===e?void 0:e.Rate}),(0,O.jsx)("td",{className:R,children:null===e||void 0===e?void 0:e.Discount}),(0,O.jsx)("td",{className:R,children:null===e||void 0===e?void 0:e.QualityCondition}),(0,O.jsxs)("td",{className:R+" p-0 text-center",children:[(0,O.jsx)(d.c,{onClick:()=>{he((l=>Object.fromEntries(Object.entries(l).map((l=>{var a;let[s,t]=l;return[s,null!==(a=e[s])&&void 0!==a?a:t]}))))),Ne((e=>(0,s.c)((0,s.c)({},e),{},{itemsDialog:!0})))},size:"small",children:(0,O.jsx)(y.c,{})}),(0,O.jsx)(d.c,{onClick:()=>{J((e=>e.filter(((e,a)=>a!==l))))},size:"small",children:(0,O.jsx)(N.c,{color:"error"})})]})]},l))),(0,O.jsx)("tr",{children:(0,O.jsx)("td",{className:"p-3",colSpan:7})})]})]}),(ge.PurchaseOderWithDelivery||ge.DeliveryEntry)&&(0,O.jsxs)(O.Fragment,{children:[(0,O.jsxs)("table",{className:"table m-0",children:[(0,O.jsxs)("thead",{children:[(0,O.jsxs)("tr",{children:[(0,O.jsx)("td",{className:R+" text-primary fw-bold bg-light",colSpan:9,children:"OTHER DETAILS"}),(0,O.jsx)("td",{className:R+" text-end bg-light p-0",children:(0,O.jsx)(n.c,{startIcon:(0,O.jsx)(g.c,{}),varient:"outlined",onClick:()=>Ne((e=>(0,s.c)((0,s.c)({},e),{},{transporterDialog:!0}))),children:"Add Transporter"})})]}),(0,O.jsxs)("tr",{children:[(0,O.jsx)("th",{className:R+" text-center",rowSpan:2,children:"SNo"}),(0,O.jsx)("th",{className:R+" text-center",colSpan:2,children:"Loading Wt"}),(0,O.jsx)("th",{className:R+" text-center",colSpan:2,children:"Unloading Wt"}),(0,O.jsx)("th",{className:R+" text-center",children:"Weight"}),(0,O.jsx)("th",{className:R+" text-center",colSpan:3,children:"Transport Details"}),(0,O.jsx)("th",{className:R+" text-center",rowSpan:2,children:"Action"})]}),(0,O.jsxs)("tr",{children:[(0,O.jsx)("th",{className:R+" text-center",children:"Load"}),(0,O.jsx)("th",{className:R+" text-center",children:"Empty"}),(0,O.jsx)("th",{className:R+" text-center",children:"Load"}),(0,O.jsx)("th",{className:R+" text-center",children:"Empty"}),(0,O.jsx)("th",{className:R+" text-center",children:"EX / SH"}),(0,O.jsx)("th",{className:R+" text-center",children:"Name"}),(0,O.jsx)("th",{className:R+" text-center",children:"Vehicle No"}),(0,O.jsx)("th",{className:R+" text-center",children:"Phone Number"})]})]}),(0,O.jsxs)("tbody",{children:[ee.map(((e,l)=>(0,O.jsxs)("tr",{children:[(0,O.jsx)("td",{className:R,children:l+1}),(0,O.jsx)("td",{className:R,children:null===e||void 0===e?void 0:e.Loading_Load}),(0,O.jsx)("td",{className:R,children:null===e||void 0===e?void 0:e.Loading_Empty}),(0,O.jsx)("td",{className:R,children:null===e||void 0===e?void 0:e.Unloading_Load}),(0,O.jsx)("td",{className:R,children:null===e||void 0===e?void 0:e.Unloading_Empty}),(0,O.jsx)("td",{className:R,children:null===e||void 0===e?void 0:e.EX_SH}),(0,O.jsx)("td",{className:R,children:null===e||void 0===e?void 0:e.DriverName}),(0,O.jsx)("td",{className:R,children:null===e||void 0===e?void 0:e.VehicleNo}),(0,O.jsx)("td",{className:R,children:null===e||void 0===e?void 0:e.PhoneNumber}),(0,O.jsxs)("td",{className:R+" p-0 text-center",children:[(0,O.jsx)(d.c,{onClick:()=>{xe((l=>Object.fromEntries(Object.entries(l).map((l=>{var a;let[s,t]=l;return[s,null!==(a=e[s])&&void 0!==a?a:t]}))))),Ne((e=>(0,s.c)((0,s.c)({},e),{},{transporterDialog:!0})))},size:"small",children:(0,O.jsx)(y.c,{})}),(0,O.jsx)(d.c,{onClick:()=>{le((e=>e.filter(((e,a)=>a!==l))))},size:"small",disabled:Z.some((e=>(0,p.Qr)(e.TransporterIndex,l))),color:"error",children:(0,O.jsx)(N.c,{})})]})]},l))),(0,O.jsx)("tr",{children:(0,O.jsx)("td",{className:R+" p-3",colSpan:10})})]})]}),(0,O.jsxs)("table",{className:"table m-0",children:[(0,O.jsxs)("thead",{children:[(0,O.jsxs)("tr",{children:[(0,O.jsx)("td",{className:R+" text-primary fw-bold bg-light",colSpan:10,children:"DELIVERY DETAILS"}),(0,O.jsxs)("td",{className:R+" text-end bg-light p-0",colSpan:2,children:[(0,O.jsx)(n.c,{startIcon:(0,O.jsx)(g.c,{}),varient:"outlined",disabled:0===ee.length,onClick:()=>Ne((e=>(0,s.c)((0,s.c)({},e),{},{deliveryDialog:!0}))),children:"Add Delivery"}),(0,O.jsx)(n.c,{startIcon:(0,O.jsx)(b.c,{}),varient:"outlined",disabled:0===ee.length,onClick:()=>de((e=>(0,s.c)((0,s.c)({},e),{},{tripSheetDialog:!0}))),children:"From Trips"})]})]}),(0,O.jsxs)("tr",{children:[(0,O.jsx)("th",{className:R+" text-center",children:"SNo"}),(0,O.jsx)("th",{className:R+" text-center",children:"Location"}),(0,O.jsx)("th",{className:R+" text-center",children:"Arrival Date"}),(0,O.jsx)("th",{className:R+" text-center",children:"Item Name"}),(0,O.jsx)("th",{className:R+" text-center",children:"Concern"}),(0,O.jsx)("th",{className:R+" text-center",children:"Bill No"}),(0,O.jsx)("th",{className:R+" text-center",children:"Bill Date"}),(0,O.jsx)("th",{className:R+" text-center",children:"Quantity"}),(0,O.jsx)("th",{className:R+" text-center",children:"Billed Rate"}),(0,O.jsx)("th",{className:R+" text-center",children:"Tonnage / KGs"}),(0,O.jsx)("th",{className:R+" text-center",children:"Batch / Location"}),(0,O.jsx)("th",{className:R+" text-center",children:"Action"})]})]}),(0,O.jsxs)("tbody",{children:[Z.map(((e,l)=>{var a;return(0,O.jsxs)("tr",{children:[(0,O.jsx)("td",{className:R,children:l+1}),(0,O.jsx)("td",{className:R,children:null===e||void 0===e?void 0:e.Location}),(0,O.jsx)("td",{className:R,children:null===e||void 0===e?void 0:e.ArrivalDate}),(0,O.jsx)("td",{className:R,children:null===e||void 0===e?void 0:e.ItemName}),(0,O.jsx)("td",{className:R,children:null===e||void 0===e?void 0:e.Concern}),(0,O.jsx)("td",{className:R,children:null===e||void 0===e?void 0:e.BillNo}),(0,O.jsx)("td",{className:R,children:null===e||void 0===e?void 0:e.BillDate}),(0,O.jsx)("td",{className:R,children:null===e||void 0===e?void 0:e.Quantity}),(0,O.jsx)("td",{className:R,children:null!==(a=null===e||void 0===e?void 0:e.BilledRate)&&void 0!==a?a:0}),(0,O.jsx)("td",{className:R,children:(null===e||void 0===e?void 0:e.Weight)+" "+(null===e||void 0===e?void 0:e.Units)}),(0,O.jsx)("td",{className:R,children:null===e||void 0===e?void 0:e.BatchLocation}),(0,O.jsxs)("td",{className:R+" p-0 text-center",children:[(0,O.jsx)(d.c,{onClick:()=>{me((l=>Object.fromEntries(Object.entries(l).map((l=>{var a;let[s,t]=l;return[s,null!==(a=e[s])&&void 0!==a?a:t]}))))),Ne((e=>(0,s.c)((0,s.c)({},e),{},{deliveryDialog:!0})))},size:"small",children:(0,O.jsx)(y.c,{})}),(0,O.jsx)(d.c,{onClick:()=>{K((e=>e.filter(((e,a)=>a!==l))))},size:"small",children:(0,O.jsx)(N.c,{color:"error"})})]})]},l)})),(0,O.jsx)("tr",{children:(0,O.jsx)("td",{className:"p-3",colSpan:12})})]})]})]}),(0,O.jsxs)("div",{className:"d-flex justify-content-end flex-wrap my-3",children:[(0,O.jsx)(n.c,{onClick:()=>{ce(P),J([]),K([]),le([])},className:"me-2",variant:"outlined",startIcon:(0,O.jsx)(f.c,{}),children:"Clear Values"}),(0,O.jsx)(n.c,{onClick:()=>{a&&a(),(0,j.q)({address:"dataEntry/purchaseOrderEntry",method:je?"PUT":"POST",bodyData:{OrderDetails:ie,OrderItems:ge.DeliveryEntry?[]:X,DelivdryDetails:ge.PurchaseOrderOnly?[]:Z,TranspoterDetails:ge.PurchaseOrderOnly?[]:ee,StaffDetails:ae}}).then((e=>{null!==e&&void 0!==e&&e.success?(ce(P),J([]),K([]),le([]),se([]),_.m4.success(null===e||void 0===e?void 0:e.message)):_.m4.error(null===e||void 0===e?void 0:e.message)})).catch((e=>console.error(e))).finally((()=>{T&&T()}))},variant:"contained",startIcon:(0,O.jsx)(C.c,{}),disabled:(()=>{const e=(0,p.Qr)(X.length,0),l=!ie.PartyName,a=(0,p.Qr)(Z.length,0)&&(0,p.Qr)(ee.length,0),s=!ie.Id;return ge.PurchaseOrderOnly&&(e||l)||ge.PurchaseOderWithDelivery&&(a&&e||l)||ge.DeliveryEntry&&(s||a)})(),children:"Save"})]})]}),(0,O.jsxs)(i.c,{open:pe.itemsDialog,onClose:fe,maxWidth:"sm",fullWidth:!0,children:[(0,O.jsx)(c.c,{children:"Add Items"}),(0,O.jsxs)("form",{onSubmit:e=>{e.preventDefault(),(e=>{const l=X.findIndex((l=>(0,p.Qr)(l.ItemId,e.ItemId)));if(-1!==l){const a=[...X];Object.entries(e).forEach((e=>{let[s,t]=e;a[l][s]=t})),J(a)}else J((l=>[...l,(0,s.c)({},e)]));he(L),Ne((e=>(0,s.c)((0,s.c)({},e),{},{itemsDialog:!1})))})(oe)},children:[(0,O.jsx)(o.c,{children:(0,O.jsx)("table",{className:"table m-0",children:(0,O.jsxs)("tbody",{children:[(0,O.jsxs)("tr",{children:[(0,O.jsxs)("td",{className:R,children:["Item Name ",(0,O.jsx)(x.c,{})]}),(0,O.jsx)("td",{className:R,children:(0,O.jsx)(m.cp,{value:{value:oe.ItemId,label:oe.ItemName},onChange:e=>he((l=>(0,s.c)((0,s.c)({},l),{},{ItemId:e.value,ItemName:e.label}))),options:[{value:"",label:"select",isDisabled:!0},...W.map((e=>({value:null===e||void 0===e?void 0:e.Product_Id,label:null===e||void 0===e?void 0:e.Product_Name,isDisabled:-1!==X.findIndex((l=>(0,p.Qr)(null===l||void 0===l?void 0:l.ItemId,null===e||void 0===e?void 0:e.Product_Id)))})))],styles:v.cF,required:!0,isSearchable:!0,placeholder:"Select Product",maxMenuHeight:200})})]}),(0,O.jsxs)("tr",{children:[(0,O.jsx)("td",{className:R,children:"Brand"}),(0,O.jsx)("td",{className:R,children:(0,O.jsx)("input",{className:"cus-inpt p-2",value:(0,p.Q$)(oe.ItemId)?null!==(l=W.find((e=>(0,p.Qr)(e.Product_Id,oe.ItemId))).Brand_Name)&&void 0!==l?l:"Not found":"",placeholder:"Product Brand",disabled:!0})})]}),(0,O.jsxs)("tr",{children:[(0,O.jsxs)("td",{className:R,children:["Weight ",(0,O.jsx)(x.c,{})]}),(0,O.jsxs)("td",{className:R,children:[(0,O.jsx)("input",{type:"number",className:"cus-inpt p-2 w-auto",value:oe.Weight,required:!0,placeholder:"Weight",onChange:e=>he((l=>(0,s.c)((0,s.c)({},l),{},{Weight:e.target.value})))}),(0,O.jsx)("input",{className:"cus-inpt p-2 w-auto",value:oe.Units,placeholder:"Units ex: kg, l, ml...",onChange:e=>he((l=>(0,s.c)((0,s.c)({},l),{},{Units:e.target.value})))})]})]}),(0,O.jsxs)("tr",{children:[(0,O.jsxs)("td",{className:R,children:["Rate ",(0,O.jsx)(x.c,{})]}),(0,O.jsx)("td",{className:R,children:(0,O.jsx)("input",{type:"number",required:!0,className:"cus-inpt p-2",value:oe.Rate,placeholder:"Rate",onChange:e=>he((l=>(0,s.c)((0,s.c)({},l),{},{Rate:e.target.value})))})})]}),(0,O.jsxs)("tr",{children:[(0,O.jsxs)("td",{className:R,children:["Delivery Location ",(0,O.jsx)(x.c,{})]}),(0,O.jsx)("td",{className:R,children:(0,O.jsx)("input",{className:"cus-inpt p-2",required:!0,value:oe.DeliveryLocation,placeholder:"Location ",onChange:e=>he((l=>(0,s.c)((0,s.c)({},l),{},{DeliveryLocation:e.target.value})))})})]}),(0,O.jsxs)("tr",{children:[(0,O.jsx)("td",{className:R,children:"Discount"}),(0,O.jsx)("td",{className:R,children:(0,O.jsx)("input",{type:"number",className:"cus-inpt p-2",placeholder:"Discount Amount",value:oe.Discount,onChange:e=>he((l=>(0,s.c)((0,s.c)({},l),{},{Discount:e.target.value})))})})]}),(0,O.jsxs)("tr",{children:[(0,O.jsx)("td",{className:R,children:"Quality Condition"}),(0,O.jsx)("td",{className:R,children:(0,O.jsx)("input",{className:"cus-inpt p-2",value:oe.QualityCondition,placeholder:"Pencentage or condition",onChange:e=>he((l=>(0,s.c)((0,s.c)({},l),{},{QualityCondition:e.target.value})))})})]})]})})}),(0,O.jsxs)(h.c,{className:"d-flex justify-content-between",children:[(0,O.jsx)("span",{children:(0,O.jsx)(n.c,{variant:"outlined",type:"button",onClick:()=>he(L),children:"clear"})}),(0,O.jsxs)("span",{children:[(0,O.jsx)(n.c,{variant:"outlined",className:"me-2",type:"button",onClick:fe,children:"cancel"}),(0,O.jsx)(n.c,{variant:"contained",type:"submit",children:"submit"})]})]})]})]}),(0,O.jsxs)(i.c,{open:pe.deliveryDialog,onClose:fe,maxWidth:"md",fullWidth:!0,children:[(0,O.jsx)(c.c,{children:"Add Delivery Details"}),(0,O.jsxs)("form",{onSubmit:e=>{var l;e.preventDefault(),l=ue,(0,p.Q$)(l.indexValue)?K((e=>{const a=[...e];return a[l.indexValue]=(0,s.c)({},l),a})):K((e=>[...e,(0,s.c)((0,s.c)({},l),{},{indexValue:e.length})])),me(w),Ne((e=>(0,s.c)((0,s.c)({},e),{},{deliveryDialog:!1})))},children:[(0,O.jsx)(o.c,{children:(0,O.jsx)("table",{className:"table mb-2",children:(0,O.jsxs)("tbody",{children:[(0,O.jsxs)("tr",{children:[(0,O.jsx)("td",{className:R,children:"Location"}),(0,O.jsx)("td",{className:R,children:(0,O.jsxs)("select",{value:null===ue||void 0===ue?void 0:ue.LocationId,className:"cus-inpt p-2",onChange:e=>{const l=e.target.selectedIndex,a=e.target.options[l].text;me((l=>(0,s.c)((0,s.c)({},l),{},{LocationId:e.target.value,Location:a})))},children:[(0,O.jsx)("option",{value:"",children:"select"}),q.map(((e,l)=>(0,O.jsx)("option",{value:null===e||void 0===e?void 0:e.Godown_Id,children:null===e||void 0===e?void 0:e.Godown_Name},l)))]})}),(0,O.jsx)("td",{className:"border-0"}),(0,O.jsxs)("td",{className:R,children:["Arrival Date ",(0,O.jsx)(x.c,{})]}),(0,O.jsx)("td",{className:R,children:(0,O.jsx)("input",{type:"date",value:null===ue||void 0===ue?void 0:ue.ArrivalDate,required:!0,className:"cus-inpt p-2",onChange:e=>me((l=>(0,s.c)((0,s.c)({},l),{},{ArrivalDate:e.target.value})))})})]}),(0,O.jsxs)("tr",{children:[(0,O.jsxs)("td",{className:R,children:["Item Name ",(0,O.jsx)(x.c,{})]}),(0,O.jsx)("td",{className:R,children:(0,O.jsx)(m.cp,{value:{value:null===ue||void 0===ue?void 0:ue.ItemId,label:null===ue||void 0===ue?void 0:ue.ItemName},onChange:e=>me((l=>(0,s.c)((0,s.c)({},l),{},{ItemId:e.value,ItemName:e.label}))),options:[{value:"",label:"select",isDisabled:!0},...X.map((e=>({value:null===e||void 0===e?void 0:e.ItemId,label:null===e||void 0===e?void 0:e.ItemName})))],styles:v.cF,required:!0,isSearchable:!0,placeholder:"Select Product",maxMenuHeight:200})}),(0,O.jsx)("td",{className:"border-0"}),(0,O.jsx)("td",{className:R,children:"Concern"}),(0,O.jsx)("td",{className:R,children:(0,O.jsx)("input",{className:"cus-inpt p-2",value:null===ue||void 0===ue?void 0:ue.Concern,onChange:e=>me((l=>(0,s.c)((0,s.c)({},l),{},{Concern:e.target.value}))),placeholder:""})})]}),(0,O.jsxs)("tr",{children:[(0,O.jsx)("td",{className:R,children:"Bill No"}),(0,O.jsx)("td",{className:R,children:(0,O.jsx)("input",{className:"cus-inpt p-2",value:null===ue||void 0===ue?void 0:ue.BillNo,onChange:e=>me((l=>(0,s.c)((0,s.c)({},l),{},{BillNo:e.target.value}))),placeholder:""})}),(0,O.jsx)("td",{className:"border-0"}),(0,O.jsx)("td",{className:R,children:"Bill Date"}),(0,O.jsx)("td",{className:R,children:(0,O.jsx)("input",{type:"date",value:null===ue||void 0===ue?void 0:ue.BillDate,className:"cus-inpt p-2",onChange:e=>me((l=>(0,s.c)((0,s.c)({},l),{},{BillDate:e.target.value})))})})]}),(0,O.jsxs)("tr",{children:[(0,O.jsx)("td",{className:R,children:"Quantity"}),(0,O.jsx)("td",{className:R,children:(0,O.jsx)("input",{type:"number",value:null===ue||void 0===ue?void 0:ue.Quantity,className:"cus-inpt p-2",onChange:e=>me((l=>(0,s.c)((0,s.c)({},l),{},{Quantity:e.target.value})))})}),(0,O.jsx)("td",{className:"border-0"}),(0,O.jsxs)("td",{className:R,children:["Tonnage ",(0,O.jsx)(x.c,{})]}),(0,O.jsxs)("td",{className:R,children:[(0,O.jsx)("input",{type:"number",value:null===ue||void 0===ue?void 0:ue.Weight,className:"cus-inpt p-2 w-50",placeholder:"Weight",required:!0,onChange:e=>me((l=>(0,s.c)((0,s.c)({},l),{},{Weight:e.target.value})))}),(0,O.jsx)("input",{value:null===ue||void 0===ue?void 0:ue.Units,className:"cus-inpt p-2 w-50",placeholder:"Units ex: kg, L, ml",onChange:e=>me((l=>(0,s.c)((0,s.c)({},l),{},{Units:e.target.value})))})]})]}),(0,O.jsxs)("tr",{children:[(0,O.jsx)("td",{className:R,children:"Billed Rate"}),(0,O.jsx)("td",{className:R,children:(0,O.jsx)("input",{type:"number",value:null===ue||void 0===ue?void 0:ue.BilledRate,className:"cus-inpt p-2",onChange:e=>me((l=>(0,s.c)((0,s.c)({},l),{},{BilledRate:e.target.value})))})}),(0,O.jsx)("td",{className:"border-0"}),(0,O.jsx)("td",{className:R,children:"Batch / Location "}),(0,O.jsxs)("td",{className:R,children:[(0,O.jsx)("input",{className:"cus-inpt p-2 w-auto",value:null===ue||void 0===ue?void 0:ue.BatchLocation,onChange:e=>me((l=>(0,s.c)((0,s.c)({},l),{},{BatchLocation:e.target.value}))),placeholder:"location or batch"}),(0,O.jsxs)("select",{value:null===ue||void 0===ue?void 0:ue.TransporterIndex,className:"cus-inpt w-auto",required:!0,onChange:e=>me((l=>(0,s.c)((0,s.c)({},l),{},{TransporterIndex:e.target.value}))),children:[(0,O.jsx)("option",{value:"",disabled:!0,children:"Select Trip"}),ee.map(((e,l)=>(0,O.jsxs)("option",{value:null===e||void 0===e?void 0:e.indexValue,children:["Trip - ",(0,p.Q5)(null===e||void 0===e?void 0:e.indexValue,1)]},l)))]})]})]})]})})}),(0,O.jsxs)(h.c,{className:"d-flex justify-content-between",children:[(0,O.jsx)("span",{children:(0,O.jsx)(n.c,{variant:"outlined",type:"button",onClick:()=>he(L),children:"clear"})}),(0,O.jsxs)("span",{children:[(0,O.jsx)(n.c,{variant:"outlined",className:"me-2",type:"button",onClick:fe,children:"cancel"}),(0,O.jsx)(n.c,{variant:"contained",type:"submit",children:"submit"})]})]})]})]}),(0,O.jsxs)(i.c,{open:pe.transporterDialog,onClose:fe,maxWidth:"sm",fullWidth:!0,children:[(0,O.jsx)(c.c,{children:"Add Transporter Details"}),(0,O.jsxs)("form",{onSubmit:e=>{var l;e.preventDefault(),l=ve,(0,p.Q$)(l.indexValue)?le((e=>{const a=[...e];return a[l.indexValue]=(0,s.c)({},l),a})):le((e=>[...e,(0,s.c)((0,s.c)({},l),{},{indexValue:e.length})])),xe(E),Ne((e=>(0,s.c)((0,s.c)({},e),{},{transporterDialog:!1})))},children:[(0,O.jsx)(o.c,{children:(0,O.jsx)("table",{className:"table m-0",children:(0,O.jsxs)("tbody",{children:[(0,O.jsx)("tr",{children:(0,O.jsx)("td",{className:R+" text-center bg-light",colSpan:4,children:"Loading Details"})}),(0,O.jsxs)("tr",{children:[(0,O.jsx)("td",{className:R,children:"Load"}),(0,O.jsx)("td",{className:R+" p-0",children:(0,O.jsx)("input",{type:"number",value:null===ve||void 0===ve?void 0:ve.Loading_Load,className:M+" border-0",onChange:e=>xe((l=>(0,s.c)((0,s.c)({},l),{},{Loading_Load:e.target.value})))})}),(0,O.jsx)("td",{className:R,children:"Empty"}),(0,O.jsx)("td",{className:R+" p-0",children:(0,O.jsx)("input",{type:"number",value:null===ve||void 0===ve?void 0:ve.Loading_Empty,className:M+" border-0",onChange:e=>xe((l=>(0,s.c)((0,s.c)({},l),{},{Loading_Empty:e.target.value})))})})]}),(0,O.jsx)("tr",{children:(0,O.jsx)("td",{className:R+" text-center bg-light",colSpan:4,children:"Unloading Details"})}),(0,O.jsxs)("tr",{children:[(0,O.jsx)("td",{className:R,children:"Load"}),(0,O.jsx)("td",{className:R+" p-0",children:(0,O.jsx)("input",{type:"number",value:null===ve||void 0===ve?void 0:ve.Unloading_Load,className:M+" border-0",onChange:e=>xe((l=>(0,s.c)((0,s.c)({},l),{},{Unloading_Load:e.target.value})))})}),(0,O.jsx)("td",{className:R,children:"Empty"}),(0,O.jsx)("td",{className:R+" p-0",children:(0,O.jsx)("input",{type:"number",value:null===ve||void 0===ve?void 0:ve.Unloading_Empty,className:M+" border-0",onChange:e=>xe((l=>(0,s.c)((0,s.c)({},l),{},{Unloading_Empty:e.target.value})))})})]}),(0,O.jsxs)("tr",{children:[(0,O.jsx)("td",{className:R,colSpan:2,children:"EX SH"}),(0,O.jsx)("td",{className:R+" p-0",colSpan:2,children:(0,O.jsx)("input",{value:null===ve||void 0===ve?void 0:ve.EX_SH,onChange:e=>xe((l=>(0,s.c)((0,s.c)({},l),{},{EX_SH:e.target.value}))),className:M+" border-0"})})]}),(0,O.jsxs)("tr",{children:[(0,O.jsx)("td",{className:R,colSpan:2,children:"Driver Name"}),(0,O.jsx)("td",{className:R+" p-0",colSpan:2,children:(0,O.jsx)("input",{value:null===ve||void 0===ve?void 0:ve.DriverName,onChange:e=>xe((l=>(0,s.c)((0,s.c)({},l),{},{DriverName:e.target.value}))),className:M+" border-0"})})]}),(0,O.jsxs)("tr",{children:[(0,O.jsx)("td",{className:R,colSpan:2,children:"Vehicle No"}),(0,O.jsx)("td",{className:R+" p-0",colSpan:2,children:(0,O.jsx)("input",{value:null===ve||void 0===ve?void 0:ve.VehicleNo,onChange:e=>xe((l=>(0,s.c)((0,s.c)({},l),{},{VehicleNo:e.target.value}))),className:M+" border-0"})})]}),(0,O.jsxs)("tr",{children:[(0,O.jsx)("td",{className:R,colSpan:2,children:"Phone Number"}),(0,O.jsx)("td",{className:R+" p-0",colSpan:2,children:(0,O.jsx)("input",{value:null===ve||void 0===ve?void 0:ve.PhoneNumber,onChange:e=>{const l=(0,p.Gk)(e);xe((e=>(0,s.c)((0,s.c)({},e),{},{PhoneNumber:l})))},className:M+" border-0",maxLength:10})})]})]})})}),(0,O.jsxs)(h.c,{className:"d-flex justify-content-between",children:[(0,O.jsx)("span",{children:(0,O.jsx)(n.c,{variant:"outlined",type:"button",onClick:()=>xe(E),children:"clear"})}),(0,O.jsxs)("span",{children:[(0,O.jsx)(n.c,{variant:"outlined",className:"me-2",type:"button",onClick:fe,children:"cancel"}),(0,O.jsx)(n.c,{variant:"contained",type:"submit",children:"submit"})]})]})]})]}),(0,O.jsxs)(i.c,{open:ne.tripSheetDialog,onClose:()=>de((e=>(0,s.c)((0,s.c)({},e),{},{tripSheetDialog:!1}))),fullScreen:!0,children:[(0,O.jsxs)(c.c,{className:"d-flex align-items-center",children:[(0,O.jsx)("span",{className:"flex-grow-1",children:"Import From Trip Sheet"}),(0,O.jsx)(d.c,{size:"small",color:"error",onClick:()=>de((e=>(0,s.c)((0,s.c)({},e),{},{tripSheetDialog:!1}))),children:(0,O.jsx)(I.c,{})})]}),(0,O.jsx)(o.c,{children:(0,O.jsxs)("form",{onSubmit:e=>{e.preventDefault(),a&&a(),(0,j.q)({address:"inventory/tripSheet?Fromdate=".concat(null===ne||void 0===ne?void 0:ne.Fromdate,"&Todate=").concat(null===ne||void 0===ne?void 0:ne.Todate)}).then((e=>{e.success&&re(e.data)})).catch((e=>console.error(e))).finally((()=>{T&&T()}))},children:[(0,O.jsxs)("div",{className:"row",children:[(0,O.jsx)("div",{className:"col-lg-3 col-md-4 col-sm-6 p-2",children:(0,O.jsx)("input",{type:"date",value:ne.Fromdate,className:"cus-inpt p-2",required:!0,max:ne.Todate,onChange:e=>de((l=>(0,s.c)((0,s.c)({},l),{},{Fromdate:e.target.value})))})}),(0,O.jsx)("div",{className:"col-lg-3 col-md-4 col-sm-6 p-2",children:(0,O.jsx)("input",{type:"date",value:ne.Todate,className:"cus-inpt p-2",min:ne.Fromdate,required:!0,onChange:e=>de((l=>(0,s.c)((0,s.c)({},l),{},{Todate:e.target.value})))})}),(0,O.jsx)("div",{className:"col-lg-3 col-md-4 col-sm-6 p-2",children:(0,O.jsx)(n.c,{variant:"outlined",type:"submit",startIcon:(0,O.jsx)(D.c,{}),children:"Search"})})]}),(0,O.jsx)("div",{className:"table-responsive",children:(0,O.jsxs)("table",{className:"table table-bordered",children:[(0,O.jsx)("thead",{children:(0,O.jsx)("tr",{children:["#","SNo","Date","Item","Rate","Quantity","From","To","Trip No","Challan No","Vehicle No","Branch"].map(((e,l)=>(0,O.jsx)("th",{className:"fa-13",children:e},l)))})}),(0,O.jsx)("tbody",{children:te.flatMap((e=>null===e||void 0===e?void 0:e.Products_List.map((l=>(0,s.c)((0,s.c)({},e),l))))).filter((e=>!(0,p.Q$)(e.arrivalOrderId)&&X.some((l=>(0,p.Qr)(l.ItemId,e.Product_Id))))).map(((e,l)=>(0,O.jsxs)("tr",{children:[(0,O.jsx)("td",{className:"fa-12",children:(()=>{const l=-1!==Z.findIndex((l=>(0,p.Qr)(null===l||void 0===l?void 0:l.Trip_Id,e.Trip_Id)&&(0,p.Qr)(null===l||void 0===l?void 0:l.Trip_Item_SNo,e.S_No)));return(0,O.jsx)("div",{children:(0,O.jsx)("input",{className:"form-check-input shadow-none pointer",style:{padding:"0.7em"},type:"checkbox",checked:l,onChange:()=>{l?Ce(e,!0):Ce(e)}})})})()}),(0,O.jsx)("td",{className:"fa-12",children:l+1}),(0,O.jsx)("td",{className:"fa-12",children:null!==e&&void 0!==e&&e.Trip_Date?(0,p.uy)(e.Trip_Date):""}),(0,O.jsx)("td",{className:"fa-12",children:null===e||void 0===e?void 0:e.Product_Name}),(0,O.jsx)("td",{className:"fa-12",children:null===e||void 0===e?void 0:e.Gst_Rate}),(0,O.jsx)("td",{className:"fa-12",children:null===e||void 0===e?void 0:e.QTY}),(0,O.jsx)("td",{className:"fa-12",children:null===e||void 0===e?void 0:e.FromLocation}),(0,O.jsx)("td",{className:"fa-12",children:null===e||void 0===e?void 0:e.ToLocation}),(0,O.jsx)("td",{className:"fa-12",children:null===e||void 0===e?void 0:e.Trip_No}),(0,O.jsx)("td",{className:"fa-12",children:null===e||void 0===e?void 0:e.Challan_No}),(0,O.jsx)("td",{className:"fa-12",children:null===e||void 0===e?void 0:e.Vehicle_No}),(0,O.jsx)("td",{className:"fa-12",children:null===e||void 0===e?void 0:e.Branch_Name})]},l)))})]})})]})}),(0,O.jsx)(h.c,{children:(0,O.jsx)(n.c,{size:"small",color:"error",onClick:()=>de((e=>(0,s.c)((0,s.c)({},e),{},{tripSheetDialog:!1}))),children:"close"})})]})]})})}},96064:(e,l,a)=>{a.d(l,{c:()=>r});var s=a(27664),t=a(82496);const r=(0,s.c)((0,t.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"}),"Add")},56084:(e,l,a)=>{a.d(l,{c:()=>r});var s=a(27664),t=a(82496);const r=(0,s.c)((0,t.jsx)("path",{d:"M5 13h14v-2H5zm-2 4h14v-2H3zM7 7v2h14V7z"}),"ClearAll")},14499:(e,l,a)=>{a.d(l,{c:()=>r});var s=a(27664),t=a(82496);const r=(0,s.c)((0,t.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close")},45180:(e,l,a)=>{a.d(l,{c:()=>r});var s=a(27664),t=a(82496);const r=(0,s.c)((0,t.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"}),"Delete")},49608:(e,l,a)=>{a.d(l,{c:()=>r});var s=a(27664),t=a(82496);const r=(0,s.c)((0,t.jsx)("path",{d:"M5 20h14v-2H5zM19 9h-4V3H9v6H5l7 7z"}),"Download")},86e3:(e,l,a)=>{a.d(l,{c:()=>r});var s=a(27664),t=a(82496);const r=(0,s.c)((0,t.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"}),"Edit")},36992:(e,l,a)=>{a.d(l,{c:()=>r});var s=a(27664),t=a(82496);const r=(0,s.c)((0,t.jsx)("path",{d:"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3m3-10H5V5h10z"}),"Save")},57704:(e,l,a)=>{a.d(l,{c:()=>r});var s=a(27664),t=a(82496);const r=(0,s.c)((0,t.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"}),"Search")},84436:(e,l,a)=>{a.d(l,{c:()=>j});var s=a(45072),t=a(95656),r=a(69060),n=a(79736),d=a(21412),i=a(12556),c=a(49836),o=a(10099),h=a(33448);function u(e){return(0,h.cp)("MuiCardContent",e)}(0,o.c)("MuiCardContent",["root"]);var m=a(82496);const v=["className","component"],x=(0,i.cp)("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(e,l)=>l.root})((()=>({padding:16,"&:last-child":{paddingBottom:24}}))),j=r.forwardRef((function(e,l){const a=(0,c.C)({props:e,name:"MuiCardContent"}),{className:r,component:i="div"}=a,o=(0,t.c)(a,v),h=(0,s.c)({},a,{component:i}),j=(e=>{const{classes:l}=e;return(0,d.c)({root:["root"]},u,l)})(h);return(0,m.jsx)(x,(0,s.c)({as:i,className:(0,n.c)(j.root,r),ownerState:h,ref:l},o))}))},43692:(e,l,a)=>{a.d(l,{c:()=>p});var s=a(45072),t=a(95656),r=a(69060),n=a(79736),d=a(21412),i=a(12556),c=a(49836),o=a(85624),h=a(10099),u=a(33448);function m(e){return(0,u.cp)("MuiCard",e)}(0,h.c)("MuiCard",["root"]);var v=a(82496);const x=["className","raised"],j=(0,i.cp)(o.c,{name:"MuiCard",slot:"Root",overridesResolver:(e,l)=>l.root})((()=>({overflow:"hidden"}))),p=r.forwardRef((function(e,l){const a=(0,c.C)({props:e,name:"MuiCard"}),{className:r,raised:i=!1}=a,o=(0,t.c)(a,x),h=(0,s.c)({},a,{raised:i}),u=(e=>{const{classes:l}=e;return(0,d.c)({root:["root"]},m,l)})(h);return(0,v.jsx)(j,(0,s.c)({className:(0,n.c)(u.root,r),elevation:i?8:void 0,ref:l,ownerState:h},o))}))}}]);
//# sourceMappingURL=6060.d92bc14d.chunk.js.map
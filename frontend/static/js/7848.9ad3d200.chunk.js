"use strict";(self.webpackChunkerp=self.webpackChunkerp||[]).push([[7848],{64568:(e,a,l)=>{l.d(a,{c:()=>o});var t=l(82496);const o=()=>(0,t.jsx)("span",{style:{color:"red",fontWeight:"bold",fontSize:"1em"},children:" *"})},62344:(e,a,l)=>{l.d(a,{o$:()=>n,o5:()=>d,cF:()=>s,iI:()=>r});var t=l(30800);const o=l.p+"static/media/smt.aa4d4f940bbebff07a57.png",r={table:{style:{width:"auto",backgroundColor:"transparent"}},rows:{style:{backgroundColor:"transparent"}},headCells:{style:{backgroundColor:"#6b9080f8",color:"white",fontSize:"14px"}}},s={control:(e,a)=>(0,t.c)((0,t.c)({},e),{},{height:"45px",background:"rgba(255, 255, 255, 0.322)"}),menu:(e,a)=>(0,t.c)((0,t.c)({},e),{},{zIndex:9999}),menuPortal:e=>(0,t.c)((0,t.c)({},e),{},{zIndex:9999})},n=[{id:1,headname:"Menu ID",variant:"head",align:"left",width:100},{id:2,headname:"MenuName"},{id:3,headname:"Read Rights"},{id:4,headname:"Add Rights"},{id:5,headname:"Edit Rights"},{id:6,headname:"Delete Rights"},{id:7,headname:"Print Rights"},{id:8,headname:"Action"}],d=[{dataBase:1,name:"SHANKAR TRADERS",business:"Wholesale Merchant in Dhall",address:"32, Chitrakara Street, Madurai - 01 <br /> Bill of Supply -Disclaimer Affidavlt Field Extemped",logo:o,gstin:"33AADFS6973R1ZD",phone:"984-313-1353, 984-335-5166",fssai:"12418012000818",bankAccount:"0021 5032 0885 122",ifsc:"TMBL0000002"},{dataBase:2,name:"SMT AGRO PRODUCTS",business:"",address:"H.O: 153, Chitrakara Street, 2nd Floor, Madurai -01 <br /> G.O: 746 Puliyur, Sayanapuram, Svga <br /> Bill of Supply -Disclaimer Affidavlt Field Extemped",logo:o,gstin:"33ACMFS3420Q1ZQ",phone:"0452-4371625",fssai:"12418012000818",bankAccount:"0025 3031 0875 947",ifsc:"TMBL0000002"},{dataBase:3,name:"BHAVANI TRADERS",business:"",address:"H.O: 152-A, Chitrakara Street, Madurai -01 <br /> G.O: 30/1-Rajman Nagar, Chintamani Main Road, Mdu-01 <br /> Tax Invoice",logo:o,gstin:"33AAEFB6728J1ZG",phone:"958-559-7641, 958-559-7614",fssai:"12418012000670",bankAccount:"0021 5005 0800 309",ifsc:"TMBL0000002"}]},128:(e,a,l)=>{l.d(a,{O:()=>o});var t=l(39308);const o=function(e,a){let l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"add";const o=(0,t.gH)(e),r=(0,t.gH)(a),s=r/2;let n,d,i,c;if("zerotax"===l)n=o,d=0,i=o,c=o;else if("add"===l)d=o*r/100,n=o,i=o+d,c=o;else{if("remove"!==l)throw new Error("Invalid type. Use 'add', 'remove', or 'zerotax'.");n=o/(1+r/100),d=o-n,i=o,c=n}const u=(d/2).toFixed(2),v=(d/2).toFixed(2),m=d.toFixed(2);return{base_amount:Number(n).toFixed(2),with_tax:Number(i).toFixed(2),without_tax:Number(c).toFixed(2),tax_per:Number(r),tax_amount:Number(d).toFixed(2),sgst_per:Number(s),sgst_amount:Number(u),cgst_per:Number(s),cgst_amount:Number(v),igst_per:Number(r),igst_amount:Number(m),type:l}}},2464:(e,a,l)=>{l.r(a),l.d(a,{default:()=>S});var t=l(30800),o=l(69060),r=l(1908),s=l(43692),n=l(89e3),d=l(84436),i=l(5548),c=l(82656),u=l(26773),v=l(4488),m=l(40656),h=l(62344),_=l(45180),p=l(96064),x=l(39308),I=l(13724),N=l(64568),j=l(56480),g=l(51560),b=l(128),f=l(82496);const y=function(){var e;let a=arguments.length>1?arguments[1]:void 0;return null!==(e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).find((e=>(0,x.Qr)(e.Product_Id,a))))&&void 0!==e?e:{}},S=e=>{var a,l,S;let{loadingOn:C,loadingOff:T}=e;const A=localStorage.getItem("user"),R=(0,x.sT)(A)?JSON.parse(A):{},Q=(0,g.IT)(),w=(0,g.i6)(),B=Q.state,P={PIN_Id:"",Po_Inv_No:"",Branch_Id:"",Voucher_Type:0,Ref_Po_Inv_No:"",Po_Inv_Date:(0,x.Q7)(),Po_Entry_Date:(0,x.Q7)(),Retailer_Id:"",Retailer_Name:"",GST_Inclusive:2,IS_IGST:0,Narration:"",isConverted:"",CSGT_Total:0,SGST_Total:0,IGST_Total:0,Round_off:0,Total_Before_Tax:0,Total_Tax:0,Total_Invoice_value:0,Cancel_status:0,Stock_Item_Ledger_Name:"",Created_by:R.UserId,Altered_by:R.UserId,Created_on:"",Alterd_on:"",Trans_Type:"",Alter_Id:"",Approved_By:"",Approve_Status:""},E={Trip_Id:"",Trip_Item_SNo:"",POI_St_Id:"",DeliveryId:"",OrderId:"",PIN_Id:"",Po_Inv_Date:"",S_No:"",Location_Id:"",Item_Id:"",Bill_Qty:0,Act_Qty:0,Item_Rate:0,Bill_Alt_Qty:0,Free_Qty:0,Unit_Id:"",Unit_Name:"",Batch_No:"",Taxable_Rate:0,Amount:0,Total_Qty:0,Taxble:0,HSN_Code:"",Taxable_Amount:0,Tax_Rate:0,Cgst:0,Cgst_Amo:0,Sgst:0,Sgst_Amo:0,Igst:0,Igst_Amo:0,Final_Amo:0,Created_on:""},k={Id:"",PIN_Id:"",Involved_Emp_Id:"",Involved_Emp_Name:"select",Cost_Center_Type_Id:""},[D,O]=(0,o.useState)([]),[G,F]=(0,o.useState)([]),[M,V]=(0,o.useState)([]),[q,L]=(0,o.useState)([]),[H,U]=(0,o.useState)([]),[z,W]=(0,o.useState)([]),[$,Y]=(0,o.useState)([]),[X,Z]=(0,o.useState)([]),[J,K]=(0,o.useState)([]),[ee,ae]=(0,o.useState)([]),[le,te]=(0,o.useState)(P),[oe,re]=(0,o.useState)([]),[se,ne]=(0,o.useState)([]),[de,ie]=(0,o.useState)(!1),ce="border fa-14 vctr",ue="cus-inpt p-2",ve=(0,x.Qr)(null===le||void 0===le?void 0:le.GST_Inclusive,1),me=(0,x.Qr)(null===le||void 0===le?void 0:le.GST_Inclusive,2),he=(0,x.Qr)(null===le||void 0===le?void 0:le.IS_IGST,1),_e=oe.reduce(((e,a)=>{const l=(0,x.kR)(null===a||void 0===a?void 0:a.Amount);if(me)return(0,x.Q5)(e,l);const t=y(q,a.Item_Id),o=(0,x.Qr)(he,1)?t.Igst_P:t.Gst_P;return ve?(0,x.Q5)(e,(0,b.O)(l,o,"remove").with_tax):(0,x.Q5)(e,(0,b.O)(l,o,"add").with_tax)}),0),pe=oe.reduce(((e,a)=>{const l=(0,x.kR)(null===a||void 0===a?void 0:a.Amount);if(me)return{TotalValue:(0,x.Q5)(e.TotalValue,l),TotalTax:0};const t=y(q,a.Item_Id),o=(0,x.Qr)(he,1)?t.Igst_P:t.Gst_P,r=(0,b.O)(l,o,ve?"remove":"add");return{TotalValue:(0,x.Q5)(e.TotalValue,r.without_tax),TotalTax:(0,x.Q5)(e.TotalTax,r.tax_amount)}}),{TotalValue:0,TotalTax:0});(0,o.useEffect)((()=>{(0,r.q)({address:"dataEntry/pendingPartyInvoice"}).then((e=>{if(e.success){var a;const l=null===e||void 0===e||null===(a=e.data)||void 0===a?void 0:a.sort(((e,a)=>String(null===e||void 0===e?void 0:e.Retailer_Name).localeCompare(null===a||void 0===a?void 0:a.Retailer_Name)));O(l)}})).catch((e=>console.error(e))),(0,r.q)({address:"masters/branch/dropDown"}).then((e=>{if(e.success){var a;const l=null===e||void 0===e||null===(a=e.data)||void 0===a?void 0:a.sort(((e,a)=>String(null===e||void 0===e?void 0:e.BranchName).localeCompare(null===a||void 0===a?void 0:a.BranchName)));F(l)}})).catch((e=>console.error(e))),(0,r.q)({address:"masters/uom"}).then((e=>{if(e.success){var a;const l=null===e||void 0===e||null===(a=e.data)||void 0===a?void 0:a.sort(((e,a)=>String(null===e||void 0===e?void 0:e.Units).localeCompare(null===a||void 0===a?void 0:a.Units)));V(l)}})).catch((e=>console.error(e))),(0,r.q)({address:"masters/products"}).then((e=>{if(e.success){var a;const l=null===e||void 0===e||null===(a=e.data)||void 0===a?void 0:a.sort(((e,a)=>String(null===e||void 0===e?void 0:e.Product_Name).localeCompare(null===a||void 0===a?void 0:a.Product_Name)));L(l)}})).catch((e=>console.error(e))),(0,r.q)({address:"dataEntry/godownLocationMaster"}).then((e=>{if(e.success){var a;const l=null===e||void 0===e||null===(a=e.data)||void 0===a?void 0:a.sort(((e,a)=>String(null===e||void 0===e?void 0:e.Godown_Name).localeCompare(null===a||void 0===a?void 0:a.Godown_Name)));Y(l)}})).catch((e=>console.error(e))),(0,r.q)({address:"purchase/voucherType"}).then((e=>{if(e.success){var a;const l=null===e||void 0===e||null===(a=e.data)||void 0===a?void 0:a.sort(((e,a)=>String(null===e||void 0===e?void 0:e.Voucher_Type).localeCompare(null===a||void 0===a?void 0:a.Voucher_Type)));U(l)}})).catch((e=>console.error(e))),(0,r.q)({address:"purchase/stockItemLedgerName"}).then((e=>{if(e.success){var a;const l=null===e||void 0===e||null===(a=e.data)||void 0===a?void 0:a.sort(((e,a)=>String(null===e||void 0===e?void 0:e.Stock_Item_Ledger_Name).localeCompare(null===a||void 0===a?void 0:a.Stock_Item_Ledger_Name)));W(l)}})).catch((e=>console.error(e))),(0,r.q)({address:"dataEntry/costCenter"}).then((e=>{if(e.success){var a;const l=null===e||void 0===e||null===(a=e.data)||void 0===a?void 0:a.sort(((e,a)=>String(null===e||void 0===e?void 0:e.Cost_Center_Name).localeCompare(null===a||void 0===a?void 0:a.Cost_Center_Name)));K(l)}})).catch((e=>console.error(e))),(0,r.q)({address:"dataEntry/costCenter/category"}).then((e=>{if(e.success){var a;const l=null===e||void 0===e||null===(a=e.data)||void 0===a?void 0:a.sort(((e,a)=>String(null===e||void 0===e?void 0:e.Cost_Category).localeCompare(null===a||void 0===a?void 0:a.Cost_Category)));ae(l)}})).catch((e=>console.error(e)))}),[]),(0,o.useEffect)((()=>{if((0,x.CY)(B)&&Array.isArray(null===B||void 0===B?void 0:B.orderInfo)&&Array.isArray(null===B||void 0===B?void 0:B.staffInfo)&&(0,x.CY)(null===B||void 0===B?void 0:B.invoiceInfo)){const{invoiceInfo:e,orderInfo:a,staffInfo:l}=B;xe(e.Retailer_Id),te(Object.fromEntries(Object.entries(P).map((a=>{var l;let[t,o]=a;return"Po_Inv_Date"===t||"Po_Entry_Date"===t?[t,e[t]?(0,x.Q7)(e[t]):o]:[t,null!==(l=e[t])&&void 0!==l?l:o]})))),re(a.map((e=>Object.fromEntries(Object.entries(E).map((a=>{var l;let[t,o]=a;return[t,null!==(l=e[t])&&void 0!==l?l:o]})))))),ne(l.map((e=>Object.fromEntries(Object.entries(k).map((a=>{var l;let[t,o]=a;return[t,null!==(l=e[t])&&void 0!==l?l:o]}))))))}}),[B]);const xe=e=>{(0,x.Q$)(e)&&(C&&C(),Z([]),(0,r.q)({address:"dataEntry/purchaseOrderEntry/delivery/partyBased?VendorId=".concat(e)}).then((e=>{e.success&&Z(e.data)})).catch((e=>console.error(e))).finally((()=>{T&&T()})))},Ie=(e,a)=>{re((l=>{const t=l.filter((a=>!((0,x.Qr)(null===a||void 0===a?void 0:a.OrderId,null===e||void 0===e?void 0:e.OrderId)&&(0,x.Qr)(null===a||void 0===a?void 0:a.Item_Id,null===e||void 0===e?void 0:e.ItemId)&&(0,x.Qr)(null===a||void 0===a?void 0:a.DeliveryId,null===e||void 0===e?void 0:e.Trip_Item_SNo))));if(console.log(l),a)return t;{const a=X.filter((a=>(0,x.Qr)(a.OrderId,e.OrderId)&&(0,x.Qr)(null===e||void 0===e?void 0:e.ItemId,null===a||void 0===a?void 0:a.ItemId)&&(0,x.Qr)(null===e||void 0===e?void 0:e.Trip_Item_SNo,null===a||void 0===a?void 0:a.Trip_Item_SNo))),l=[...new Map(a.flatMap((e=>e.EmployeesInvolved)).filter((e=>!se.some((a=>(0,x.Qr)(a.Involved_Emp_Id,e.EmployeeId))))).map((e=>[e.EmployeeId,e]))).values()];l.length>0&&ne((e=>[...e,...l.map((e=>Object.fromEntries(Object.entries(k).map((a=>{let[l,t]=a;switch(l){case"Involved_Emp_Id":return[l,null===e||void 0===e?void 0:e.EmployeeId];case"Involved_Emp_Name":return[l,null===e||void 0===e?void 0:e.EmployeeName];case"Cost_Center_Type_Id":return[l,null===e||void 0===e?void 0:e.CostType];default:return[l,t]}})))))]));const o=a.map((e=>{var a,l;const t=y(q,e.ItemId),o=he?t.Igst_P:t.Gst_P,r=o>0,s=null!==(a=parseFloat(e.Weight))&&void 0!==a?a:0,n=null!==(l=(0,x.kR)(e.BilledRate))&&void 0!==l?l:0,d=(0,x.eX)(s,n),i=me?"zerotax":ve?"remove":"add",c=(0,b.O)(n,o,i),u=(0,b.O)(d,o,i),v=he?0:u.cgst_per,m=he?u.igst_per:0,h=he?0:u.cgst_amount,_=he?u.igst_amount:0;return Object.fromEntries(Object.entries(E).map((a=>{var l;let[i,p]=a;switch(i){case"DeliveryId":return[i,Number(null===e||void 0===e?void 0:e.Trip_Item_SNo)];case"OrderId":return[i,Number(null===e||void 0===e?void 0:e.OrderId)];case"Po_Inv_Date":return[i,null===le||void 0===le?void 0:le.Po_Inv_Date];case"Location_Id":return[i,null!==(l=Number(null===e||void 0===e?void 0:e.LocationId))&&void 0!==l?l:""];case"Item_Id":return[i,Number(null===e||void 0===e?void 0:e.ItemId)];case"Bill_Qty":return[i,null===e||void 0===e?void 0:e.pendingInvoiceWeight];case"Act_Qty":case"Total_Qty":return[i,s];case"Item_Rate":return[i,n];case"Bill_Alt_Qty":return[i,Number(null===e||void 0===e?void 0:e.Quantity)];case"Batch_No":return[i,null===e||void 0===e?void 0:e.BatchLocation];case"Taxable_Rate":return[i,c.base_amount];case"Amount":return[i,d];case"Taxble":return[i,r?1:0];case"HSN_Code":return[i,t.HSN_Code];case"Taxable_Amount":return[i,u.base_amount];case"Tax_Rate":return[i,o];case"Cgst":case"Sgst":return[i,null!==v&&void 0!==v?v:0];case"Cgst_Amo":case"Sgst_Amo":return[i,me?0:h];case"Igst":return[i,null!==m&&void 0!==m?m:0];case"Igst_Amo":return[i,me?0:_];case"Final_Amo":return[i,u.with_tax];default:return[i,p]}})))}));return t.concat(o)}}))},Ne=()=>{ie(!1)},je=(e,a,l)=>{re((o=>o.map((o=>{if(o.DeliveryId===e.DeliveryId)switch(a){case"Bill_Qty":{const e=parseFloat(l||0),a=(0,t.c)((0,t.c)({},o),{},{Bill_Qty:e});return o.Item_Rate?a.Amount=(0,x.eX)(o.Item_Rate,e):o.Amount&&(a.Item_Rate=(0,x.yy)(o.Amount,e)),a}case"Item_Rate":{const e=parseFloat(l||0),a=(0,t.c)((0,t.c)({},o),{},{Item_Rate:e});return o.Bill_Qty&&(a.Amount=(0,x.eX)(e,o.Bill_Qty)),a}case"Amount":{const e=parseFloat(l||0),a=(0,t.c)((0,t.c)({},o),{},{Amount:e});return o.Bill_Qty&&(a.Item_Rate=(0,x.yy)(e,o.Bill_Qty)),a}default:return(0,t.c)((0,t.c)({},o),{},{[a]:l})}return o}))))};return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("form",{onSubmit:e=>{e.preventDefault(),C&&C(),(0,r.q)({address:"purchase/purchaseOrder",method:(0,x.Q$)(null===le||void 0===le?void 0:le.PIN_Id)?"PUT":"POST",bodyData:(0,t.c)({Product_Array:oe,StaffArray:se},le)}).then((e=>{e.success?(j.m4.success((null===e||void 0===e?void 0:e.message)||"Saved"),re([]),te(P),Z([]),ne([]),(Array.isArray(null===B||void 0===B?void 0:B.orderInfo)||(0,x.CY)(null===B||void 0===B?void 0:B.invoiceInfo))&&window.history.length>1?w(-1):w(Q.pathname,{replace:!0,state:null})):j.m4.error((null===e||void 0===e?void 0:e.message)||"Request Failed")})).catch((e=>console.error(e))).finally((()=>{T&&T()}))},children:(0,f.jsxs)(s.c,{children:[(0,f.jsxs)("div",{className:"d-flex flex-wrap align-items-center border-bottom py-2 px-3",children:[(0,f.jsx)("span",{className:"flex-grow-1 fa-16 fw-bold",children:"Purchase Invoice Creation"}),(0,f.jsxs)("span",{children:[(0,f.jsx)(n.c,{type:"button",onClick:()=>{(Array.isArray(null===B||void 0===B?void 0:B.orderInfo)||(0,x.CY)(null===B||void 0===B?void 0:B.invoiceInfo))&&window.history.length>1?w(-1):w(Q.pathname,{replace:!0,state:null})},children:"Cancel"}),(0,f.jsx)(n.c,{type:"submit",variant:"contained",children:"submit"})]})]}),(0,f.jsxs)(d.c,{children:[(0,f.jsxs)("div",{className:"row",children:[(0,f.jsx)("div",{className:"col-xxl-3 col-lg-4 col-md-5 p-2",children:(0,f.jsxs)("div",{className:"border p-2",style:{minHeight:"30vh",height:"100%"},children:[(0,f.jsxs)("div",{className:"d-flex align-items-center flex-wrap mb-2 border-bottom pb-2",children:[(0,f.jsx)("h6",{className:"flex-grow-1 m-0",children:"Staff Involved"}),(0,f.jsx)(n.c,{variant:"outlined",color:"primary",type:"button",onClick:()=>ne([...se,(0,t.c)({},k)]),children:"Add"})]}),(0,f.jsxs)("table",{className:"table table-bordered",children:[(0,f.jsx)("thead",{children:(0,f.jsxs)("tr",{children:[(0,f.jsx)("th",{className:"fa-13",children:"Sno"}),(0,f.jsx)("th",{className:"fa-13",children:"Staff Name"}),(0,f.jsx)("th",{className:"fa-13",children:"Category"}),(0,f.jsx)("th",{className:"fa-13",children:"#"})]})}),(0,f.jsx)("tbody",{children:se.map(((e,a)=>(0,f.jsxs)("tr",{children:[(0,f.jsx)("td",{className:"fa-13 vctr text-center",children:a+1}),(0,f.jsx)("td",{className:"fa-13 w-100 p-0",children:(0,f.jsx)(m.cp,{value:{value:null===e||void 0===e?void 0:e.Involved_Emp_Id,label:null===e||void 0===e?void 0:e.Involved_Emp_Name},onChange:e=>ne((l=>l.map(((l,o)=>{if((0,x.Qr)(o,a)){const a=J.find((a=>(0,x.Qr)(a.Cost_Center_Id,e.value)));return(0,t.c)((0,t.c)({},l),{},{Cost_Center_Type_Id:(0,x.Q$)(l.Cost_Center_Type_Id)?Number(l.Cost_Center_Type_Id):(0,x.Q$)(a.User_Type)?Number(a.User_Type):0,Involved_Emp_Id:Number(e.value),Involved_Emp_Name:e.label})}return l})))),options:[...J.filter((e=>!se.some((a=>(0,x.Qr)(a.Involved_Emp_Id,e.Cost_Center_Id)))))].map((e=>({value:e.Cost_Center_Id,label:e.Cost_Center_Name}))),styles:h.cF,isSearchable:!0,placeholder:"Select Staff"})}),(0,f.jsx)("td",{className:"fa-13 vctr p-0",style:{maxWidth:"130px",minWidth:"100px"},children:(0,f.jsxs)("select",{value:null===e||void 0===e?void 0:e.Cost_Center_Type_Id,onChange:e=>ne((l=>l.map(((l,o)=>(0,x.Qr)(o,a)?(0,t.c)((0,t.c)({},l),{},{Cost_Center_Type_Id:e.target.value}):l)))),className:"cus-inpt p-2 border-0",children:[(0,f.jsx)("option",{value:"",children:"Select"}),ee.map(((e,a)=>(0,f.jsx)("option",{value:null===e||void 0===e?void 0:e.Cost_Category_Id,children:null===e||void 0===e?void 0:e.Cost_Category},a)))]})}),(0,f.jsx)("td",{className:"fa-13 vctr p-0",children:(0,f.jsx)(i.c,{onClick:()=>{ne((e=>e.filter(((e,l)=>a!==l))))},size:"small",children:(0,f.jsx)(_.c,{color:"error"})})})]},a)))})]})]})}),(0,f.jsx)("div",{className:"col-xxl-9 col-lg-8 col-md-7 py-2 px-0",children:(0,f.jsxs)("div",{className:"border px-3 py-1",style:{minHeight:"30vh",height:"100%"},children:[(0,f.jsxs)("div",{className:"row",children:[(0,f.jsxs)("div",{className:"col-sm-8 p-2",children:[(0,f.jsx)("label",{className:"fa-13",children:"Vendor"}),(0,f.jsx)(m.cp,{value:{value:null===le||void 0===le?void 0:le.Retailer_Id,label:null===le||void 0===le?void 0:le.Retailer_Name},onChange:e=>{te((a=>(0,t.c)((0,t.c)({},a),{},{Retailer_Id:e.value,Retailer_Name:e.label}))),re([]),xe(e.value)},options:[{value:"",label:"Search",isDisabled:!0},...D.map((e=>({value:null===e||void 0===e?void 0:e.Retailer_Id,label:null===e||void 0===e?void 0:e.Retailer_Name})))],styles:h.cF,isSearchable:!0,placeholder:"Select Vendor",maxMenuHeight:300})]}),(0,f.jsxs)("div",{className:"col-sm-4 p-2",children:[(0,f.jsx)("label",{className:"fa-13",children:"Voucher Type"}),(0,f.jsx)(m.cp,{value:{value:le.Voucher_Type,label:null===(a=H.find((e=>(0,x.Qr)(e.Vocher_Type_Id,le.Voucher_Type))))||void 0===a?void 0:a.Voucher_Type},onChange:e=>te((a=>(0,t.c)((0,t.c)({},a),{},{Voucher_Type:e.value}))),options:[{value:"",label:"Search",isDisabled:!0},...H.map((e=>({value:null===e||void 0===e?void 0:e.Vocher_Type_Id,label:null===e||void 0===e?void 0:e.Voucher_Type})))],styles:h.cF,isSearchable:!0,required:!0,placeholder:"Select Voucher Type",maxMenuHeight:300})]}),(0,f.jsxs)("div",{className:"col-xl-3 col-md-4 col-sm-6 p-2",children:[(0,f.jsxs)("label",{className:"fa-13",children:["Branch ",(0,f.jsx)(N.c,{})]}),(0,f.jsxs)("select",{className:ue,value:null===le||void 0===le?void 0:le.Branch_Id,required:!0,onChange:e=>te((a=>(0,t.c)((0,t.c)({},a),{},{Branch_Id:e.target.value}))),children:[(0,f.jsx)("option",{value:"",children:"select"}),G.map(((e,a)=>(0,f.jsx)("option",{value:null===e||void 0===e?void 0:e.BranchId,children:null===e||void 0===e?void 0:e.BranchName},a)))]})]}),(0,f.jsxs)("div",{className:"col-xl-3 col-md-4 col-sm-6 p-2",children:[(0,f.jsxs)("label",{className:"fa-13",children:["Entry Date ",(0,f.jsx)(N.c,{})]}),(0,f.jsx)("input",{value:null===le||void 0===le?void 0:le.Po_Entry_Date,type:"date",required:!0,className:ue,onChange:e=>te((a=>(0,t.c)((0,t.c)({},a),{},{Po_Entry_Date:e.target.value})))})]}),(0,f.jsxs)("div",{className:"col-xl-3 col-md-4 col-sm-6 p-2",children:[(0,f.jsxs)("label",{className:"fa-13",children:["Bill Date ",(0,f.jsx)(N.c,{})]}),(0,f.jsx)("input",{value:null===le||void 0===le?void 0:le.Po_Inv_Date,type:"date",required:!0,className:ue,onChange:e=>te((a=>(0,t.c)((0,t.c)({},a),{},{Po_Inv_Date:e.target.value})))})]}),(0,f.jsxs)("div",{className:"col-xl-3 col-md-4 col-sm-6 p-2",children:[(0,f.jsx)("label",{className:"fa-13",children:"Ref Number"}),(0,f.jsx)("input",{value:null===le||void 0===le?void 0:le.Ref_Po_Inv_No,className:ue,onChange:e=>te((a=>(0,t.c)((0,t.c)({},a),{},{Ref_Po_Inv_No:e.target.value})))})]}),(0,f.jsxs)("div",{className:"col-xl-3 col-md-4 col-sm-6 p-2",children:[(0,f.jsxs)("label",{className:"fa-13",children:["GST Type ",(0,f.jsx)(N.c,{})]}),(0,f.jsxs)("select",{className:ue,onChange:e=>te((a=>(0,t.c)((0,t.c)({},a),{},{GST_Inclusive:Number(e.target.value)}))),value:le.GST_Inclusive,required:!0,children:[(0,f.jsx)("option",{value:1,children:"Inclusive Tax"}),(0,f.jsx)("option",{value:0,children:"Exclusive Tax"}),(0,f.jsx)("option",{value:2,children:"Not Taxable"})]})]}),(0,f.jsxs)("div",{className:"col-xl-3 col-md-4 col-sm-6 p-2",children:[(0,f.jsx)("label",{className:"fa-13",children:"Tax Type"}),(0,f.jsxs)("select",{className:ue,onChange:e=>te((a=>(0,t.c)((0,t.c)({},a),{},{IS_IGST:Number(e.target.value)}))),value:le.IS_IGST,children:[(0,f.jsx)("option",{value:"0",children:"GST"}),(0,f.jsx)("option",{value:"1",children:"IGST"})]})]}),(0,f.jsxs)("div",{className:"col-sm-6 p-2",children:[(0,f.jsx)("label",{className:"fa-13",children:"Stock Item Ledger Name"}),(0,f.jsx)(m.cp,{value:{value:le.Stock_Item_Ledger_Name,label:le.Stock_Item_Ledger_Name},onChange:e=>te((a=>(0,t.c)((0,t.c)({},a),{},{Stock_Item_Ledger_Name:e.label}))),options:[{value:"",label:"Search",isDisabled:!0},...z.map((e=>({value:null===e||void 0===e?void 0:e.Stock_Item_Ledger_Name,label:null===e||void 0===e?void 0:e.Stock_Item_Ledger_Name})))],styles:h.cF,required:!0,isSearchable:!0,placeholder:"Select",maxMenuHeight:300})]})]}),(0,f.jsx)("label",{className:"fa-13",children:"Narration"}),(0,f.jsx)("textarea",{className:"cus-inpt fa-14",rows:2,value:le.Narration,onChange:e=>te((a=>(0,t.c)((0,t.c)({},a),{},{Narration:e.target.value})))})]})})]}),(0,f.jsxs)("div",{className:"table-responsive",children:[(0,f.jsxs)("div",{className:"d-flex p-2 justify-content-end",children:[(0,f.jsx)(n.c,{type:"button",onClick:()=>re([]),children:"clear selected"}),(0,f.jsx)(n.c,{variant:"outlined",className:"ms-2",type:"button",onClick:()=>ie(!0),startIcon:(0,f.jsx)(p.c,{}),disabled:!(0,x.Q$)(le.Retailer_Id),children:"Add Products"})]}),(0,f.jsxs)("table",{className:"table",children:[(0,f.jsx)("thead",{children:(0,f.jsxs)("tr",{children:[(0,f.jsx)("td",{className:ce,children:"SNo"}),(0,f.jsx)("td",{className:ce,children:"Item"}),(0,f.jsx)("td",{className:ce,children:"Rate"}),(0,f.jsx)("td",{className:ce,children:"Bill Quantity"}),(0,f.jsx)("td",{className:ce,children:"Acl Quantity"}),(0,f.jsx)("td",{className:ce,children:"Unit"}),(0,f.jsx)("td",{className:ce,children:"Amount"}),(0,f.jsx)("td",{className:ce,children:"Godown Location"}),(0,f.jsx)("td",{className:ce,children:"Batch"})]})}),(0,f.jsx)("tbody",{children:oe.map(((e,a)=>{var l,t,o;return(0,f.jsxs)("tr",{children:[(0,f.jsx)("td",{className:ce,children:a+1}),(0,f.jsx)("td",{className:ce,children:null!==(l=null===(t=y(q,e.Item_Id))||void 0===t?void 0:t.Product_Name)&&void 0!==l?l:"Not found"}),(0,f.jsx)("td",{className:ce,children:(0,f.jsx)("input",{value:null!==e&&void 0!==e&&e.Item_Rate?null===e||void 0===e?void 0:e.Item_Rate:"",type:"number",className:ue,onChange:a=>je(e,"Item_Rate",a.target.value),required:!0})}),(0,f.jsx)("td",{className:ce,children:(0,f.jsx)("input",{value:null!==e&&void 0!==e&&e.Bill_Qty?null===e||void 0===e?void 0:e.Bill_Qty:"",type:"number",className:ue,onChange:a=>je(e,"Bill_Qty",a.target.value),required:!0})}),(0,f.jsx)("td",{className:ce,children:(0,f.jsx)("input",{value:null!==(o=null===e||void 0===e?void 0:e.Act_Qty)&&void 0!==o?o:"",type:"number",className:ue,onChange:a=>je(e,"Act_Qty",a.target.value),required:!0})}),(0,f.jsx)("td",{className:ce,children:(0,f.jsxs)("select",{value:null===e||void 0===e?void 0:e.Unit_Id,className:ue,onChange:a=>{const l=a.target.selectedIndex,t=a.target.options[l].text,o=a.target.value;je(e,"Unit_Id",o),je(e,"Unit_Name",t)},required:!0,children:[(0,f.jsx)("option",{value:"",children:"select"}),M.map(((e,a)=>(0,f.jsx)("option",{value:e.Unit_Id,children:e.Units},a)))]})}),(0,f.jsx)("td",{className:ce,children:(0,f.jsx)("input",{value:null!==e&&void 0!==e&&e.Amount?null===e||void 0===e?void 0:e.Amount:"",type:"number",className:ue,onChange:a=>je(e,"Amount",a.target.value),required:!0})}),(0,f.jsx)("td",{className:ce,children:(0,f.jsxs)("select",{value:null===e||void 0===e?void 0:e.Location_Id,className:ue,onChange:a=>je(e,"Location_Id",a.target.value),children:[(0,f.jsx)("option",{value:"",children:"select"}),$.map(((e,a)=>(0,f.jsx)("option",{value:null===e||void 0===e?void 0:e.Godown_Id,children:null===e||void 0===e?void 0:e.Godown_Name},a)))]})}),(0,f.jsx)("td",{className:ce,children:(0,f.jsx)("input",{value:null===e||void 0===e?void 0:e.Batch_No,className:ue,onChange:a=>je(e,"Batch_No",a.target.value)})})]},a)}))})]}),(0,f.jsx)("table",{className:"table",children:(0,f.jsxs)("tbody",{children:[(0,f.jsxs)("tr",{children:[(0,f.jsxs)("td",{className:"border p-2",rowSpan:(0,x.Qr)(le.IS_IGST,1)?4:5,children:["Total in words: ",(0,x.m4)(parseInt(_e))]}),(0,f.jsx)("td",{className:"border p-2",children:"Total Taxable Amount"}),(0,f.jsx)("td",{className:"border p-2",children:(0,x.SA)(pe.TotalValue)})]}),he?(0,f.jsxs)("tr",{children:[(0,f.jsx)("td",{className:"border p-2",children:"IGST"}),(0,f.jsx)("td",{className:"border p-2",children:(0,x.SA)((0,x.kR)(pe.TotalTax))})]}):(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)("tr",{children:[(0,f.jsx)("td",{className:"border p-2",children:"CGST"}),(0,f.jsx)("td",{className:"border p-2",children:(0,x.SA)((0,x.kR)(pe.TotalTax/2))})]}),(0,f.jsxs)("tr",{children:[(0,f.jsx)("td",{className:"border p-2",children:"SGST"}),(0,f.jsx)("td",{className:"border p-2",children:(0,x.SA)((0,x.kR)(pe.TotalTax/2))})]})]}),(0,f.jsxs)("tr",{children:[(0,f.jsx)("td",{className:"border p-2",children:"Round Off"}),(0,f.jsx)("td",{className:"border p-2",children:(0,x.kR)(Math.round(_e)-_e)})]}),(0,f.jsxs)("tr",{children:[(0,f.jsx)("td",{className:"border p-2",children:"Total"}),(0,f.jsx)("td",{className:"border p-2",children:(0,x.SA)(Math.round(_e))})]})]})})]})]})]})}),(0,f.jsxs)(c.c,{open:de,onClose:Ne,fullScreen:!0,children:[(0,f.jsxs)(u.c,{className:"d-flex flex-wrap align-items-center ",children:[(0,f.jsx)("span",{className:"flex-grow-1",children:"Select Purchase Order"}),(0,f.jsx)("span",{children:(0,f.jsx)(n.c,{onClick:Ne,type:"button",className:"me-2",children:"close"})})]}),(0,f.jsx)(v.c,{children:(0,f.jsx)(I.cp,{dataArray:X,columns:[{isVisible:1,ColumnHeader:"#",isCustomCell:!0,Cell:e=>{let{row:a}=e;return(0,f.jsx)("div",{children:(0,f.jsx)("input",{className:"form-check-input shadow-none pointer",style:{padding:"0.7em"},type:"checkbox",checked:-1!==oe.findIndex((e=>(0,x.Qr)(null===e||void 0===e?void 0:e.DeliveryId,null===a||void 0===a?void 0:a.Trip_Item_SNo))),onChange:()=>{-1!==oe.findIndex((e=>(0,x.Qr)(null===e||void 0===e?void 0:e.DeliveryId,null===a||void 0===a?void 0:a.Trip_Item_SNo)))?Ie(a,!0):Ie(a)}})})}},(0,I.A5)("ArrivalDate","date"),(0,I.A5)("ItemName","string"),(0,I.A5)("BilledRate","string"),{isVisible:1,ColumnHeader:"Weight",isCustomCell:!0,Cell:e=>{var a;let{row:l}=e;return(null!==(a=null===l||void 0===l?void 0:l.Weight)&&void 0!==a?a:0)+" "+(null===l||void 0===l?void 0:l.Units)}},(0,I.A5)("pendingInvoiceWeight","number","Pending Tonnage"),(0,I.A5)("Quantity","number"),(0,I.A5)("PO_ID","string"),(0,I.A5)("Location","string")],EnableSerialNumber:!0,disablePagination:!0,title:"Arrival Details of ".concat(null!==(l=null===D||void 0===D||null===(S=D.find((e=>(0,x.Qr)(null===e||void 0===e?void 0:e.Retailer_Id,null===le||void 0===le?void 0:le.Retailer_Id))))||void 0===S?void 0:S.Retailer_Name)&&void 0!==l?l:"Not available"),maxHeightOption:!0})})]})]})}},96064:(e,a,l)=>{l.d(a,{c:()=>r});var t=l(27664),o=l(82496);const r=(0,t.c)((0,o.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"}),"Add")},45180:(e,a,l)=>{l.d(a,{c:()=>r});var t=l(27664),o=l(82496);const r=(0,t.c)((0,o.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"}),"Delete")},84436:(e,a,l)=>{l.d(a,{c:()=>p});var t=l(45072),o=l(95656),r=l(69060),s=l(79736),n=l(21412),d=l(12556),i=l(49836),c=l(10099),u=l(33448);function v(e){return(0,u.cp)("MuiCardContent",e)}(0,c.c)("MuiCardContent",["root"]);var m=l(82496);const h=["className","component"],_=(0,d.cp)("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(e,a)=>a.root})((()=>({padding:16,"&:last-child":{paddingBottom:24}}))),p=r.forwardRef((function(e,a){const l=(0,i.C)({props:e,name:"MuiCardContent"}),{className:r,component:d="div"}=l,c=(0,o.c)(l,h),u=(0,t.c)({},l,{component:d}),p=(e=>{const{classes:a}=e;return(0,n.c)({root:["root"]},v,a)})(u);return(0,m.jsx)(_,(0,t.c)({as:d,className:(0,s.c)(p.root,r),ownerState:u,ref:a},c))}))}}]);
//# sourceMappingURL=7848.9ad3d200.chunk.js.map
"use strict";(self.webpackChunkerp=self.webpackChunkerp||[]).push([[1952],{62344:(e,s,a)=>{a.d(s,{o$:()=>i,o5:()=>o,cF:()=>n,iI:()=>t,_8:()=>c});var l=a(30800);const d=a.p+"static/media/smt.aa4d4f940bbebff07a57.png",t={table:{style:{width:"auto",backgroundColor:"transparent"}},rows:{style:{backgroundColor:"transparent"}},headCells:{style:{backgroundColor:"#6b9080f8",color:"white",fontSize:"14px"}}},n={menu:(e,s)=>(0,l.c)((0,l.c)({},e),{},{zIndex:9999}),menuPortal:e=>(0,l.c)((0,l.c)({},e),{},{zIndex:9999}),groupHeading:e=>(0,l.c)((0,l.c)({},e),{},{backgroundColor:"#f5f5f5",color:"#333",fontWeight:"bold",fontSize:"14px",padding:"8px 12px",borderBottom:"1px solid #ddd",textTransform:"uppercase"}),option:(e,s)=>(0,l.c)((0,l.c)({},e),{},{backgroundColor:s.isSelected?"#2684FF":s.isFocused?"#E2ECF9":"white",color:s.isSelected?"white":"#333",padding:"10px 12px"})},i=[{id:1,headname:"Menu ID",variant:"head",align:"left",width:100},{id:2,headname:"MenuName"},{id:3,headname:"Read Rights"},{id:4,headname:"Add Rights"},{id:5,headname:"Edit Rights"},{id:6,headname:"Delete Rights"},{id:7,headname:"Print Rights"},{id:8,headname:"Action"}],o=[{dataBase:1,name:"SHANKAR TRADERS",business:"Wholesale Merchant in Dhall",address:"32, Chitrakara Street, Madurai - 01 <br /> Bill of Supply -Disclaimer Affidavlt Field Extemped",logo:d,gstin:"33AADFS6973R1ZD",phone:"984-313-1353, 984-335-5166",fssai:"12418012000818",bankAccount:"0021 5032 0885 122",ifsc:"TMBL0000002"},{dataBase:2,name:"SMT AGRO PRODUCTS",business:"",address:"H.O: 153, Chitrakara Street, 2nd Floor, Madurai -01 <br /> G.O: 746 Puliyur, Sayanapuram, Svga <br /> Bill of Supply -Disclaimer Affidavlt Field Extemped",logo:d,gstin:"33ACMFS3420Q1ZQ",phone:"0452-4371625",fssai:"12418012000818",bankAccount:"0025 3031 0875 947",ifsc:"TMBL0000002"},{dataBase:3,name:"BHAVANI TRADERS",business:"",address:"H.O: 152-A, Chitrakara Street, Madurai -01 <br /> G.O: 30/1-Rajman Nagar, Chintamani Main Road, Mdu-01 <br /> Tax Invoice",logo:d,gstin:"33AAEFB6728J1ZG",phone:"958-559-7641, 958-559-7614",fssai:"12418012000670",bankAccount:"0021 5005 0800 309",ifsc:"TMBL0000002"}],c=[{name:"PURCHASE ORDER"},{name:"PURCHASE INVOICE"},{name:"SALE ORDER"},{name:"SALE INVOICE"},{name:"JOURNAL"},{name:"STOCK JOURNAL"},{name:"PAYMENT"},{name:"RECEIPT"},{name:"CONTRA"}]},62988:(e,s,a)=>{a.r(s),a.d(s,{default:()=>O});var l=a(30800),d=a(69060),t=a(51560),n=a(5548),i=a(60476),o=a(93996),c=a(82656),r=a(26773),v=a(4488),u=a(90048),h=a(89e3),m=a(71448),_=a(52924),p=a(44380),x=a(22727),T=a(99768),k=a(86e3),j=a(45180),S=a(28655),b=a(96064),g=a(33808),N=(a(21680),a(56480)),f=a(40656),y=a(62344),I=a(26728),D=a(59736),E=a(12720),C=a(1908),L=a(39308),w=a(82496);const A=(0,w.jsx)(I.c,{fontSize:"small"}),M=(0,w.jsx)(D.c,{fontSize:"small"}),O=()=>{var e,s;const a=localStorage.getItem("user"),I=JSON.parse(a),D=(0,t.IT)(),O=null===(e=D.state)||void 0===e?void 0:e.project,G=null===(s=D.state)||void 0===s?void 0:s.rights,P=(0,t.i6)(),R={Sch_Id:"",Sch_Date:(new Date).toISOString().split("T")[0],Project_Id:null===O||void 0===O?void 0:O.Project_Id,Sch_By:I.UserId,Sch_Type_Id:1,Sch_Est_Start_Date:(new Date).toISOString().split("T")[0],Sch_Est_End_Date:"",Sch_Status:1,Entry_By:I.UserId,Entry_Date:new Date},B={Sch_Project_Id:null===O||void 0===O?void 0:O.Project_Id,Sch_Id:"",Task_Levl_Id:"",Task_Id:"",Type_Task_Id:1,Task_Sch_Duaration:"01:00",Task_Start_Time:"10:00",Task_End_Time:"11:00",Task_Est_Start_Date:(new Date).toISOString().split("T")[0],Task_Est_End_Date:(new Date).toISOString().split("T")[0],Task_Sch_Status:1,Levl_Id:"",Task_Depend_Level_Id:"",TasksGet:"- Select Task -"},[F,q]=(0,d.useState)([]),[z,U]=(0,d.useState)([]),[H,Q]=(0,d.useState)([]),[W,V]=(0,d.useState)([]),[J,K]=(0,d.useState)([]),[Z,Y]=(0,d.useState)([]),[$,X]=(0,d.useState)([]),[ee,se]=(0,d.useState)([]),[ae,le]=(0,d.useState)(R),[de,te]=(0,d.useState)(B),[ne,ie]=(0,d.useState)(!1),[oe,ce]=(0,d.useState)(!1),[re,ve]=(0,d.useState)({scheduleCreate:!1,scheduleDelete:!1,taskSchedule:!1,taskDelete:!1});(0,d.useEffect)((()=>{(0,C.q)({address:"taskManagement/project/schedule?Project_Id=".concat(null===O||void 0===O?void 0:O.Project_Id)}).then((e=>{e.success&&V(e.data)})).catch((e=>console.error(e)))}),[oe,null===O||void 0===O?void 0:O.Project_Id]),(0,d.useEffect)((()=>{(0,C.q)({address:"masters/user/dropDown?Company_id=".concat(null===I||void 0===I?void 0:I.Company_id)}).then((e=>{e.success&&q(e.data)})).catch((e=>console.error(e))),(0,C.q)({address:"taskManagement/project/schedule/scheduleType"}).then((e=>{e.success&&U(e.data)})).catch((e=>console.error(e))),(0,C.q)({address:"taskManagement/statusList"}).then((e=>{e.success&&(e.data.sort(((e,s)=>e.Status_Id-s.Status_Id)),Q(e.data))})).catch((e=>console.error(e))),(0,C.q)({address:"taskManagement/tasks/dropdown"}).then((e=>{e.success&&K(e.data)})).catch((e=>console.error(e))),(0,C.q)({address:"masters/taskType"}).then((e=>{e.success&&Y(e.data)})).catch((e=>console.error(e)))}),[null===I||void 0===I?void 0:I.BranchId]),(0,d.useEffect)((()=>{const e=z.find((e=>Number(null===e||void 0===e?void 0:e.Sch_Type_Id)===Number(null===ae||void 0===ae?void 0:ae.Sch_Type_Id))),s=new Date,a=s.getDate();s.setDate(a+Number(null===e||void 0===e?void 0:e.Sch_Days)||0);const d=s.toISOString().split("T")[0];le((e=>(0,l.c)((0,l.c)({},e),{},{Sch_Est_End_Date:d})))}),[null===ae||void 0===ae?void 0:ae.Sch_Est_Start_Date,null===ae||void 0===ae?void 0:ae.Sch_Type_Id,z]),(0,d.useEffect)((()=>{const[e,s]=null===de||void 0===de?void 0:de.Task_Start_Time.split(":").map(Number),[a,d]=null===de||void 0===de?void 0:de.Task_End_Time.split(":").map(Number),t=new Date(0,0,0,e,s),n=new Date(0,0,0,a,d);if(n>t){let e=Math.abs(n-t);const s=Math.floor(e/36e5);e%=36e5;const a=Math.floor(e/6e4),d=String(s).padStart(2,"0"),i=String(a).padStart(2,"0");te((e=>(0,l.c)((0,l.c)({},e),{},{Task_Sch_Duaration:"".concat(d,":").concat(i)})))}}),[null===de||void 0===de?void 0:de.Task_Start_Time,null===de||void 0===de?void 0:de.Task_End_Time,null===de||void 0===de?void 0:de.Task_Id]),(0,d.useEffect)((()=>{if(ee.length>0){const e=ee.map((e=>null===e||void 0===e?void 0:e.Task_Levl_Id)).join(",");te((s=>(0,l.c)((0,l.c)({},s),{},{Task_Depend_Level_Id:e})))}else te((e=>(0,l.c)((0,l.c)({},e),{},{Task_Depend_Level_Id:""})))}),[ee]),(0,d.useEffect)((()=>{O&&G||P("/taskManagement/projectActivity")}),[O,G,P]);const ue=e=>{e&&(le(e),ie(!0)),e||!0!==re.scheduleCreate||(le(R),ie(!1)),ve((0,l.c)((0,l.c)({},re),{},{scheduleCreate:!re.scheduleCreate}))},he=(e,s)=>{s&&!e&&(te(s),ie(!0)),s||!0!==re.taskSchedule||!0!==e||(te(B),X([]),se([]),ie(!1)),ve((0,l.c)((0,l.c)({},re),{},{taskSchedule:!re.taskSchedule}))},me=e=>{le(e||R),ve((0,l.c)((0,l.c)({},re),{},{scheduleDelete:!re.scheduleDelete}))},_e=e=>{te(e||B),ve((0,l.c)((0,l.c)({},re),{},{taskDelete:!re.taskDelete}))},pe=e=>["","bg-primary","bg-warning","bg-success","bg-danger"][Number(e)],xe=e=>{var s;let{obj:a,SNo:t}=e;const c=(0,d.useRef)(null),[r,v]=(0,d.useState)(0);(0,d.useEffect)((()=>{c.current&&v(c.current.offsetHeight)}),[]);const u=(e,s)=>{const a=e.findIndex((e=>Number(e.Task_Levl_Id)===Number(s)));return a>=0?a+1+". ":""},h=e=>{var s;let{gobj:t}=e;const[c,r]=(0,d.useState)(!1);return(0,w.jsxs)(d.Fragment,{children:[(0,w.jsxs)("h5",{className:"mt-2 mb-3",children:[(0,w.jsx)(n.c,{onClick:()=>r(!c),children:c?(0,w.jsx)(x.c,{sx:{fontSize:"20px",color:"black"}}):(0,w.jsx)(T.c,{sx:{fontSize:"20px",color:"black"}})}),(0,w.jsx)("span",{onClick:()=>r(!c),children:null!==t&&void 0!==t&&t.Task_Type?null===t||void 0===t?void 0:t.Task_Type:"Not Grouped"})]}),(0,w.jsx)(i.c,{in:c,unmountOnExit:!0,children:null===t||void 0===t||null===(s=t.TaskGroup)||void 0===s?void 0:s.map(((e,s)=>(0,w.jsxs)("div",{className:"rounded-4 bg-light p-2 px-3 d-flex align-items-center mt-2",children:[(0,w.jsxs)("span",{className:"flex-grow-1 fw-bold",children:[s+1+". ",null===e||void 0===e?void 0:e.TaskNameGet]}),(0,w.jsxs)("span",{className:"fa-14 d-flex align-items-center",children:[(0,L.uy)(null===e||void 0===e?void 0:e.Task_Est_Start_Date),(0,w.jsx)("span",{className:"rounded-5 ms-2 ".concat(pe(null===e||void 0===e?void 0:e.Task_Sch_Status)),style:{padding:"5.2px"}}),(0,w.jsx)("span",{children:(0,w.jsxs)(E.c,{children:[(0,w.jsx)(E.c.Toggle,{variant:"success",id:"actions",className:"rounded-5 bg-transparent text-dark border-0 btn"}),(0,w.jsxs)(E.c.Menu,{children:[1===Number(null===G||void 0===G?void 0:G.edit)&&(0,w.jsxs)(o.c,{onClick:()=>{he(!1,{Sch_Project_Id:null===O||void 0===O?void 0:O.Project_Id,Sch_Id:null===a||void 0===a?void 0:a.Sch_Id,Task_Levl_Id:null===e||void 0===e?void 0:e.Task_Levl_Id,Task_Id:null===e||void 0===e?void 0:e.Task_Id,Type_Task_Id:null===e||void 0===e?void 0:e.Type_Task_Id,Task_Sch_Duaration:null===e||void 0===e?void 0:e.Task_Sch_Duaration,Task_Start_Time:null===e||void 0===e?void 0:e.Task_Start_Time,Task_End_Time:null===e||void 0===e?void 0:e.Task_End_Time,Task_Est_Start_Date:new Date(null===e||void 0===e?void 0:e.Task_Est_Start_Date).toISOString().split("T")[0],Task_Est_End_Date:new Date(null===e||void 0===e?void 0:e.Task_Est_End_Date).toISOString().split("T")[0],Task_Sch_Status:null===e||void 0===e?void 0:e.Task_Sch_Status,Levl_Id:1,Task_Depend_Level_Id:"",TasksGet:null===e||void 0===e?void 0:e.TaskNameGet})},children:[(0,w.jsx)(k.c,{className:"fa-in me-2 text-primary"}),"Edit"]}),1===Number(null===G||void 0===G?void 0:G.delete)&&(0,w.jsxs)(o.c,{onClick:()=>{_e((0,l.c)((0,l.c)({},de),{},{Task_Levl_Id:null===e||void 0===e?void 0:e.Task_Levl_Id}))},children:[(0,w.jsx)(j.c,{className:"fa-in me-2 text-danger "}),"Delete"]}),(0,w.jsxs)(o.c,{onClick:()=>{var s;return P("taskActivity",{state:{taskDetails:(0,l.c)((0,l.c)({},e),{},{Project_Id:null===O||void 0===O?void 0:O.Project_Id,Sch_Id:null===a||void 0===a?void 0:a.Sch_Id}),rights:null===(s=D.state)||void 0===s?void 0:s.rights,retObj:D.state}})},children:[(0,w.jsx)(S.c,{className:"fa-in me-2 text-primary "}),"Open Task"]})]})]})})]})]},s)))})]})},m=e=>{var s;let{gobjlvl2:t}=e;const[c,r]=(0,d.useState)(!1);return(0,w.jsxs)(d.Fragment,{children:[(0,w.jsxs)("h5",{className:"mt-2 mb-3",children:[(0,w.jsx)(n.c,{onClick:()=>r(!c),children:c?(0,w.jsx)(x.c,{sx:{fontSize:"20px",color:"black"}}):(0,w.jsx)(T.c,{sx:{fontSize:"20px",color:"black"}})}),(0,w.jsx)("span",{onClick:()=>r(!c),children:null!==t&&void 0!==t&&t.Task_Type?null===t||void 0===t?void 0:t.Task_Type:"Not Grouped"})]}),(0,w.jsx)(i.c,{in:c,unmountOnExit:!0,children:null===t||void 0===t||null===(s=t.TaskGroup)||void 0===s?void 0:s.map(((e,s)=>{var d,t,n;return(0,w.jsxs)("div",{className:"rounded-4 bg-light py-2 px-3 mt-2",children:[(0,w.jsxs)("div",{className:"mb-0 d-flex align-items-center",children:[(0,w.jsxs)("span",{className:"flex-grow-1 fw-bold",children:[s+1+". ",null===e||void 0===e?void 0:e.TaskNameGet]}),(0,w.jsxs)("span",{className:"fa-14 d-flex align-items-center",children:[(0,L.uy)(null===e||void 0===e?void 0:e.Task_Est_Start_Date),(0,w.jsx)("span",{className:"rounded-5 ms-2 ".concat(pe(null===e||void 0===e?void 0:e.Task_Sch_Status)),style:{padding:"5.2px"}}),(0,w.jsx)("span",{children:(0,w.jsxs)(E.c,{children:[(0,w.jsx)(E.c.Toggle,{variant:"success",id:"actions",className:"rounded-5 bg-transparent text-dark border-0 btn"}),(0,w.jsxs)(E.c.Menu,{children:[1===Number(null===G||void 0===G?void 0:G.edit)&&(0,w.jsxs)(o.c,{onClick:()=>{var s;he(!1,{Sch_Project_Id:null===O||void 0===O?void 0:O.Project_Id,Sch_Id:null===a||void 0===a?void 0:a.Sch_Id,Task_Levl_Id:null===e||void 0===e?void 0:e.Task_Levl_Id,Task_Id:null===e||void 0===e?void 0:e.Task_Id,Type_Task_Id:null===e||void 0===e?void 0:e.Type_Task_Id,Task_Sch_Duaration:null===e||void 0===e?void 0:e.Task_Sch_Duaration,Task_Start_Time:null===e||void 0===e?void 0:e.Task_Start_Time,Task_End_Time:null===e||void 0===e?void 0:e.Task_End_Time,Task_Est_Start_Date:(0,L.Q7)(null===e||void 0===e?void 0:e.Task_Est_Start_Date),Task_Est_End_Date:(0,L.Q7)(null===e||void 0===e?void 0:e.Task_Est_End_Date),Task_Sch_Status:null===e||void 0===e?void 0:e.Task_Sch_Status,Levl_Id:2,Task_Depend_Level_Id:"",TasksGet:null===e||void 0===e?void 0:e.TaskNameGet}),se([...null===e||void 0===e||null===(s=e.DependancyTasks)||void 0===s?void 0:s.map((e=>({Task_Levl_Id:null===e||void 0===e?void 0:e.Task_Depend_Level_Id,TaskNameGet:null===e||void 0===e?void 0:e.TaskNameGet})))]),X(null===a||void 0===a?void 0:a.LevelOneTasks.flatMap((e=>null===e||void 0===e?void 0:e.TaskGroup)))},children:[(0,w.jsx)(k.c,{className:"fa-in me-2 text-primary"}),"Edit"]}),1===Number(null===G||void 0===G?void 0:G.delete)&&(0,w.jsxs)(o.c,{onClick:()=>{_e((0,l.c)((0,l.c)({},de),{},{Task_Levl_Id:null===e||void 0===e?void 0:e.Task_Levl_Id}))},children:[(0,w.jsx)(j.c,{className:"fa-in me-2 text-danger "}),"Delete"]}),(0,w.jsxs)(o.c,{onClick:()=>{var s;return P("taskActivity",{state:{taskDetails:(0,l.c)((0,l.c)({},e),{},{Project_Id:null===O||void 0===O?void 0:O.Project_Id,Sch_Id:null===a||void 0===a?void 0:a.Sch_Id}),rights:null===(s=D.state)||void 0===s?void 0:s.rights,retObj:D.state}})},children:[(0,w.jsx)(S.c,{className:"fa-in me-2 text-primary "}),"Open Task"]})]})]})})]})]}),(0,w.jsx)("hr",{className:"mt-0 mb-2"}),(null===e||void 0===e||null===(d=e.DependancyTasks)||void 0===d?void 0:d.length)>0&&(0,w.jsxs)("p",{className:"mb-1 text-primary",children:["Dependency Tasks (",null===e||void 0===e||null===(t=e.DependancyTasks)||void 0===t?void 0:t.length,")"]}),(0,w.jsx)("div",{className:"d-flex overflow-auto",children:null===e||void 0===e||null===(n=e.DependancyTasks)||void 0===n?void 0:n.map(((e,s)=>(0,w.jsxs)("span",{className:"rounded-4 mt-2 me-2 px-3 py-1 fa-13 fw-bold",style:{backgroundColor:"#E7C8DD"},children:[u(null===a||void 0===a?void 0:a.LevelOneTasks.flatMap((e=>null===e||void 0===e?void 0:e.TaskGroup)),e.Task_Depend_Level_Id),null===e||void 0===e?void 0:e.TaskNameGet]},s)))})]},s)}))})]})},_=e=>{var s;let{gobjlvl3:t}=e;const[c,r]=(0,d.useState)(!1);return(0,w.jsxs)(d.Fragment,{children:[(0,w.jsxs)("h5",{className:"mt-2 mb-3",children:[(0,w.jsx)(n.c,{onClick:()=>r(!c),children:c?(0,w.jsx)(x.c,{sx:{fontSize:"20px",color:"black"}}):(0,w.jsx)(T.c,{sx:{fontSize:"20px",color:"black"}})}),(0,w.jsx)("span",{onClick:()=>r(!c),children:null!==t&&void 0!==t&&t.Task_Type?null===t||void 0===t?void 0:t.Task_Type:"Not Grouped"})]}),(0,w.jsx)(i.c,{in:c,unmountOnExit:!0,children:null===t||void 0===t||null===(s=t.TaskGroup)||void 0===s?void 0:s.map(((e,s)=>{var d,t,n;return(0,w.jsxs)("div",{className:"rounded-4 bg-light py-2 px-3 mt-2",children:[(0,w.jsxs)("div",{className:"mb-0 d-flex align-items-center",children:[(0,w.jsxs)("span",{className:"flex-grow-1 fw-bold",children:[s+1+". ",null===e||void 0===e?void 0:e.TaskNameGet]}),(0,w.jsxs)("span",{className:"fa-14 d-flex align-items-center",children:[(0,L.uy)(null===e||void 0===e?void 0:e.Task_Est_Start_Date),(0,w.jsx)("span",{className:"rounded-5 ms-2 ".concat(pe(null===e||void 0===e?void 0:e.Task_Sch_Status)),style:{padding:"5.2px"}}),(0,w.jsx)("span",{children:(0,w.jsxs)(E.c,{children:[(0,w.jsx)(E.c.Toggle,{variant:"success",id:"actions",className:"rounded-5 bg-transparent text-dark border-0 btn"}),(0,w.jsxs)(E.c.Menu,{children:[1===Number(null===G||void 0===G?void 0:G.edit)&&(0,w.jsxs)(o.c,{onClick:()=>{var s;he(!1,{Sch_Project_Id:null===O||void 0===O?void 0:O.Project_Id,Sch_Id:null===a||void 0===a?void 0:a.Sch_Id,Task_Levl_Id:null===e||void 0===e?void 0:e.Task_Levl_Id,Task_Id:null===e||void 0===e?void 0:e.Task_Id,Type_Task_Id:null===e||void 0===e?void 0:e.Type_Task_Id,Task_Sch_Duaration:null===e||void 0===e?void 0:e.Task_Sch_Duaration,Task_Start_Time:null===e||void 0===e?void 0:e.Task_Start_Time,Task_End_Time:null===e||void 0===e?void 0:e.Task_End_Time,Task_Est_Start_Date:(0,L.Q7)(null===e||void 0===e?void 0:e.Task_Est_Start_Date),Task_Est_End_Date:(0,L.Q7)(null===e||void 0===e?void 0:e.Task_Est_End_Date),Task_Sch_Status:null===e||void 0===e?void 0:e.Task_Sch_Status,Levl_Id:3,Task_Depend_Level_Id:"",TasksGet:null===e||void 0===e?void 0:e.TaskNameGet}),se([...null===e||void 0===e||null===(s=e.DependancyTasks)||void 0===s?void 0:s.map((e=>({Task_Levl_Id:null===e||void 0===e?void 0:e.Task_Depend_Level_Id,TaskNameGet:null===e||void 0===e?void 0:e.TaskNameGet})))]),X(null===a||void 0===a?void 0:a.LevelTwoTasks.flatMap((e=>null===e||void 0===e?void 0:e.TaskGroup)))},children:[(0,w.jsx)(k.c,{className:"fa-in me-2 text-primary"}),"Edit"]}),1===Number(null===G||void 0===G?void 0:G.delete)&&(0,w.jsxs)(o.c,{onClick:()=>{_e((0,l.c)((0,l.c)({},de),{},{Task_Levl_Id:null===e||void 0===e?void 0:e.Task_Levl_Id}))},children:[(0,w.jsx)(j.c,{className:"fa-in me-2 text-danger "}),"Delete"]}),(0,w.jsxs)(o.c,{onClick:()=>{var s;return P("taskActivity",{state:{taskDetails:(0,l.c)((0,l.c)({},e),{},{Project_Id:null===O||void 0===O?void 0:O.Project_Id,Sch_Id:null===a||void 0===a?void 0:a.Sch_Id}),rights:null===(s=D.state)||void 0===s?void 0:s.rights,retObj:D.state}})},children:[(0,w.jsx)(S.c,{className:"fa-in me-2 text-primary "}),"Open Task"]})]})]})})]})]}),(0,w.jsx)("hr",{className:"mt-0 mb-2"}),(null===e||void 0===e||null===(d=e.DependancyTasks)||void 0===d?void 0:d.length)>0&&(0,w.jsxs)("p",{className:"mb-1 text-primary",children:["Dependency Tasks (",null===e||void 0===e||null===(t=e.DependancyTasks)||void 0===t?void 0:t.length,")"]}),(0,w.jsx)("div",{className:"d-flex overflow-auto",children:null===e||void 0===e||null===(n=e.DependancyTasks)||void 0===n?void 0:n.map(((e,s)=>(0,w.jsxs)("span",{className:"rounded-4 mt-2 me-2 px-3 py-1 fa-13 fw-bold",style:{backgroundColor:"#E2E4F6"},children:[u(null===a||void 0===a?void 0:a.LevelTwoTasks.flatMap((e=>null===e||void 0===e?void 0:e.TaskGroup)),e.Task_Depend_Level_Id),null===e||void 0===e?void 0:e.TaskNameGet]},s)))})]},s)}))})]})};return(0,w.jsx)(w.Fragment,{children:(0,w.jsxs)("div",{className:"cus-card p-2",children:[(0,w.jsxs)("h5",{className:"mb-0 d-flex px-3 py-2 align-items-center",children:[(0,w.jsxs)("span",{className:"flex-grow-1",children:["Schedule: ",t+" ",(0,w.jsx)("br",{}),(0,w.jsxs)("span",{className:"fa-12",children:["By: ",null===a||void 0===a?void 0:a.SchByGet]})]}),(0,w.jsxs)("span",{className:" d-flex fa-14",children:[(0,w.jsxs)("span",{children:[(null===a||void 0===a?void 0:a.SchTypGet)+" ("+(null===a||void 0===a?void 0:a.SchDays)+") ",(0,w.jsx)("br",{}),(0,w.jsxs)("span",{className:"fa-12",children:["(",(0,L.uy)(null===a||void 0===a?void 0:a.Sch_Est_Start_Date)," - ",(0,L.uy)(null===a||void 0===a?void 0:a.Sch_Est_End_Date),")"]})]}),(0,w.jsxs)(E.c,{children:[(0,w.jsx)(E.c.Toggle,{variant:"success",id:"actions",className:"rounded-5 bg-transparent text-dark border-0 btn"}),(0,w.jsxs)(E.c.Menu,{children:[1===Number(null===G||void 0===G?void 0:G.edit)&&(0,w.jsxs)(o.c,{onClick:()=>{ue({Sch_Id:null===a||void 0===a?void 0:a.Sch_Id,Sch_Date:(0,L.Q7)(null===a||void 0===a?void 0:a.Sch_Date),Project_Id:null===O||void 0===O?void 0:O.Project_Id,Sch_By:null===a||void 0===a?void 0:a.Sch_By,Sch_Type_Id:null===a||void 0===a?void 0:a.Sch_Type_Id,Sch_Est_Start_Date:(0,L.Q7)(null===a||void 0===a?void 0:a.Sch_Est_Start_Date),Sch_Est_End_Date:(0,L.Q7)(null===a||void 0===a?void 0:a.Sch_Est_End_Date),Sch_Status:null===a||void 0===a?void 0:a.Sch_Status,Entry_By:null===a||void 0===a?void 0:a.Entry_By,Entry_Date:(0,L.Q7)(null===a||void 0===a?void 0:a.Entry_Date)})},children:[(0,w.jsx)(k.c,{className:"fa-in me-2 text-primary"}),"Edit"]}),1===Number(null===G||void 0===G?void 0:G.delete)&&(0,w.jsxs)(o.c,{onClick:()=>me((0,l.c)((0,l.c)({},de),{},{Sch_Id:null===a||void 0===a?void 0:a.Sch_Id})),children:[(0,w.jsx)(j.c,{className:"fa-in me-2 text-danger "}),"Delete"]})]})]})]})]}),(0,w.jsx)("hr",{className:"mt-0"}),(0,w.jsxs)("div",{className:"d-flex flex-nowrap overflow-scroll",style:{paddingBottom:"4.6em"},children:[(0,w.jsx)("div",{className:"res-width px-3 py-2",children:(0,w.jsxs)("div",{className:"rounded-4 p-3",style:{backgroundColor:"#E7C8DD"},ref:c,children:[(0,w.jsxs)("div",{className:"d-flex align-items-center",children:[(0,w.jsx)("span",{className:"flex-grow-1 ps-2 fw-bold",children:"Level 1"}),1===Number(null===G||void 0===G?void 0:G.add)&&(0,w.jsx)("button",{className:"btn btn-primary rounded-5 px-3 fa-13 shadow d-flex align-items-center",onClick:()=>{he(!1),te((0,l.c)((0,l.c)({},de),{},{Sch_Id:null===a||void 0===a?void 0:a.Sch_Id,Levl_Id:1})),X([])},children:"Assign Task"})]}),null===a||void 0===a||null===(s=a.LevelOneTasks)||void 0===s?void 0:s.map(((e,s)=>{var a;return(null===e||void 0===e||null===(a=e.TaskGroup)||void 0===a?void 0:a.length)>0&&(0,w.jsx)(h,{gobj:e},s)}))]})}),(0,w.jsx)("div",{className:"res-width px-3 py-2",children:(0,w.jsxs)("div",{className:"rounded-4 p-3",style:{backgroundColor:"#E2E4F6",minHeight:r,overflow:"auto"},children:[(0,w.jsxs)("div",{className:"d-flex align-items-center",children:[(0,w.jsx)("span",{className:"flex-grow-1 ps-2 fw-bold ",children:"Level 2"}),1===Number(null===G||void 0===G?void 0:G.add)&&(0,w.jsx)("button",{className:"btn btn-primary rounded-5 px-3 fa-13 shadow d-flex align-items-center",disabled:0===(null===a||void 0===a?void 0:a.LevelOneTasks.flatMap((e=>null===e||void 0===e?void 0:e.TaskGroup)).length),onClick:()=>{he(!1),te((0,l.c)((0,l.c)({},de),{},{Sch_Id:null===a||void 0===a?void 0:a.Sch_Id,Levl_Id:2})),X(null===a||void 0===a?void 0:a.LevelOneTasks.flatMap((e=>null===e||void 0===e?void 0:e.TaskGroup)))},children:"Assign Task"})]}),null===a||void 0===a?void 0:a.LevelTwoTasks.map(((e,s)=>{var a;return(null===e||void 0===e||null===(a=e.TaskGroup)||void 0===a?void 0:a.length)>0&&(0,w.jsx)(m,{gobjlvl2:e},s)}))]})}),(0,w.jsx)("div",{className:"res-width px-3 py-2",children:(0,w.jsxs)("div",{className:"rounded-4 p-3",style:{backgroundColor:"#B4D2E7",minHeight:r,overflow:"auto"},children:[(0,w.jsxs)("div",{className:"d-flex align-items-center",children:[(0,w.jsx)("span",{className:"flex-grow-1 ps-2 fw-bold ",children:"Level 3"}),1===Number(null===G||void 0===G?void 0:G.add)&&(0,w.jsx)("button",{className:"btn btn-primary rounded-5 px-3 fa-13 shadow d-flex align-items-center",disabled:0===(null===a||void 0===a?void 0:a.LevelTwoTasks.flatMap((e=>null===e||void 0===e?void 0:e.TaskGroup)).length),onClick:()=>{he(!1),te((0,l.c)((0,l.c)({},de),{},{Sch_Id:null===a||void 0===a?void 0:a.Sch_Id,Levl_Id:3})),X(null===a||void 0===a?void 0:a.LevelTwoTasks.flatMap((e=>null===e||void 0===e?void 0:e.TaskGroup)))},children:"Assign Task"})]}),a.LevelThreeTasks.map(((e,s)=>{var a;return(null===e||void 0===e||null===(a=e.TaskGroup)||void 0===a?void 0:a.length)>0&&(0,w.jsx)(_,{gobjlvl3:e},s)}))]})})]})]})})};return 1===Number(null===G||void 0===G?void 0:G.read)&&(0,w.jsxs)(w.Fragment,{children:[(0,w.jsxs)("div",{className:"cus-card p-3",children:[(0,w.jsxs)("div",{className:"d-flex align-items-center",children:[(0,w.jsx)("h5",{className:" flex-grow-1 mb-0 text-muted fa-16 ps-2",children:"Create New Schedule"}),1===Number(null===G||void 0===G?void 0:G.add)&&(0,w.jsxs)("button",{className:"btn btn-primary rounded-5 px-3 fa-13 shadow d-flex align-items-center me-2",onClick:()=>ue(),children:[(0,w.jsx)(b.c,{className:"fa-in me-2"})," Add"]}),(0,w.jsxs)("button",{className:"btn btn-secondary rounded-5 px-3 fa-13 shadow d-flex align-items-center",onClick:()=>P("/taskManagement/projectActivity"),children:[(0,w.jsx)(g.c,{className:"fa-in me-2"})," Back"]})]}),(0,w.jsxs)("h6",{className:"my-2 d-flex align-items-center",children:[(0,w.jsx)("span",{className:"rounded-5 mx-2 ".concat(pe(1)),style:{padding:"5.2px"}}),"New",(0,w.jsx)("span",{className:"rounded-5 mx-2 ".concat(pe(2)),style:{padding:"5.2px"}}),"Progress",(0,w.jsx)("span",{className:"rounded-5 mx-2 ".concat(pe(3)),style:{padding:"5.2px"}}),"Completed",(0,w.jsx)("span",{className:"rounded-5 mx-2 ".concat(pe(4)),style:{padding:"5.2px"}}),"Canceled"]})]}),W.map(((e,s)=>(0,w.jsx)(xe,{obj:e,SNo:s+1},s))),(0,w.jsxs)(c.c,{open:re.scheduleCreate,onClose:()=>ue(),maxWidth:"sm",fullWidth:!0,children:[(0,w.jsx)(r.c,{className:"fa-18",children:ne?"Change Schedule":"Create Schedule"}),(0,w.jsx)(v.c,{children:(0,w.jsx)("table",{className:"table",children:(0,w.jsxs)("tbody",{children:[(0===Number(null===I||void 0===I?void 0:I.UserTypeId)||1===Number(null===I||void 0===I?void 0:I.UserTypeId))&&(0,w.jsxs)("tr",{children:[(0,w.jsx)("td",{className:"border-bottom-0 fa-15",style:{verticalAlign:"middle"},children:"Scheduled By"}),(0,w.jsx)("td",{className:"border-bottom-0 fa-15",children:(0,w.jsx)("select",{className:"cus-inpt",value:ae.Sch_By,onChange:e=>le((0,l.c)((0,l.c)({},ae),{},{Sch_By:e.target.value})),children:F.map(((e,s)=>(0,w.jsx)("option",{value:null===e||void 0===e?void 0:e.UserId,children:null===e||void 0===e?void 0:e.Name},s)))})})]}),(0,w.jsxs)("tr",{children:[(0,w.jsx)("td",{className:"border-bottom-0 fa-15",style:{verticalAlign:"middle"},children:" Date"}),(0,w.jsx)("td",{className:"border-bottom-0 fa-15",children:(0,w.jsx)("input",{type:"date",className:"cus-inpt",value:ae.Sch_Date,onChange:e=>le((0,l.c)((0,l.c)({},ae),{},{Sch_Date:e.target.value}))})})]}),(0,w.jsxs)("tr",{children:[(0,w.jsx)("td",{className:"border-bottom-0 fa-15",style:{verticalAlign:"middle"},children:"Type"}),(0,w.jsx)("td",{className:"border-bottom-0 fa-15",children:(0,w.jsx)("select",{className:"cus-inpt",value:ae.Sch_Type_Id,onChange:e=>le((0,l.c)((0,l.c)({},ae),{},{Sch_Type_Id:e.target.value})),children:z.map(((e,s)=>(0,w.jsx)("option",{value:null===e||void 0===e?void 0:e.Sch_Type_Id,children:(null===e||void 0===e?void 0:e.Sch_Type)+" ("+(null===e||void 0===e?void 0:e.Sch_Days)+" Day)"},s)))})})]}),(0,w.jsxs)("tr",{children:[(0,w.jsx)("td",{className:"border-bottom-0 fa-15",style:{verticalAlign:"middle"},children:"Status"}),(0,w.jsx)("td",{className:"border-bottom-0 fa-15",children:(0,w.jsx)("select",{className:"cus-inpt",value:ae.Sch_Status,onChange:e=>le((0,l.c)((0,l.c)({},ae),{},{Sch_Status:e.target.value})),children:H.map(((e,s)=>(0,w.jsx)("option",{value:null===e||void 0===e?void 0:e.Status_Id,children:null===e||void 0===e?void 0:e.Status},s)))})})]}),(0,w.jsxs)("tr",{children:[(0,w.jsx)("td",{className:"border-bottom-0 fa-15",style:{verticalAlign:"middle"},children:"Start Date"}),(0,w.jsx)("td",{className:"border-bottom-0 fa-15",children:(0,w.jsx)("input",{type:"date",className:"cus-inpt",value:ae.Sch_Est_Start_Date,onChange:e=>le((0,l.c)((0,l.c)({},ae),{},{Sch_Est_Start_Date:e.target.value}))})})]})]})})}),(0,w.jsxs)(u.c,{children:[(0,w.jsx)(h.c,{onClick:()=>ue(),children:"cancel"}),(0,w.jsx)(h.c,{onClick:()=>{(0,C.q)({address:"taskManagement/project/schedule",method:ne?"PUT":"POST",headers:{"Content-Type":"application/json"},bodyData:ae}).then((e=>{e.success?(N.m4.success(e.message),ce(!oe)):N.m4.error(e.message)})).catch((e=>console.error)).finally((()=>ue()))},children:ne?"Update":"Create"})]})]}),(0,w.jsxs)(c.c,{open:null===re||void 0===re?void 0:re.taskSchedule,onClose:()=>he(!0),maxWidth:"sm",fullWidth:!0,children:[(0,w.jsx)(r.c,{children:ne?"Manage Task":"Assign Task"}),(0,w.jsxs)("form",{onSubmit:e=>{e.preventDefault(),(()=>{if(de.Task_Id){if(1!==Number(null===de||void 0===de?void 0:de.Levl_Id)&&""===de.Task_Depend_Level_Id)return N.m4.warn("Select Dependency Tasks");(0,C.q)({address:"taskManagement/project/schedule/scheduleTask",method:ne?"PUT":"POST",headers:{"Content-Type":"application/json"},bodyData:de}).then((e=>{e.success?(N.m4.success(e.message),he(!0),ce(!oe)):N.m4.error(e.message)})).catch((e=>console.error(e)))}else N.m4.warn("Select Task")})()},children:[(0,w.jsxs)(v.c,{children:[(0,w.jsx)("table",{className:"table",children:(0,w.jsxs)("tbody",{children:[(0,w.jsxs)("tr",{children:[(0,w.jsx)("td",{className:"border-bottom-0 fa-15",style:{verticalAlign:"middle"},children:"Task"}),(0,w.jsx)("td",{className:"border-bottom-0 fa-15",children:(0,w.jsx)(f.cp,{value:{value:null===de||void 0===de?void 0:de.Task_Id,label:null===de||void 0===de?void 0:de.TasksGet},onChange:e=>te((0,l.c)((0,l.c)({},de),{},{Task_Id:e.value,TasksGet:e.label})),options:[...J.map((e=>({value:e.Task_Id,label:e.Task_Name})))],styles:y.cF,isSearchable:!0,required:!0,placeholder:"Select Task"})})]}),(0,w.jsxs)("tr",{children:[(0,w.jsx)("td",{className:"border-bottom-0 fa-15",style:{verticalAlign:"middle"},children:"Task Type"}),(0,w.jsx)("td",{className:"border-bottom-0 fa-15",children:(0,w.jsx)("select",{className:"cus-inpt",value:null===de||void 0===de?void 0:de.Type_Task_Id,required:!0,onChange:e=>te((0,l.c)((0,l.c)({},de),{},{Type_Task_Id:e.target.value})),children:Z.map(((e,s)=>(0,w.jsx)("option",{value:null===e||void 0===e?void 0:e.Task_Type_Id,children:null===e||void 0===e?void 0:e.Task_Type},s)))})})]}),(0,w.jsxs)("tr",{children:[(0,w.jsx)("td",{className:"border-bottom-0 fa-15",style:{verticalAlign:"middle"},children:"Start Date"}),(0,w.jsx)("td",{className:"border-bottom-0 fa-15",children:(0,w.jsx)("input",{type:"date",className:"cus-inpt",required:!0,value:(null===de||void 0===de?void 0:de.Task_Est_Start_Date)&&new Date(null===de||void 0===de?void 0:de.Task_Est_Start_Date).toISOString().split("T")[0],onChange:e=>te((0,l.c)((0,l.c)({},de),{},{Task_Est_Start_Date:e.target.value}))})})]}),(0,w.jsxs)("tr",{children:[(0,w.jsx)("td",{className:"border-bottom-0 fa-15",style:{verticalAlign:"middle"},children:"End Date"}),(0,w.jsx)("td",{className:"border-bottom-0 fa-15",children:(0,w.jsx)("input",{type:"date",className:"cus-inpt",required:!0,min:null===de||void 0===de?void 0:de.Task_Est_Start_Date,value:(null===de||void 0===de?void 0:de.Task_Est_End_Date)&&new Date(null===de||void 0===de?void 0:de.Task_Est_End_Date).toISOString().split("T")[0],onChange:e=>te((0,l.c)((0,l.c)({},de),{},{Task_Est_End_Date:e.target.value}))})})]}),(0,w.jsxs)("tr",{children:[(0,w.jsx)("td",{className:"border-bottom-0 fa-15",style:{verticalAlign:"middle"},children:"Start Time"}),(0,w.jsx)("td",{className:"border-bottom-0 fa-15",children:(0,w.jsx)("input",{type:"time",className:"cus-inpt",value:null===de||void 0===de?void 0:de.Task_Start_Time,required:!0,onChange:e=>te((0,l.c)((0,l.c)({},de),{},{Task_Start_Time:e.target.value}))})})]}),(0,w.jsxs)("tr",{children:[(0,w.jsx)("td",{className:"border-bottom-0 fa-15",style:{verticalAlign:"middle"},children:"End Time"}),(0,w.jsx)("td",{className:"border-bottom-0 fa-15",children:(0,w.jsx)("input",{type:"time",className:"cus-inpt",required:!0,min:null===de||void 0===de?void 0:de.Task_Start_Time,value:null===de||void 0===de?void 0:de.Task_End_Time,onChange:e=>te((0,l.c)((0,l.c)({},de),{},{Task_End_Time:e.target.value}))})})]}),ne&&(0,w.jsxs)("tr",{children:[(0,w.jsx)("td",{className:"border-bottom-0 fa-15",style:{verticalAlign:"middle"},children:"Status"}),(0,w.jsx)("td",{className:"border-bottom-0 fa-15",children:(0,w.jsx)("select",{className:"cus-inpt",value:de.Task_Sch_Status,required:!0,onChange:e=>te((0,l.c)((0,l.c)({},de),{},{Task_Sch_Status:e.target.value})),children:H.map(((e,s)=>(0,w.jsx)("option",{value:null===e||void 0===e?void 0:e.Status_Id,children:null===e||void 0===e?void 0:e.Status},s)))})})]})]})}),1!==Number(null===de||void 0===de?void 0:de.Levl_Id)&&(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)("label",{className:"mb-2",children:"Select Dependency Tasks"}),(0,w.jsx)(m.c,{multiple:!0,id:"checkboxes-tags-demo",options:$,disableCloseOnSelect:!0,getOptionLabel:e=>null===e||void 0===e?void 0:e.TaskNameGet,value:ee,onChange:(e,s)=>se(s),renderOption:(e,s,a)=>{let{selected:d}=a;return(0,w.jsxs)("li",(0,l.c)((0,l.c)({},e),{},{children:[(0,w.jsx)(_.c,{icon:A,checkedIcon:M,style:{marginRight:8},checked:d}),null===s||void 0===s?void 0:s.TaskNameGet]}))},style:{width:"100%"},isOptionEqualToValue:(e,s)=>Number(null===e||void 0===e?void 0:e.Task_Levl_Id)===Number(null===s||void 0===s?void 0:s.Task_Levl_Id),renderInput:e=>(0,w.jsx)(p.c,(0,l.c)((0,l.c)({},e),{},{label:"Tasks",placeholder:"Select Dependency Tasks"}))})]})]}),(0,w.jsxs)(u.c,{children:[(0,w.jsx)(h.c,{type:"button",onClick:()=>he(!0),children:"close"}),(0,w.jsx)(h.c,{type:"submit",children:ne?"Update":"Assign Task"})]})]})]}),(0,w.jsxs)(c.c,{open:null===re||void 0===re?void 0:re.scheduleDelete,onClose:()=>me(),children:[(0,w.jsx)(r.c,{children:"Confirmation"}),(0,w.jsx)(v.c,{children:"Do you want to delete the Schedule?"}),(0,w.jsxs)(u.c,{children:[(0,w.jsx)(h.c,{onClick:()=>me(),children:"cancel"}),(0,w.jsx)(h.c,{onClick:()=>{(0,C.q)({address:"taskManagement/project/schedule",method:"DELETE",headers:{"Content-Type":"application/json"},bodyData:ae}).then((e=>{e.success?(N.m4.success(e.message),ce(!oe)):N.m4.error(e.message)})).catch((e=>console.error)).finally((()=>me()))},children:"Delete"})]})]}),(0,w.jsxs)(c.c,{open:null===re||void 0===re?void 0:re.taskDelete,onClose:()=>_e(),children:[(0,w.jsx)(r.c,{children:"Confirmation"}),(0,w.jsx)(v.c,{children:"Do you want to delete the Task?"}),(0,w.jsxs)(u.c,{children:[(0,w.jsx)(h.c,{onClick:()=>_e(),children:"cancel"}),(0,w.jsx)(h.c,{onClick:()=>{(0,C.q)({address:"taskManagement/project/schedule/scheduleTask",method:"DELETE",headers:{"Content-Type":"application/json"},bodyData:de}).then((e=>{e.success?(N.m4.success(e.message),ce(!oe)):N.m4.error(e.message)})).catch((e=>console.error(e))).finally((()=>_e()))},children:"Delete"})]})]})]})}},96064:(e,s,a)=>{a.d(s,{c:()=>t});var l=a(27664),d=a(82496);const t=(0,l.c)((0,d.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"}),"Add")},22727:(e,s,a)=>{a.d(s,{c:()=>t});var l=a(27664),d=a(82496);const t=(0,l.c)((0,d.jsx)("path",{d:"m12 8-6 6 1.41 1.41L12 10.83l4.59 4.58L18 14z"}),"ExpandLess")},99768:(e,s,a)=>{a.d(s,{c:()=>t});var l=a(27664),d=a(82496);const t=(0,l.c)((0,d.jsx)("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"ExpandMore")},33808:(e,s,a)=>{a.d(s,{c:()=>t});var l=a(27664),d=a(82496);const t=(0,l.c)((0,d.jsx)("path",{d:"M15.41 16.59 10.83 12l4.58-4.59L14 6l-6 6 6 6z"}),"KeyboardArrowLeft")}}]);
//# sourceMappingURL=1952.0eee202a.chunk.js.map
"use strict";(self.webpackChunkerp=self.webpackChunkerp||[]).push([[7016,3692,1312],{57016:(e,a,s)=>{s.r(a),s.d(a,{default:()=>g});var l=s(30800),t=s(69060),n=s(86e3),c=s(41459),r=s(46864),d=s(27664),o=s(82496);const i=(0,d.c)((0,o.jsx)("path",{d:"M15.41 7.41 14 6l-6 6 6 6 1.41-1.41L10.83 12z"}),"ChevronLeft");var m=s(96064),u=s(56480),h=s(5548),p=s(60476),v=s(43692),x=s(84436),j=s(39308),N=s(1908);const b=e=>{let{emp:a,edit:s,del:l,setVal:d}=e;const[i,m]=(0,t.useState)(!1);return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("div",{className:"card-header fa-16 d-flex align-items-center justify-content-between",children:[(0,o.jsx)("span",{className:"fw-bold",children:a.Emp_Name}),(0,o.jsxs)("span",{children:[a.Designation_Name+" ",!0===s&&(0,o.jsx)(h.c,{size:"small",onClick:()=>d(a,"PUT"),children:(0,o.jsx)(n.c,{})}),(0,o.jsx)(h.c,{onClick:()=>m(!i),children:i?(0,o.jsx)(c.c,{}):(0,o.jsx)(r.c,{})})]})]}),(0,o.jsx)(p.c,{in:i,timeout:"auto",unmountOnExit:!0,children:(0,o.jsx)("div",{className:"card-body",children:(0,o.jsxs)("div",{className:"row",children:[(0,o.jsxs)("div",{className:"col-lg-4 col-md-12 p-2 ",children:[(0,o.jsxs)("h3",{className:"h6",children:[(0,o.jsx)("span",{className:"float-start",children:"Branch"}),(0,o.jsx)("span",{className:"float-end",children:a.BranchName?a.BranchName:"-"})]}),(0,o.jsx)("br",{}),(0,o.jsxs)("h3",{className:"h6",children:[(0,o.jsx)("span",{className:"float-start",children:"Salary"}),(0,o.jsx)("span",{className:"float-end",children:a.Salary?a.Salary:"-"})]}),(0,o.jsx)("br",{}),(0,o.jsxs)("h3",{className:"h6",children:[(0,o.jsx)("span",{className:"float-start",children:"Joining"}),(0,o.jsx)("span",{className:"float-end",children:a.DOJ?(0,j.uy)(a.DOJ):"-"})]}),(0,o.jsx)("br",{}),(0,o.jsxs)("h3",{className:"h6",children:[(0,o.jsx)("span",{className:"float-start",children:"Education"}),(0,o.jsx)("span",{className:"float-end",children:a.Education?a.Education:"-"})]}),(0,o.jsx)("br",{}),(0,o.jsxs)("h3",{className:"h6",children:[(0,o.jsx)("span",{className:"float-start",children:"Mobile"}),(0,o.jsx)("span",{className:"float-end",children:a.Mobile_No?a.Mobile_No:"-"})]})]}),(0,o.jsxs)("div",{className:"col-lg-4 col-md-12 p-2 ",children:[(0,o.jsxs)("h3",{className:"h6",children:[(0,o.jsx)("span",{className:"float-start",children:"City"}),(0,o.jsx)("span",{className:"float-end",children:a.City?a.City:"-"})]}),(0,o.jsx)("br",{}),(0,o.jsxs)("h3",{className:"h6",children:[(0,o.jsx)("span",{className:"float-start",children:"PinCode"}),(0,o.jsx)("span",{className:"float-end",children:a.Pincode?a.Pincode:"-"})]}),(0,o.jsx)("br",{}),(0,o.jsxs)("h3",{className:"h6",children:[(0,o.jsx)("span",{className:"float-start",children:"Gender"}),(0,o.jsx)("span",{className:"float-end",children:a.Sex?a.Sex:"-"})]}),(0,o.jsx)("br",{}),(0,o.jsxs)("h3",{className:"h6",children:[(0,o.jsx)("span",{className:"float-start",children:"DOB"}),(0,o.jsx)("span",{className:"float-end",children:a.DOB?(0,j.uy)(a.DOB):"-"})]}),(0,o.jsx)("br",{}),(0,o.jsxs)("h3",{className:"h6",children:[(0,o.jsx)("span",{className:"float-start",children:"Religion"}),(0,o.jsx)("span",{className:"float-end",children:a.Emp_Religion?a.Emp_Religion:"-"})]})]}),(0,o.jsxs)("div",{className:"col-lg-4 col-md-12 p-2 ",children:[(0,o.jsxs)("h3",{className:"h6",children:[(0,o.jsx)("span",{className:"float-start",children:"Father's Name"}),(0,o.jsx)("span",{className:"float-end",children:a.Fathers_Name?a.Fathers_Name:"-"})]}),(0,o.jsx)("br",{}),(0,o.jsxs)("h3",{className:"h6",children:[(0,o.jsx)("span",{className:"float-start",children:"Mother's Name"}),(0,o.jsx)("span",{className:"float-end",children:a.Mothers_Name?a.Mothers_Name:"-"})]}),(0,o.jsx)("br",{}),(0,o.jsxs)("h3",{className:"h6",children:[(0,o.jsx)("span",{className:"float-start",children:"Spouse's Name"}),(0,o.jsx)("span",{className:"float-end",children:a.Spouse_Name?a.Spouse_Name:"-"})]}),(0,o.jsx)("br",{}),(0,o.jsxs)("h3",{className:"h6",children:[(0,o.jsx)("span",{className:"float-start",children:"Address 1"}),(0,o.jsx)("span",{className:"float-end",style:{width:"50%",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",textAlign:"right"},children:a.Address_1?a.Address_1:"-"})]}),(0,o.jsx)("br",{}),(0,o.jsxs)("h3",{className:"h6",children:[(0,o.jsx)("span",{className:"float-start",children:"Address 2"}),(0,o.jsx)("span",{className:"float-end",style:{width:"50%",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",textAlign:"right"},children:a.Address_2?a.Address_2:"-"})]}),(0,o.jsx)("br",{}),(0,o.jsxs)("h3",{className:"h6",children:[(0,o.jsx)("span",{className:"float-start",children:"Department Name"}),(0,o.jsx)("span",{className:"float-end",children:a.Department?a.Department:"-"})]}),(0,o.jsx)("br",{}),(0,o.jsxs)("h3",{className:"h6",children:[(0,o.jsx)("span",{className:"float-start",children:"Location"}),(0,o.jsx)("span",{className:"float-end",children:a.Location?a.Location:"-"})]})]})]})})})]})},g=()=>{const e=JSON.parse(localStorage.getItem("user")),a={branch:"",empname:"",designation:"",dob:(0,j.Q7)(),doj:(0,j.Q7)(),address1:"",address2:"",city:"",country:"India",pincode:"",mobile:"",education:"",father:"",mother:"",spouse:"",gender:"",religion:"",salary:0,total_loan:0,salary_advance:0,due_loan:0,user_manage_id:"",enter_by:parseInt(null===e||void 0===e?void 0:e.UserId),fingerPrintEmpId:null,Department_ID:"",department:"",location:""},[s,n]=(0,t.useState)(a),[c,r]=(0,t.useState)([]),[d,h]=(0,t.useState)([]),[p,g]=(0,t.useState)([]),[f,y]=(0,t.useState)([]),[S,_]=(0,t.useState)([]),C="cus-inpt b-0",[D,E]=(0,t.useState)(!1),[M,w]=(0,t.useState)(!1),[I,A]=(0,t.useState)(""),[q,L]=(0,t.useState)(""),[O,B]=(0,t.useState)(!1);function F(e){e.target.value=e.target.value.replace(/[^0-9]/g,"")}(0,t.useEffect)((()=>{(0,N.q)({address:"userModule/employee"}).then((e=>{e.success&&r(e.data)})).catch((e=>console.log(e)))}),[O]),(0,t.useEffect)((()=>{(0,N.q)({address:"masters/branch/dropDown?User_Id=".concat(null===e||void 0===e?void 0:e.UserId,"&Company_id=").concat(null===e||void 0===e?void 0:e.Company_id)}).then((e=>{e.success&&y(e.data)})).catch((e=>console.log(e))),(0,N.q)({address:"userModule/employee/designation"}).then((e=>{e.success&&_(e.data)})).catch((e=>console.log(e))),(0,N.q)({address:"userModule/employee/department"}).then((e=>{e.success&&h(e.data)})).catch((e=>console.log(e))),(0,N.q)({address:"empAttendance/department"}).then((e=>{e.success&&(console.log("Data",e),h(e.others.department))})).catch((e=>console.log(e)))}),[]),(0,t.useEffect)((()=>{const e=c.filter((e=>Object.values(e).some((e=>String(e).toLowerCase().includes(I.toLowerCase())))));g(e)}),[I,c]);const P=()=>{n(a)},k=[{label:"Name",elem:"input",type:"text",class:C,placeholder:"Enter Name",event:e=>n((0,l.c)((0,l.c)({},s),{},{empname:e.target.value})),required:!0,value:s.empname},{label:"Designation",elem:"select",class:C,options:[{value:"",label:" - Select - ",disabled:!0,selected:!0},...S.map((e=>({value:e.id,label:e.Designation})))],event:e=>n((0,l.c)((0,l.c)({},s),{},{designation:e.target.value})),required:!0,value:s.designation},{label:"Mobile",elem:"input",oninput:e=>F(e),class:C,placeholder:"Enter Mobile Number",event:e=>n((0,l.c)((0,l.c)({},s),{},{mobile:e.target.value})),required:M,value:s.mobile,max:10},{label:"Attendance Id (Finger Print)",elem:"input",class:C,placeholder:"Enter Employee Attendance Master Id",event:e=>n((0,l.c)((0,l.c)({},s),{},{fingerPrintEmpId:e.target.value})),value:s.fingerPrintEmpId},{label:"Salary Type",elem:"select",class:C,options:[{value:"",label:" - Select - ",disabled:!0,selected:!0},...d.map((e=>({value:e.DepartmentId,label:e.DepartmentFName})))],event:e=>n((0,l.c)((0,l.c)({},s),{},{Department_ID:e.target.value})),required:!0,value:s.Department_ID},{label:"Education",elem:"input",type:"text",class:C,placeholder:"Enter Education",event:e=>n((0,l.c)((0,l.c)({},s),{},{education:e.target.value})),value:s.education},{label:"Date of Birth",elem:"input",type:"date",class:C,placeholder:"Select Date of Birth",event:e=>n((0,l.c)((0,l.c)({},s),{},{dob:e.target.value})),value:s.dob},{label:"Date of Joining",elem:"input",type:"date",class:C,placeholder:"Select Date of Joining",event:e=>n((0,l.c)((0,l.c)({},s),{},{doj:e.target.value})),value:s.doj},{label:"Gender",elem:"select",class:C,options:[{value:"",label:" - Select - ",disabled:!0,selected:!0},{value:"Male",label:"Male"},{value:"Female",label:"Female"},{value:"Other",label:"Other"}],event:e=>n((0,l.c)((0,l.c)({},s),{},{gender:e.target.value})),required:!0,value:s.gender},{label:"Religion",elem:"select",class:C,options:[{value:"",label:" - Select - ",disabled:!0,selected:!0},{value:"Hindu",label:"Hindu"},{value:"Muslim",label:"Muslim"},{value:"Christian",label:"Christian"},{value:"Other",label:"Other"}],event:e=>n((0,l.c)((0,l.c)({},s),{},{religion:e.target.value})),value:s.religion},{label:"Branch",elem:"select",class:C,options:[{value:"",label:" - Select - ",disabled:!0,selected:!0},...f.map((e=>({value:e.BranchId,label:e.BranchName})))],event:e=>n((0,l.c)((0,l.c)({},s),{},{branch:parseInt(e.target.value)})),required:!0,value:s.branch},{label:"Salary",elem:"input",oninput:e=>F(e),class:C,placeholder:"Enter Salary",event:e=>n((0,l.c)((0,l.c)({},s),{},{salary:e.target.value})),required:!0,value:s.salary},{label:"Father's Name",elem:"input",type:"text",class:C,placeholder:"Enter Father's Name",event:e=>n((0,l.c)((0,l.c)({},s),{},{father:e.target.value})),value:s.father},{label:"Mother's Name",elem:"input",type:"text",class:C,placeholder:"Enter Mother's Name",event:e=>n((0,l.c)((0,l.c)({},s),{},{mother:e.target.value})),value:s.mother},{label:"Spouse's Name",elem:"input",type:"text",class:C,placeholder:"Enter Spouse's Name",event:e=>n((0,l.c)((0,l.c)({},s),{},{spouse:e.target.value})),value:s.spouse},{label:"City",elem:"input",type:"text",class:C,placeholder:"Enter City",event:e=>n((0,l.c)((0,l.c)({},s),{},{city:e.target.value})),required:!0,value:s.city},{label:"Pincode",elem:"input",oninput:e=>F(e),class:C,placeholder:"Enter Pincode",event:e=>n((0,l.c)((0,l.c)({},s),{},{pincode:e.target.value})),value:s.pincode,max:6},{label:"Address Line 1",elem:"textarea",type:"text",class:C,placeholder:"Enter Address Line 1",event:e=>n((0,l.c)((0,l.c)({},s),{},{address1:e.target.value})),required:!0,value:s.address1},{label:"Address Line 2",elem:"textarea",type:"text",class:C,placeholder:"Enter Address Line 2",event:e=>n((0,l.c)((0,l.c)({},s),{},{address2:e.target.value})),value:s.address2},{label:"Department Name",elem:"dataset",list:"departmentList",class:C,placeholder:"Type or Search Department Name",event:e=>n((0,l.c)((0,l.c)({},s),{},{department:e.target.value})),required:!0,value:s.department,options:d&&d.length>0?d:[{value:"",label:" - No Departments Available - ",disabled:!0}]},{label:"Location",elem:"input",type:"text",class:C,placeholder:"Enter Location",event:e=>n((0,l.c)((0,l.c)({},s),{},{location:e.target.value})),value:s.location}],U=()=>{for(const e of k)if(e.required&&""===e.value)return"".concat(e.label," is required.");return"Success"},R=(a,s)=>{L(a.Emp_Id),"PUT"===s&&(n((s=>(0,l.c)((0,l.c)({},s),{},{branch:null===a||void 0===a?void 0:a.Branch,empname:null===a||void 0===a?void 0:a.Emp_Name,designation:null===a||void 0===a?void 0:a.Designation,dob:null!==a&&void 0!==a&&a.DOB?(0,j.Q7)(null===a||void 0===a?void 0:a.DOB):(0,j.Q7)(),doj:null!==a&&void 0!==a&&a.DOJ?(0,j.Q7)(null===a||void 0===a?void 0:a.DOJ):(0,j.Q7)(),address1:null===a||void 0===a?void 0:a.Address_1,address2:null===a||void 0===a?void 0:a.Address_2,city:null===a||void 0===a?void 0:a.City,country:"India",pincode:null===a||void 0===a?void 0:a.Pincode,mobile:null===a||void 0===a?void 0:a.Mobile_No,education:null===a||void 0===a?void 0:a.Education,father:null===a||void 0===a?void 0:a.Fathers_Name,mother:null===a||void 0===a?void 0:a.Mothers_Name,spouse:null===a||void 0===a?void 0:a.Spouse_Name,gender:null===a||void 0===a?void 0:a.Sex,religion:null===a||void 0===a?void 0:a.Emp_Religion,salary:null===a||void 0===a?void 0:a.Salary,total_loan:null===a||void 0===a?void 0:a.Total_Loan,salary_advance:null===a||void 0===a?void 0:a.Salary_Advance,due_loan:null===a||void 0===a?void 0:a.Due_Loan,user_manage_id:null===a||void 0===a?void 0:a.User_Mgt_Id,enter_by:parseInt(null===e||void 0===e?void 0:e.UserId),fingerPrintEmpId:null===a||void 0===a?void 0:a.fingerPrintEmpId,Department_ID:null===a||void 0===a?void 0:a.Department_ID,department:null===a||void 0===a?void 0:a.Department,location:null===a||void 0===a?void 0:a.Location}))),E(!D))};return(0,o.jsx)(o.Fragment,{children:(0,o.jsxs)(v.c,{children:[(0,o.jsxs)("div",{className:"fa-16 p-2 ps-3 d-flex align-items-center justify-content-between border-bottom fw-bold pb-2 text-primary",children:[(0,o.jsx)("span",{className:"text-uppercase",children:"Employees ( "+c.length+" )"}),(0,o.jsx)("span",{children:(0,o.jsx)("button",{className:"comadbtn mb-0",onClick:()=>{E(!D),L(""),P()},children:D?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(i,{sx:{fontSize:"1em",padding:"0px",margin:"0px"}})," Back"]}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(m.c,{sx:{fontSize:"1em",padding:"0px",margin:"0px"}})," Add Employee"]})})})]}),(0,o.jsx)(x.c,{className:"p-0",children:D?(0,o.jsxs)("div",{className:"p-3",children:[(0,o.jsx)("h2",{className:"h5 mb-0",children:q?"Update Employee":"Create Employee"}),(0,o.jsxs)("div",{className:"row",children:[k.map(((e,a)=>(0,o.jsxs)("div",{className:"col-lg-4 col-md-6 p-2 px-3",children:[(0,o.jsxs)("label",{className:"mb-1 text-dark",children:[e.label,e.required&&(0,o.jsx)("span",{style:{color:"red",fontWeight:"bold",fontSize:"1em"},children:" *"})]}),"input"===e.elem?(0,o.jsx)("input",{type:e.type||"text",className:e.class,onChange:e.event,onInput:e.oninput,disabled:e.disabled,value:e.value,maxLength:e.max}):"select"===e.elem?(0,o.jsx)("select",{className:e.class,onChange:e.event,value:e.value,children:e.options.map(((e,a)=>(0,o.jsx)("option",{value:e.value,disabled:e.disabled,defaultValue:e.selected,children:e.label},a)))}):"textarea"===e.elem?(0,o.jsx)("textarea",{className:e.class,onChange:e.event,rows:1,value:e.value}):"dataset"===e.elem?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("input",{type:"search",className:e.class,list:e.list,placeholder:e.placeholder,value:e.value,onChange:e.event,required:e.required}),(0,o.jsx)("datalist",{id:e.list,children:e.options&&e.options.length>0?e.options.map(((e,a)=>(0,o.jsx)("option",{value:e.value,disabled:e.disabled,children:e.label},a))):(0,o.jsx)("option",{value:"",children:"No options available"})})]}):null]},a))),!q&&(0,o.jsx)("div",{className:"col-lg-4 col-md-6 d-flex align-items-center",children:(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"form-check-label p-1 pe-2",htmlFor:"muser",children:"Create as a User"}),(0,o.jsx)("input",{className:"form-check-input shadow-none",style:{padding:"0.7em"},type:"checkbox",id:"muser",checked:M,onChange:()=>w(!M)})]})})]}),(0,o.jsxs)("div",{className:"d-flex flex-row-reverse",children:[(0,o.jsx)("button",{className:"comadbtn",style:{marginBottom:"0px"},onClick:q?()=>{const e=U();"Success"===e?(0,N.q)({address:"userModule/employee",method:"PUT",bodyData:{data:(0,l.c)((0,l.c)({},s),{},{createAsUser:M}),ID:q}}).then((e=>{e.success?(u.m4.success(e.message),P(),L(""),E(!D),B(!O)):u.m4.error(e.message)})).catch((e=>console.error(e))):u.m4.error(e)}:()=>{const e=U();"Success"===e?(0,N.q)({address:"userModule/employee",method:"POST",bodyData:{data:(0,l.c)((0,l.c)({},s),{},{createAsUser:M}),userMGT:!0}}).then((e=>{e.success?(u.m4.success(e.message),P(),L(""),E(!D),B(!O)):u.m4.error(e.message)})).catch((e=>console.log(e))):u.m4.error(e)},children:"Submit"}),(0,o.jsx)("button",{className:"cancelbtn",onClick:()=>{E(!D),L(""),P()},children:"Cancel"})]})]}):(0,o.jsxs)("div",{style:{maxHeight:"74vh",overflowY:"scroll"},className:"p-3 pe-2",children:[(0,o.jsx)("div",{className:"text-end mb-2",children:(0,o.jsx)("input",{className:"cus-inpt w-auto",type:"search",placeholder:"Search...",value:I,onChange:e=>A(e.target.value)})}),(p&&p.length?p:""===I?c:[]).map((e=>(0,o.jsx)("div",{className:"col-sm-12 card shadow-none mb-2",children:(0,o.jsx)(b,{emp:e,edit:!0,del:!0,setVal:R})},e.Emp_Id)))]})})]})})}},96064:(e,a,s)=>{s.d(a,{c:()=>n});var l=s(27664),t=s(82496);const n=(0,l.c)((0,t.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"}),"Add")},86e3:(e,a,s)=>{s.d(a,{c:()=>n});var l=s(27664),t=s(82496);const n=(0,l.c)((0,t.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"}),"Edit")},84436:(e,a,s)=>{s.d(a,{c:()=>x});var l=s(45072),t=s(95656),n=s(69060),c=s(79736),r=s(21412),d=s(12556),o=s(49836),i=s(10099),m=s(33448);function u(e){return(0,m.cp)("MuiCardContent",e)}(0,i.c)("MuiCardContent",["root"]);var h=s(82496);const p=["className","component"],v=(0,d.cp)("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(e,a)=>a.root})((()=>({padding:16,"&:last-child":{paddingBottom:24}}))),x=n.forwardRef((function(e,a){const s=(0,o.C)({props:e,name:"MuiCardContent"}),{className:n,component:d="div"}=s,i=(0,t.c)(s,p),m=(0,l.c)({},s,{component:d}),x=(e=>{const{classes:a}=e;return(0,r.c)({root:["root"]},u,a)})(m);return(0,h.jsx)(v,(0,l.c)({as:d,className:(0,c.c)(x.root,n),ownerState:m,ref:a},i))}))},43692:(e,a,s)=>{s.d(a,{c:()=>j});var l=s(45072),t=s(95656),n=s(69060),c=s(79736),r=s(21412),d=s(12556),o=s(49836),i=s(85624),m=s(10099),u=s(33448);function h(e){return(0,u.cp)("MuiCard",e)}(0,m.c)("MuiCard",["root"]);var p=s(82496);const v=["className","raised"],x=(0,d.cp)(i.c,{name:"MuiCard",slot:"Root",overridesResolver:(e,a)=>a.root})((()=>({overflow:"hidden"}))),j=n.forwardRef((function(e,a){const s=(0,o.C)({props:e,name:"MuiCard"}),{className:n,raised:d=!1}=s,i=(0,t.c)(s,v),m=(0,l.c)({},s,{raised:d}),u=(e=>{const{classes:a}=e;return(0,r.c)({root:["root"]},h,a)})(m);return(0,p.jsx)(x,(0,l.c)({className:(0,c.c)(u.root,n),elevation:d?8:void 0,ref:a,ownerState:m},i))}))}}]);
//# sourceMappingURL=7016.6ac16ba9.chunk.js.map
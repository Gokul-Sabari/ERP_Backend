"use strict";(self.webpackChunkerp=self.webpackChunkerp||[]).push([[7192],{78688:(e,l,a)=>{a.d(l,{c:()=>u});var t=a(69060),i=a(3358),s=a(82656),n=a(26773),d=a(5548),o=a(4488),r=a(14499),c=a(82496);const u=e=>{const[l,a]=(0,t.useState)(!1),{url:u}=e,m=()=>{a(!1)};return(0,c.jsxs)("span",{children:[(0,c.jsx)(i.c,{title:"Tap to Open",children:(0,c.jsx)("span",{onClick:()=>{a(!0)},style:{cursor:"pointer"},children:e.children})}),(0,c.jsxs)(s.c,{open:l,onClose:m,fullWidth:!0,maxWidth:"lg",children:[(0,c.jsxs)(n.c,{className:"bg-dark text-white d-flex justify-content-between",children:[(0,c.jsx)("span",{children:"Image Preview"}),(0,c.jsx)(d.c,{onClick:m,children:(0,c.jsx)(r.c,{sx:{color:"white"}})})]}),(0,c.jsx)(o.c,{className:"bg-dark pb-4 d-flex align-items-center justify-content-center",children:(0,c.jsx)("img",{src:u,alt:"Preview",style:{maxWidth:"100%",maxHeight:"100%"}})})]})]})}},62344:(e,l,a)=>{a.d(l,{o$:()=>d,o5:()=>o,cF:()=>n,iI:()=>s});var t=a(30800);const i=a.p+"static/media/smt.aa4d4f940bbebff07a57.png",s={table:{style:{width:"auto",backgroundColor:"transparent"}},rows:{style:{backgroundColor:"transparent"}},headCells:{style:{backgroundColor:"#6b9080f8",color:"white",fontSize:"14px"}}},n={menu:(e,l)=>(0,t.c)((0,t.c)({},e),{},{zIndex:9999}),menuPortal:e=>(0,t.c)((0,t.c)({},e),{},{zIndex:9999}),groupHeading:e=>(0,t.c)((0,t.c)({},e),{},{backgroundColor:"#f5f5f5",color:"#333",fontWeight:"bold",fontSize:"14px",padding:"8px 12px",borderBottom:"1px solid #ddd",textTransform:"uppercase"}),option:(e,l)=>(0,t.c)((0,t.c)({},e),{},{backgroundColor:l.isSelected?"#2684FF":l.isFocused?"#E2ECF9":"white",color:l.isSelected?"white":"#333",padding:"10px 12px"})},d=[{id:1,headname:"Menu ID",variant:"head",align:"left",width:100},{id:2,headname:"MenuName"},{id:3,headname:"Read Rights"},{id:4,headname:"Add Rights"},{id:5,headname:"Edit Rights"},{id:6,headname:"Delete Rights"},{id:7,headname:"Print Rights"},{id:8,headname:"Action"}],o=[{dataBase:1,name:"SHANKAR TRADERS",business:"Wholesale Merchant in Dhall",address:"32, Chitrakara Street, Madurai - 01 <br /> Bill of Supply -Disclaimer Affidavlt Field Extemped",logo:i,gstin:"33AADFS6973R1ZD",phone:"984-313-1353, 984-335-5166",fssai:"12418012000818",bankAccount:"0021 5032 0885 122",ifsc:"TMBL0000002"},{dataBase:2,name:"SMT AGRO PRODUCTS",business:"",address:"H.O: 153, Chitrakara Street, 2nd Floor, Madurai -01 <br /> G.O: 746 Puliyur, Sayanapuram, Svga <br /> Bill of Supply -Disclaimer Affidavlt Field Extemped",logo:i,gstin:"33ACMFS3420Q1ZQ",phone:"0452-4371625",fssai:"12418012000818",bankAccount:"0025 3031 0875 947",ifsc:"TMBL0000002"},{dataBase:3,name:"BHAVANI TRADERS",business:"",address:"H.O: 152-A, Chitrakara Street, Madurai -01 <br /> G.O: 30/1-Rajman Nagar, Chintamani Main Road, Mdu-01 <br /> Tax Invoice",logo:i,gstin:"33AAEFB6728J1ZG",phone:"958-559-7641, 958-559-7614",fssai:"12418012000670",bankAccount:"0021 5005 0800 309",ifsc:"TMBL0000002"}]},79128:(e,l,a)=>{a.r(l),a.d(l,{default:()=>D});var t=a(30800),i=a(69060),s=a(32635),n=a(62344),d=a(3358),o=a(5548),r=a(43692),c=a(50864),u=a(84436),m=a(82656),h=a(26773),v=a(4488),x=a(90048),p=a(89e3),b=a(86e3),j=a(84224),g=a(1571),_=a(19424),C=a(34036),f=a(61988),R=a(96064),y=a(87016),N=a(43564),I=a(45180),A=a(57704),S=a(40656),L=a(56480),P=a(78688),w=a(51560),k=a(1908),E=a(69388),O=a(35832),T=a(82496);const D=e=>{var l,a;let{loadingOn:D,loadingOff:M}=e;const q=JSON.parse(localStorage.getItem("user")),[B,F]=(0,i.useState)([]),[z,G]=(0,i.useState)([]),[U,W]=(0,i.useState)([]),[V,H]=(0,i.useState)([]),[K,$]=(0,i.useState)([]),[Z,J]=(0,i.useState)([]),[Q,X]=(0,i.useState)({}),[Y,ee]=(0,i.useState)(!1),[le,ae]=(0,i.useState)(!1),[te,ie]=(0,i.useState)(!1),[se,ne]=(0,i.useState)(!1),[de,oe]=(0,i.useState)([]),[re,ce]=(0,i.useState)(!1),[ue,me]=(0,i.useState)(!1),[he,ve]=(0,i.useState)({Retailer_Id:"",Retailer_Name:"ALL",ContactPerson_Name:"",PhoneNumber:"",Route_Id:"",Route:"ALL",Area_Id:"",Area:"ALL",City:""}),{isLoaded:xe}=(0,E.s1)({googleMapsApiKey:{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_VERSION:"3.16.1"}.REACT_APP_GOOGLE_API}),pe=Object.entries(he).some((e=>{let[l,a]=e;return a&&""!==a&&!["ALL"].includes(a)}));(0,i.useEffect)((()=>{(async()=>{try{const e=await(0,k.q)({address:"userModule/employeeActivity/maplatitude"});oe(e.data)}catch(e){console.error("Error fetching data:",e)}})()}),[re]);const be={Company_Id:null===q||void 0===q?void 0:q.Company_id,Retailer_Id:"",Retailer_Name:"",Contact_Person:"",Mobile_No:"",Retailer_Channel_Id:"",Retailer_Class:"",Route_Id:"",Area_Id:"",Reatailer_Address:"",Reatailer_City:"",PinCode:"",State_Id:"",Branch_Id:null===q||void 0===q?void 0:q.BranchId,Gstno:"",Created_By:null===q||void 0===q?void 0:q.UserId,Updated_By:null===q||void 0===q?void 0:q.UserId,Latitude:null,Longitude:null,fileName:null,fileType:null,fileSize:null,isVisitedPlace:!1,visitLogID:null},[je,ge]=(0,i.useState)(be),_e=null===(l=(0,w.IT)().state)||void 0===l?void 0:l.retailer,[Ce,fe]=(0,i.useState)({filters:!1,orderDetails:!1});(0,i.useEffect)((()=>{if(_e){const{Reatailer_Name:e,Contact_Person:l,Contact_Mobile:a,Location_Address:i,Latitude:s,Longitude:n,ImageName:d,ImageType:o,ImageSize:r,Id:c}=_e;ge((u=>(0,t.c)((0,t.c)({},u),{},{Retailer_Name:e,Contact_Person:l,Mobile_No:a,Reatailer_Address:i,Latitude:s,Longitude:n,fileName:d,fileSize:r,fileType:o,visitLogID:c,isVisitedPlace:!0}))),ae(!0)}}),[_e]);const Re=()=>{const e=new URLSearchParams((0,t.c)((0,t.c)((0,t.c)((0,t.c)((0,t.c)((0,t.c)({Company_Id:null===q||void 0===q?void 0:q.Company_id,isRetailer:1,isVendor:0},he.Retailer_Id&&{Retailer_Id:he.Retailer_Id}),he.PhoneNumber&&{PhoneNumber:he.PhoneNumber}),he.ContactPerson_Name&&{ContactPerson_Name:he.ContactPerson_Name}),he.Route_Id&&{Route_Id:he.Route_Id}),he.Area_Id&&{Area_Id:he.Area_Id}),he.City&&{City:he.City}));(0,k.q)({address:"masters/retailers?".concat(e.toString())}).then((e=>{e.success&&F(e.data)})).catch((e=>console.error(e)))};(0,i.useEffect)((()=>{Re()}),[Y,null===q||void 0===q?void 0:q.Company_id]),(0,i.useEffect)((()=>{(0,k.q)({address:"masters/areas"}).then((e=>{e.success&&G(e.data)})).catch((e=>console.error(e))),(0,k.q)({address:"masters/outlets"}).then((e=>{e.success&&W(e.data)})).catch((e=>console.error(e))),(0,k.q)({address:"masters/routes"}).then((e=>{e.success&&H(e.data)})).catch((e=>console.error(e))),(0,k.q)({address:"masters/state"}).then((e=>{e.success&&$(e.data)})).catch((e=>console.error(e)))}),[]);const ye=[{name:"Ledger",selector:e=>null===e||void 0===e?void 0:e.Retailer_Name,sortable:!0},{name:"Incharge",selector:e=>null===e||void 0===e?void 0:e.Contact_Person,sortable:!0},{name:"Mobile",selector:e=>e.Mobile_No,sortable:!0},{name:"Area",selector:e=>e.AreaGet,sortable:!0},{name:"Modified By",selector:e=>e.lastModifiedBy,sortable:!0},{name:"Action",cell:e=>{var l,a,i,s;return(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)(d.c,{title:"Edit Retailer",children:(0,T.jsx)("span",{children:(0,T.jsx)(o.c,{size:"small",onClick:()=>{ae(!0),ne(!0);const{Company_Id:l,Retailer_Id:a,Retailer_Name:i,Contact_Person:s,Mobile_No:n,Retailer_Channel_Id:d,Retailer_Class:o,Route_Id:r,Area_Id:c,Reatailer_Address:u,Reatailer_City:m,PinCode:h,State_Id:v,Gstno:x}=e;ge((e=>(0,t.c)((0,t.c)({},e),{},{Company_Id:l,Retailer_Id:a,Retailer_Name:i,Contact_Person:s,Mobile_No:n,Retailer_Channel_Id:d,Retailer_Class:o,Route_Id:r,Area_Id:c,Reatailer_Address:u,Reatailer_City:m,PinCode:h,State_Id:v,Gstno:x})))},children:(0,T.jsx)(b.c,{})})})}),(0,T.jsx)(d.c,{title:"Verify Location",children:(0,T.jsx)("span",{children:(0,T.jsx)(o.c,{size:"small",onClick:()=>{ie(!0),X(e)},disabled:0===(null===e||void 0===e||null===(l=e.AllLocations)||void 0===l?void 0:l.length),children:(0,T.jsx)(j.c,{color:0===(null===e||void 0===e||null===(a=e.AllLocations)||void 0===a?void 0:a.length)?"disabled":"success"})})})}),null!==e&&void 0!==e&&null!==(i=e.VERIFIED_LOCATION)&&void 0!==i&&i.latitude&&null!==e&&void 0!==e&&null!==(s=e.VERIFIED_LOCATION)&&void 0!==s&&s.longitude?(0,T.jsx)(d.c,{title:"Open in Google Map",children:(0,T.jsx)("span",{children:(0,T.jsx)(o.c,{size:"small",onClick:()=>{var l,a;return window.open("https://www.google.com/maps/search/?api=1&query=".concat(null===e||void 0===e||null===(l=e.VERIFIED_LOCATION)||void 0===l?void 0:l.latitude,",").concat(null===e||void 0===e||null===(a=e.VERIFIED_LOCATION)||void 0===a?void 0:a.longitude),"_blank")},className:"btn btn-info fa-14",color:"primary",children:(0,T.jsx)(g.c,{})})})}):(null===e||void 0===e?void 0:e.Latitude)&&e.Longitude&&(0,T.jsx)(d.c,{title:"Open in Google Map",children:(0,T.jsx)("span",{children:(0,T.jsx)(o.c,{size:"small",onClick:()=>window.open("https://www.google.com/maps/search/?api=1&query=".concat(null===e||void 0===e?void 0:e.Latitude,",").concat(null===e||void 0===e?void 0:e.Longitude),"_blank"),className:"btn btn-info fa-14",color:"primary",children:(0,T.jsx)(g.c,{})})})})]})}}],Ne=()=>{ae(!1),ge(be),J(),ne(!1)},Ie=()=>{fe((0,t.c)((0,t.c)({},he),{},{filters:!1,orderDetails:!1}))},Ae=()=>{ie(!1),X({})};function Se(e){e.target.value=e.target.value.replace(/[^0-9]/g,"")}const Le=(e,l)=>{ge((0,t.c)((0,t.c)({},je),{},{[e]:l}))},Pe=[{label:"Retailer Name",elem:"input",placeholder:"",event:e=>Le("Retailer_Name",e.target.value),required:!0,value:je.Retailer_Name},{label:"Contact Person Name",elem:"input",placeholder:"",event:e=>Le("Contact_Person",e.target.value),required:!0,value:je.Contact_Person},{label:"Mobile Number",elem:"input",placeholder:"",oninput:e=>Se(e),event:e=>Le("Mobile_No",e.target.value),required:!0,value:je.Mobile_No,maxLength:10},{label:"Gstno",elem:"input",placeholder:"",event:e=>Le("Gstno",e.target.value),value:je.Gstno,maxLength:15},{label:"Outlet",elem:"select",options:[{value:"",label:"SELECT",disabled:!0,selected:!0},...null===U||void 0===U?void 0:U.map((e=>({value:null===e||void 0===e?void 0:e.Out_Let_Id,label:null===e||void 0===e?void 0:e.Outlet_Type})))],event:e=>Le("Retailer_Channel_Id",e.target.value),required:!0,value:je.Retailer_Channel_Id},{label:"Retailer Class",elem:"select",options:[{value:"",label:"SELECT",disabled:!0,selected:!0},{value:"A",label:"A"},{value:"B",label:"B"},{value:"C",label:"C"}],event:e=>Le("Retailer_Class",e.target.value),required:!0,value:je.Retailer_Class},{label:"Route",elem:"select",options:[{value:"",label:"SELECT",disabled:!0,selected:!0},...null===V||void 0===V?void 0:V.map((e=>({value:null===e||void 0===e?void 0:e.Route_Id,label:null===e||void 0===e?void 0:e.Route_Name})))],event:e=>Le("Route_Id",e.target.value),value:je.Route_Id,required:!0},{label:"Area",elem:"select",options:[{value:"",label:"SELECT",disabled:!0,selected:!0},...null===z||void 0===z?void 0:z.map((e=>({value:null===e||void 0===e?void 0:e.Area_Id,label:null===e||void 0===e?void 0:e.Area_Name})))],event:e=>Le("Area_Id",e.target.value),required:!0,value:je.Area_Id},{label:"City",elem:"input",event:e=>Le("Reatailer_City",e.target.value),value:je.Reatailer_City},{label:"Pincode",elem:"input",placeholder:"",oninput:e=>Se(e),event:e=>Le("PinCode",e.target.value),value:je.PinCode,maxLength:6},{label:"State",elem:"select",options:[{value:"",label:"SELECT",disabled:!0,selected:!0},...null===K||void 0===K?void 0:K.map((e=>({value:null===e||void 0===e?void 0:e.State_Id,label:null===e||void 0===e?void 0:e.State_Name})))],event:e=>Le("State_Id",e.target.value),required:!0,value:je.State_Id},{label:"Address",elem:"textarea",event:e=>Le("Reatailer_Address",e.target.value),required:!0,value:je.Reatailer_Address}];return(0,T.jsxs)(T.Fragment,{children:[(0,T.jsxs)(m.c,{open:ue,onClose:()=>me(!1),fullWidth:!0,maxWidth:"sm",children:[(0,T.jsx)(h.c,{id:"alert-dialog-title",children:"Confirmation"}),(0,T.jsx)(v.c,{children:(0,T.jsxs)("b",{className:"text-muted",children:["Do you want to Delete the user ",(0,T.jsx)("span",{className:"blue-text"}),"?"]})}),(0,T.jsx)(x.c,{children:(0,T.jsx)(p.c,{className:" btn-light",onClick:()=>{ae(!1)},children:"Cancel"})})]}),(0,T.jsxs)(r.c,{sx:{mb:1},children:[(0,T.jsxs)("div",{className:"p-3 pb-0 d-flex align-items-center ",children:[(0,T.jsx)("h6",{className:"fa-18 flex-grow-1 ",children:"Retailers"}),(0,T.jsxs)("div",{className:"d-flex gap-2",children:[(0,T.jsx)(d.c,{title:"Filters",children:(0,T.jsx)(o.c,{size:"small",onClick:()=>fe((0,t.c)((0,t.c)({},Ce),{},{filters:!0})),children:(0,T.jsx)(f.c,{})})}),(0,T.jsx)(p.c,{variant:"outlined",onClick:()=>{(0,k.q)({address:"masters/posRetailersSync"}).then((e=>{e&&L.m4.success(null===e||void 0===e?void 0:e.message)})).catch((e=>console.error(e)))},style:{justifyContent:"space-between"},children:"POS Retailer Sync"}),(0,T.jsx)("br",{}),(0,T.jsx)(p.c,{variant:"outlined",onClick:()=>ce(!0),style:{justifyContent:"space-between"},children:"Retailers Map"}),(0,T.jsx)("br",{}),(0,T.jsx)(p.c,{variant:"outlined",onClick:()=>{if(!B||0===B.length)return void alert("No data available to download.");const e=O.c$.json_to_sheet(B),l=O.c$.book_new();O.c$.book_append_sheet(l,e,"Retailers Data");const a=O.GA(l,{bookType:"xlsx",type:"binary"});const t=new Blob([function(e){const l=new ArrayBuffer(e.length),a=new Uint8Array(l);for(let t=0;t<e.length;t++)a[t]=255&e.charCodeAt(t);return l}(a)],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),i=URL.createObjectURL(t),s=document.createElement("a");s.href=i,s.download="Retailers_Data.xlsx",document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL(i)},children:"DOWNLOAD"}),(0,T.jsx)("br",{}),(0,T.jsx)(p.c,{variant:"outlined",startIcon:(0,T.jsx)(R.c,{}),onClick:()=>ae(!0),children:"Add Retailers"}),(0,T.jsx)(d.c,{title:"Sync Tally LOL",children:(0,T.jsx)(o.c,{onClick:()=>{D&&D(),(0,k.q)({address:"masters/retailers/lolSync",method:"POST"}).then((e=>{e.success?L.m4.success(e.message):L.m4.error(e.message)})).catch((e=>console.error(e))).finally((()=>{M&&M()}))},children:(0,T.jsx)(y.c,{})})})]})]}),(0,T.jsx)(u.c,{children:(0,T.jsx)("div",{className:"rounded-4 overflow-hidden",children:(0,T.jsx)(s.cp,{columns:ye,data:Z&&Object.keys(Z).length>0?Z:B,pagination:!0,highlightOnHover:!0,fixedHeader:!0,fixedHeaderScrollHeight:"60vh",customStyles:n.iI,expandableRows:!0,expandableRowsComponent:e=>{let{data:l}=e;return(0,T.jsx)("div",{className:"p-3",children:(0,T.jsxs)(r.c,{sx:{display:"flex",mb:1},children:[(0,T.jsx)(P.c,{url:null===l||void 0===l?void 0:l.imageUrl,children:(0,T.jsx)(c.c,{component:"img",sx:{width:350},image:null===l||void 0===l?void 0:l.imageUrl,alt:"retailer_picture"})}),(0,T.jsxs)(u.c,{sx:{display:"flex",flexDirection:"column",justifyContent:"center",width:"100%"},children:[(0,T.jsx)("h6",{className:"mb-2 fa-16 fw-bold text-primary",children:null===l||void 0===l?void 0:l.Reatailer_Address}),(0,T.jsxs)("p",{className:"fw-bold fa-14 text-muted",children:["Route: ",null===l||void 0===l?void 0:l.RouteGet]}),(0,T.jsxs)("p",{className:"fw-bold fa-14 text-muted",children:["Class: ",null===l||void 0===l?void 0:l.Retailer_Class]}),(0,T.jsxs)("p",{className:"fw-bold fa-14 text-muted",children:["Created:"," ",null!==l&&void 0!==l&&l.Created_Date?new Date(null===l||void 0===l?void 0:l.Created_Date).toLocaleDateString("en-IN"):"--:--:--","\xa0 - \xa0",null===l||void 0===l?void 0:l.createdBy]}),(0,T.jsxs)("p",{children:[(0,T.jsx)(_.c,{className:"fa-13 text-primary"})," ",null===l||void 0===l?void 0:l.Contact_Person]}),(0,T.jsxs)("p",{children:[(0,T.jsx)(C.c,{className:"fa-13 text-primary"})," ",null===l||void 0===l?void 0:l.Mobile_No]})]})]})})}})})})]}),(0,T.jsxs)(m.c,{open:le,onClose:Ne,fullScreen:!0,children:[(0,T.jsxs)(h.c,{children:[(0,T.jsx)(o.c,{size:"small",onClick:Ne,className:"me-2",children:(0,T.jsx)(N.c,{})}),se?"Modify Retailer "+(null===je||void 0===je?void 0:je.Retailer_Name):"Create Retailer"]}),(0,T.jsxs)("form",{onSubmit:e=>{e.preventDefault(),(0,k.q)({address:"".concat(!1===je.isVisitedPlace?"masters/retailers":"masters/retailer/convertAsRetailer"),method:se?"PUT":"POST",bodyData:je}).then((e=>{e.success?(L.m4.success(null===e||void 0===e?void 0:e.message),Ne(),ee(!Y)):L.m4.error(null===e||void 0===e?void 0:e.message)})).catch((e=>console.error(e)))},children:[(0,T.jsx)(v.c,{children:(0,T.jsx)("div",{className:"row",children:Pe.map(((e,l)=>(0,T.jsxs)("div",{className:"p-2 px-3 ".concat("textarea"!==e.elem?"col-lg-4 col-md-6":"col-12"),children:[(0,T.jsxs)("label",{children:[e.label,e.required&&(0,T.jsxs)("p",{style:{color:"red",display:"inline",fontWeight:"bold",fontSize:"1em"},children:[" ","*"]})]}),"input"===e.elem?(0,T.jsx)("input",{type:e.type||"text",className:"cus-inpt b-0",onChange:e.event,onInput:e.oninput,required:e.required||!1,disabled:e.disabled,minLength:e.minLength,value:e.value,maxLength:e.maxLength}):"select"===e.elem?(0,T.jsx)("select",{className:"cus-inpt b-0",onChange:e.event,value:e.value,required:e.required||!1,children:e.options.map(((e,l)=>(0,T.jsx)("option",{value:e.value,disabled:e.disabled,defaultValue:e.selected,children:e.label},l)))}):"textarea"===e.elem?(0,T.jsx)("textarea",{className:"cus-inpt b-0",onChange:e.event,required:e.required||!1,rows:4,value:e.value}):null]},l)))})}),(0,T.jsxs)(x.c,{children:[(0,T.jsx)(p.c,{type:"button",onClick:Ne,children:"cancel"}),(0,T.jsx)(p.c,{type:"submit",variant:"contained",color:"success",children:"confirm"})]})]})]}),(0,T.jsxs)(m.c,{open:re,fullScreen:!0,scroll:"paper",children:[(0,T.jsxs)(h.c,{children:[(0,T.jsx)(o.c,{size:"small",onClick:Ne,className:"me-2"}),(0,T.jsx)("span",{children:"Retailers Map"})]}),(0,T.jsx)(E.ik,{mapContainerStyle:{width:"100%",height:"100%"},center:{lat:9.9252,lng:78.1198},zoom:13,onError:()=>console.error("Failed to load Google Map"),children:xe&&B.length>0?de.map(((e,l)=>e.latitude&&e.longitude?(0,T.jsx)(E.cK,{position:{lat:parseFloat(e.latitude),lng:parseFloat(e.longitude)},title:e.Retailer_Name||"Retailer",icon:{url:"https://maps.google.com/mapfiles/ms/icons/red-dot.png",scaledSize:new window.google.maps.Size(25,25)}},l):null)):(0,T.jsx)("div",{style:{textAlign:"center",padding:"20px",color:"gray"},children:"No retailers available to display on the map."})})]}),(0,T.jsxs)(m.c,{open:te,onClose:Ae,maxWidth:"md",fullWidth:!0,children:[(0,T.jsxs)(h.c,{children:["Verify Location For"," ",(0,T.jsx)("span",{className:"text-primary",children:null===Q||void 0===Q?void 0:Q.Retailer_Name})]}),(0,T.jsx)(v.c,{className:"pb-0",children:(0,T.jsx)("div",{className:"table-responsive mb-0",children:(0,T.jsxs)("table",{className:"table mb-0",children:[(0,T.jsx)("thead",{children:(0,T.jsxs)("tr",{children:[(0,T.jsx)("th",{className:"text-center fa-14 border-0",children:"Active"}),(0,T.jsx)("th",{className:"text-center fa-14 border-0",children:"Created By"}),(0,T.jsx)("th",{className:"text-center fa-14 border-0",children:"Date"}),(0,T.jsx)("th",{className:"text-center fa-14 border-0",children:"Latitude"}),(0,T.jsx)("th",{className:"text-center fa-14 border-0",children:"Longitude"}),(0,T.jsx)("th",{className:"text-center fa-14 border-0",children:"Action"})]})}),(0,T.jsx)("tbody",{children:null===Q||void 0===Q||null===(a=Q.AllLocations)||void 0===a?void 0:a.map(((e,l)=>(0,T.jsxs)("tr",{children:[(0,T.jsx)("td",{className:"text-center fa-13 p-3 border-0",children:(0,T.jsx)("input",{type:"radio",name:"location_list",defaultChecked:1===Number(null===e||void 0===e?void 0:e.isActiveLocation),style:{width:"20px",height:"20px"},onChange:l=>{return a=null===e||void 0===e?void 0:e.Id,void(0,k.q)({address:"masters/retailers/location",method:"PUT",bodyData:{Id:a}}).then((e=>{e.success?L.m4.success(null===e||void 0===e?void 0:e.message):L.m4.error(null===e||void 0===e?void 0:e.message)})).catch((e=>console.error(e)));var a}})}),(0,T.jsx)("td",{className:"text-center fa-14 fw-bold p-3 border-0",children:null===e||void 0===e?void 0:e.EntryByGet}),(0,T.jsx)("td",{className:"text-center fa-13 p-3 border-0",children:null!==e&&void 0!==e&&e.EntryAt?new Date(null===e||void 0===e?void 0:e.EntryAt).toLocaleDateString("en-IN",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}):" -"}),(0,T.jsx)("td",{className:"text-center fa-13 p-3 border-0",children:null===e||void 0===e?void 0:e.latitude}),(0,T.jsx)("td",{className:"text-center fa-13 p-3 border-0",children:null===e||void 0===e?void 0:e.longitude}),(0,T.jsxs)("td",{className:"text-center fa-13 p-3 border-0",children:[(0,T.jsx)(o.c,{className:"me-2",size:"small",children:(0,T.jsx)(I.c,{className:"fa-20",color:"error"})}),(null===e||void 0===e?void 0:e.latitude)&&e.longitude&&(0,T.jsx)(d.c,{title:"Open in Google Map",children:(0,T.jsx)("span",{children:(0,T.jsx)(o.c,{size:"small",onClick:()=>window.open("https://www.google.com/maps/search/?api=1&query=".concat(null===e||void 0===e?void 0:e.latitude,",").concat(null===e||void 0===e?void 0:e.longitude),"_blank"),className:"btn btn-info fa-14",color:"primary",children:(0,T.jsx)(g.c,{})})})})]})]},l)))})]})})}),(0,T.jsx)(x.c,{children:(0,T.jsx)(p.c,{variant:"outlined",onClick:Ae,children:"cancel"})})]}),(0,T.jsxs)(m.c,{open:Ce.filters,onClose:Ie,fullWidth:!0,maxWidth:"sm",children:[(0,T.jsx)(h.c,{children:"Filters"}),(0,T.jsx)(v.c,{children:(0,T.jsx)("div",{className:"table-responsive pb-5",children:(0,T.jsx)("table",{className:"table",children:(0,T.jsxs)("tbody",{children:[(0,T.jsxs)("tr",{children:[(0,T.jsx)("td",{style:{verticalAlign:"middle"},children:"Retailers"}),(0,T.jsx)("td",{children:(0,T.jsx)(S.cp,{value:{value:null===he||void 0===he?void 0:he.Retailer_Id,label:null===he||void 0===he?void 0:he.Retailer_Name},onChange:e=>ve((0,t.c)((0,t.c)({},he),{},{Retailer_Id:e.value,Retailer_Name:e.label})),options:[{value:"",label:"ALL"},...B.map((e=>({value:null===e||void 0===e?void 0:e.Retailer_Id,label:null===e||void 0===e?void 0:e.Retailer_Name})))],placeholder:"Retailer_Name",styles:{menuPortal:e=>(0,t.c)((0,t.c)({},e),{},{zIndex:9999})},isSearchable:!0,menuPortalTarget:document.body,menuPosition:"fixed",menuPlacement:"auto"})})]}),(0,T.jsxs)("tr",{children:[(0,T.jsx)("td",{style:{verticalAlign:"middle"},children:"Mobile Number"}),(0,T.jsx)("td",{children:(0,T.jsx)("input",{type:"text",className:"cus-inpt",onChange:e=>ve((0,t.c)((0,t.c)({},he),{},{PhoneNumber:e.target.value})),value:null===he||void 0===he?void 0:he.PhoneNumber,placeholder:"PhoneNumber"})})]}),(0,T.jsxs)("tr",{children:[(0,T.jsx)("td",{style:{verticalAlign:"middle"},children:"Contact Person"}),(0,T.jsx)("td",{children:(0,T.jsx)("input",{type:"text",className:"cus-inpt",onChange:e=>ve((0,t.c)((0,t.c)({},he),{},{ContactPerson_Name:e.target.value})),value:null===he||void 0===he?void 0:he.ContactPerson_Name,placeholder:"Contact Person"})})]}),(0,T.jsxs)("tr",{children:[(0,T.jsx)("td",{style:{verticalAlign:"middle"},children:"Route"}),(0,T.jsx)("td",{children:(0,T.jsx)(S.cp,{value:{value:null===he||void 0===he?void 0:he.Route_Id,label:null===he||void 0===he?void 0:he.Route},onChange:e=>ve((0,t.c)((0,t.c)({},he),{},{Route_Id:e.value,Route:e.label})),options:[{value:"",label:"ALL"},...V.map((e=>({value:null===e||void 0===e?void 0:e.Route_Id,label:null===e||void 0===e?void 0:e.Route_Name})))],placeholder:"Route Name",styles:{menuPortal:e=>(0,t.c)((0,t.c)({},e),{},{zIndex:9999})},isSearchable:!0,menuPortalTarget:document.body,menuPosition:"fixed",menuPlacement:"auto"})})]}),(0,T.jsxs)("tr",{children:[(0,T.jsx)("td",{style:{verticalAlign:"middle"},children:"Area"}),(0,T.jsx)("td",{children:(0,T.jsx)(S.cp,{value:{value:null===he||void 0===he?void 0:he.Area_Id,label:null===he||void 0===he?void 0:he.Area},onChange:e=>ve((0,t.c)((0,t.c)({},he),{},{Area_Id:e.value,Area:e.label})),options:[{value:"",label:"ALL"},...z.map((e=>({value:null===e||void 0===e?void 0:e.Area_Id,label:null===e||void 0===e?void 0:e.Area_Name})))],placeholder:"Area Name",styles:{menuPortal:e=>(0,t.c)((0,t.c)({},e),{},{zIndex:9999})},isSearchable:!0,menuPortalTarget:document.body,menuPosition:"fixed",menuPlacement:"auto"})})]}),(0,T.jsxs)("tr",{children:[(0,T.jsx)("td",{style:{verticalAlign:"middle"},children:"City"}),(0,T.jsx)("td",{children:(0,T.jsx)("input",{type:"text",className:"cus-inpt",onChange:e=>ve((0,t.c)((0,t.c)({},he),{},{City:e.target.value})),value:null===he||void 0===he?void 0:he.City,placeholder:"City"})})]})]})})})}),(0,T.jsxs)(x.c,{children:[!pe&&(0,T.jsx)(p.c,{onClick:Ie,children:"Close"}),(0,T.jsx)(p.c,{onClick:()=>{Ie(),Re()},startIcon:(0,T.jsx)(A.c,{}),variant:"outlined",children:"Search"})]})]})]})}}}]);
//# sourceMappingURL=7192.cc8088d7.chunk.js.map
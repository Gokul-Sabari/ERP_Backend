"use strict";(self.webpackChunkerp=self.webpackChunkerp||[]).push([[2180],{72180:(e,t,a)=>{a.r(t),a.d(t,{default:()=>S});var s=a(69060),l=a(44380),r=a(5548),c=a(82656),n=a(26773),i=a(4488),o=a(90048),d=a(89e3),u=a(56480),m=a(42136),h=a(57704),p=a(86e3),x=a(45180),f=a(1908),b=a(13724),j=a(82496);const v={State_Id:"",State_Name:""};const S=function(){const[e,t]=(0,s.useState)(!1),[a,S]=(0,s.useState)(!1),[N,y]=(0,s.useState)([]),[g,C]=(0,s.useState)([]),[w,E]=(0,s.useState)(!1),[T,_]=(0,s.useState)(v),[k,F]=(0,s.useState)(!1),[I,R]=(0,s.useState)(""),P=(0,s.useCallback)((async()=>{try{const e=await(0,f.q)({address:"masters/state"});e.success&&(y(e.data),C(e.data))}catch(e){console.error(e),u.m4.error("Failed to fetch states")}}),[]);return(0,s.useEffect)((()=>{P()}),[P,e]),(0,s.useEffect)((()=>{if(""===I.trim())C(N);else{const e=N.filter((e=>e.State_Name.toLowerCase().includes(I.toLowerCase())||e.State_Id.toString().includes(I)));C(e)}}),[I,N]),(0,j.jsxs)(s.Fragment,{children:[(0,j.jsxs)("div",{className:"card",children:[(0,j.jsxs)("div",{className:"card-header bg-white fw-bold d-flex align-items-center justify-content-between",children:["STATE MASTER",(0,j.jsxs)("div",{className:"d-flex align-items-center",children:[(0,j.jsx)("div",{className:"d-flex justify-content-end",children:(0,j.jsx)("div",{className:"p-2",style:{width:"300px"},children:(0,j.jsxs)("div",{className:"d-flex align-items-center gap-2",children:[(0,j.jsx)(h.c,{}),(0,j.jsx)(l.c,{fullWidth:!0,variant:"outlined",placeholder:"Search state...",value:I,onChange:e=>R(e.target.value),InputProps:{style:{height:"40px"}}})]})})}),(0,j.jsx)(m.c,{className:"rounded-1 btn-primary",onClick:()=>E(!0),children:"Create State"})]})]}),(0,j.jsx)(b.cp,{dataArray:g,EnableSerialNumber:!0,isExpendable:!0,maxHeightOption:!0,columns:[(0,b.A5)("State_Name","string","State Name"),{Field_Name:"Actions",ColumnHeader:"Actions",isVisible:1,isCustomCell:!0,Cell:e=>{let{row:t}=e;return(0,j.jsxs)("td",{className:"fa-12",style:{minWidth:"80px"},children:[(0,j.jsx)(r.c,{onClick:()=>{return e=t,F(!0),void _({State_Id:e.State_Id,State_Name:e.State_Name});var e},size:"small",children:(0,j.jsx)(p.c,{className:"fa-in"})}),(0,j.jsx)(r.c,{onClick:()=>{S(!0),_({State_Id:t.State_Id})},size:"small",color:"error",children:(0,j.jsx)(x.c,{className:"fa-in "})})]})}}]})]}),(0,j.jsxs)(c.c,{open:w,onClose:()=>{E(!1),_(v)},"aria-labelledby":"create-dialog-title",children:[(0,j.jsx)(n.c,{id:"create-dialog-title",children:"CREATE STATE"}),(0,j.jsx)(i.c,{children:(0,j.jsxs)("div",{className:"p-2",children:[(0,j.jsx)("label",{children:"STATE NAME"}),(0,j.jsx)("input",{type:"text",onChange:e=>_({...T,State_Name:e.target.value}),placeholder:"Enter state name",value:T.State_Name,className:"cus-inpt"})]})}),(0,j.jsxs)(o.c,{children:[(0,j.jsx)(d.c,{onClick:()=>{E(!1),_(v)},children:"Cancel"}),(0,j.jsx)(d.c,{onClick:async()=>{try{const e=await(0,f.q)({address:"masters/state",method:"POST",bodyData:{State_Name:T.State_Name}});e.success?(E(!1),t((e=>!e)),u.m4.success("State Added Succesfully"),_(v)):u.m4.error(e.message)}catch(e){console.error(e),u.m4.error("Error creating state")}},color:"success",children:"CREATE"})]})]}),(0,j.jsxs)(c.c,{open:k,onClose:()=>{F(!1),_(v)},"aria-labelledby":"edit-dialog-title",children:[(0,j.jsx)(n.c,{id:"edit-dialog-title",children:"EDIT STATE"}),(0,j.jsx)(i.c,{children:(0,j.jsxs)("div",{className:"p-2",children:[(0,j.jsx)("label",{children:"STATE NAME"}),(0,j.jsx)("input",{type:"text",onChange:e=>_({...T,State_Name:e.target.value}),placeholder:"Enter state name",value:T.State_Name,className:"cus-inpt"})]})}),(0,j.jsxs)(o.c,{children:[(0,j.jsx)(d.c,{onClick:()=>{F(!1),_(v)},children:"Cancel"}),(0,j.jsx)(d.c,{onClick:()=>(async(e,a)=>{try{const s=await(0,f.q)({address:"masters/state",method:"PUT",bodyData:{State_Id:e,State_Name:a}});s.success?(u.m4.success("State Updated Succesfully"),t((e=>!e)),F(!1),_(v)):u.m4.error(s.message)}catch(s){console.error(s),u.m4.error("Error updating state")}})(T.State_Id,T.State_Name),color:"success",children:"Update"})]})]}),(0,j.jsxs)(c.c,{open:a,onClose:()=>S(!1),"aria-labelledby":"alert-dialog-title",children:[(0,j.jsx)(n.c,{id:"alert-dialog-title",children:"Confirmation"}),(0,j.jsx)(i.c,{children:(0,j.jsx)("b",{children:"Do you want to delete this state?"})}),(0,j.jsxs)(o.c,{children:[(0,j.jsx)(d.c,{onClick:()=>S(!1),children:"Cancel"}),(0,j.jsx)(d.c,{onClick:async()=>{try{const e=await(0,f.q)({address:"masters/state",method:"DELETE",bodyData:{State_Id:T.State_Id}});e.success?(t((e=>!e)),S(!1),u.m4.success("State deleted successfully!")):u.m4.error("Failed to delete state: "+e.message)}catch(e){console.error(e),u.m4.error("Error deleting state")}},autoFocus:!0,color:"error",children:"Delete"})]})]})]})}},45180:(e,t,a)=>{a.d(t,{c:()=>r});var s=a(27664),l=a(82496);const r=(0,s.c)((0,l.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"}),"Delete")},86e3:(e,t,a)=>{a.d(t,{c:()=>r});var s=a(27664),l=a(82496);const r=(0,s.c)((0,l.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"}),"Edit")},57704:(e,t,a)=>{a.d(t,{c:()=>r});var s=a(27664),l=a(82496);const r=(0,s.c)((0,l.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"}),"Search")},44380:(e,t,a)=>{a.d(t,{c:()=>w});var s=a(45072),l=a(95656),r=a(69060),c=a(79736),n=a(21412),i=a(55080),o=a(12556),d=a(49836),u=a(62440),m=a(30584),h=a(25594),p=a(60204),x=a(4016),f=a(10212),b=a(21420),j=a(10099),v=a(33448);function S(e){return(0,v.cp)("MuiTextField",e)}(0,j.c)("MuiTextField",["root"]);var N=a(82496);const y=["autoComplete","autoFocus","children","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","id","InputLabelProps","inputProps","InputProps","inputRef","label","maxRows","minRows","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","select","SelectProps","type","value","variant"],g={standard:u.c,filled:m.c,outlined:h.c},C=(0,o.cp)(x.c,{name:"MuiTextField",slot:"Root",overridesResolver:(e,t)=>t.root})({}),w=r.forwardRef((function(e,t){const a=(0,d.C)({props:e,name:"MuiTextField"}),{autoComplete:r,autoFocus:o=!1,children:u,className:m,color:h="primary",defaultValue:x,disabled:j=!1,error:v=!1,FormHelperTextProps:w,fullWidth:E=!1,helperText:T,id:_,InputLabelProps:k,inputProps:F,InputProps:I,inputRef:R,label:P,maxRows:A,minRows:M,multiline:D=!1,name:q,onBlur:z,onChange:V,onFocus:L,placeholder:W,required:H=!1,rows:O,select:$=!1,SelectProps:B,type:U,value:K,variant:G="outlined"}=a,J=(0,l.c)(a,y),Q=(0,s.c)({},a,{autoFocus:o,color:h,disabled:j,error:v,fullWidth:E,multiline:D,required:H,select:$,variant:G}),X=(e=>{const{classes:t}=e;return(0,n.c)({root:["root"]},S,t)})(Q);const Y={};"outlined"===G&&(k&&"undefined"!==typeof k.shrink&&(Y.notched=k.shrink),Y.label=P),$&&(B&&B.native||(Y.id=void 0),Y["aria-describedby"]=void 0);const Z=(0,i.c)(_),ee=T&&Z?`${Z}-helper-text`:void 0,te=P&&Z?`${Z}-label`:void 0,ae=g[G],se=(0,N.jsx)(ae,(0,s.c)({"aria-describedby":ee,autoComplete:r,autoFocus:o,defaultValue:x,fullWidth:E,multiline:D,name:q,rows:O,maxRows:A,minRows:M,type:U,value:K,id:Z,inputRef:R,onBlur:z,onChange:V,onFocus:L,placeholder:W,inputProps:F},Y,I));return(0,N.jsxs)(C,(0,s.c)({className:(0,c.c)(X.root,m),disabled:j,error:v,fullWidth:E,ref:t,required:H,color:h,variant:G,ownerState:Q},J,{children:[null!=P&&""!==P&&(0,N.jsx)(p.c,(0,s.c)({htmlFor:Z,id:te},k,{children:P})),$?(0,N.jsx)(b.c,(0,s.c)({"aria-describedby":ee,id:Z,labelId:te,value:K,input:se},B,{children:u})):se,T&&(0,N.jsx)(f.c,(0,s.c)({id:ee},w,{children:T}))]}))}))},16344:(e,t,a)=>{a.d(t,{cV:()=>c,cp:()=>i});var s=a(69060),l=a(82496);const r=["as","disabled"];function c(e){let{tagName:t,disabled:a,href:s,target:l,rel:r,role:c,onClick:n,tabIndex:i=0,type:o}=e;t||(t=null!=s||null!=l||null!=r?"a":"button");const d={tagName:t};if("button"===t)return[{type:o||"button",disabled:a},d];const u=e=>{(a||"a"===t&&function(e){return!e||"#"===e.trim()}(s))&&e.preventDefault(),a?e.stopPropagation():null==n||n(e)};return"a"===t&&(s||(s="#"),a&&(s=void 0)),[{role:null!=c?c:"button",disabled:void 0,tabIndex:a?void 0:i,href:s,target:"a"===t?l:void 0,"aria-disabled":a||void 0,rel:"a"===t?r:void 0,onClick:u,onKeyDown:e=>{" "===e.key&&(e.preventDefault(),u(e))}},d]}const n=s.forwardRef(((e,t)=>{let{as:a,disabled:s}=e,n=function(e,t){if(null==e)return{};var a,s,l={},r=Object.keys(e);for(s=0;s<r.length;s++)a=r[s],t.indexOf(a)>=0||(l[a]=e[a]);return l}(e,r);const[i,{tagName:o}]=c(Object.assign({tagName:a,disabled:s},n));return(0,l.jsx)(o,Object.assign({},n,i,{ref:t}))}));n.displayName="Button";const i=n},42136:(e,t,a)=>{a.d(t,{c:()=>d});var s=a(264),l=a.n(s),r=a(69060),c=a(16344),n=a(83576),i=a(82496);const o=r.forwardRef(((e,t)=>{let{as:a,bsPrefix:s,variant:r="primary",size:o,active:d=!1,disabled:u=!1,className:m,...h}=e;const p=(0,n.Ky)(s,"btn"),[x,{tagName:f}]=(0,c.cV)({tagName:a,disabled:u,...h}),b=f;return(0,i.jsx)(b,{...x,...h,ref:t,disabled:u,className:l()(m,p,d&&"active",r&&`${p}-${r}`,o&&`${p}-${o}`,h.href&&u&&"disabled")})}));o.displayName="Button";const d=o}}]);
//# sourceMappingURL=2180.9f2b935f.chunk.js.map
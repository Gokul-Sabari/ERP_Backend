"use strict";(self.webpackChunkerp=self.webpackChunkerp||[]).push([[2860],{62860:(e,t,a)=>{a.r(t),a.d(t,{default:()=>F});var d=a(69060),r=a(13724),n=a(1908),l=a(39308),o=a(51560),s=a(5548),c=a(82656),i=a(26773),m=a(4488),h=a(90048),u=a(89e3),v=a(61988),g=a(56084),x=a(57704),f=a(82496);const j={Fromdate:(0,l.Q7)(),Todate:(0,l.Q7)()},F=e=>{let{loadingOn:t,loadingOff:a}=e;const[F,p]=(0,d.useState)([]),[T,C]=(0,d.useState)({Fromdate:(0,l.Q7)(),Todate:(0,l.Q7)(),refresh:!1,filterDialog:!1}),b=(0,o.i6)(),A=(0,o.IT)(),y=A.state,S=new URLSearchParams((0,o.IT)().search);(0,d.useEffect)((()=>{const e={Fromdate:S.get("Fromdate")&&(0,l.e8)(S.get("Fromdate"))?S.get("Fromdate"):j.Fromdate,Todate:S.get("Todate")&&(0,l.e8)(S.get("Todate"))?S.get("Todate"):j.Todate};C((t=>({...t,Fromdate:e.Fromdate,Todate:e.Todate})))}),[A.search]),(0,d.useEffect)((()=>{const e=null!==y&&void 0!==y&&y.Fromdate&&(0,l.e8)(null===y||void 0===y?void 0:y.Fromdate)?(0,l.Q7)(null===y||void 0===y?void 0:y.Fromdate):null,t=null!==y&&void 0!==y&&y.Todate&&(0,l.e8)(null===y||void 0===y?void 0:y.Todate)?(0,l.Q7)(null===y||void 0===y?void 0:y.Todate):null;e&&t&&(_({Fromdate:e,Todate:t}),C((e=>({...e,Fromdate:(0,l.Q7)(y.Fromdate),Todate:y.Todate}))))}),[y]),(0,d.useEffect)((()=>{(0,n.q)({address:`payment/reports/pendingReference?Fromdate=${T.Fromdate}&Todate=${T.Todate}`,loadingOn:t,loadingOff:a}).then((e=>{e.success&&p(e.data)})).catch((e=>console.log(e)))}),[T.refresh]);const _=e=>{const t=new URLSearchParams(e);b(`?${t.toString()}`,{replace:!0})},k=()=>{C((e=>({...e,filterDialog:!1})))};return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(r.cp,{title:"Pending Reference",headerFontSizePx:13,bodyFontSizePx:12,dataArray:F,ButtonArea:(0,f.jsx)(f.Fragment,{children:(0,f.jsx)(s.c,{onClick:()=>C((e=>({...e,filterDialog:!0}))),children:(0,f.jsx)(v.c,{})})}),columns:[(0,r.A5)("payment_invoice_no","string","PaymentID"),(0,r.A5)("payment_date","date","Date"),(0,r.A5)("debit_ledger_name","string","Debit Acc"),(0,r.A5)("credit_ledger_name","string","Credit Acc"),(0,r.A5)("debit_amount","number","Payed"),(0,r.A5)("total_referenced","number","Reference added"),{isVisible:1,ColumnHeader:"Pending Reference",isCustomCell:!0,Cell:e=>{let{row:t}=e;return(0,l.od)(t.debit_amount,t.total_referenced)}}]}),(0,f.jsxs)(c.c,{open:T.filterDialog,onClose:k,fullWidth:!0,maxWidth:"sm",children:[(0,f.jsx)(i.c,{children:"Filters"}),(0,f.jsx)(m.c,{children:(0,f.jsx)("div",{className:"table-responsive pb-4",children:(0,f.jsx)("table",{className:"table",children:(0,f.jsxs)("tbody",{children:[(0,f.jsxs)("tr",{children:[(0,f.jsx)("td",{style:{verticalAlign:"middle"},children:"From"}),(0,f.jsx)("td",{children:(0,f.jsx)("input",{type:"date",value:T.Fromdate,onChange:e=>C({...T,Fromdate:e.target.value}),className:"cus-inpt"})})]}),(0,f.jsxs)("tr",{children:[(0,f.jsx)("td",{style:{verticalAlign:"middle"},children:"To"}),(0,f.jsx)("td",{children:(0,f.jsx)("input",{type:"date",value:T.Todate,onChange:e=>C({...T,Todate:e.target.value}),className:"cus-inpt"})})]})]})})})}),(0,f.jsxs)(h.c,{className:"d-flex align-items-center justify-content-between",children:[(0,f.jsx)(u.c,{variant:"outlined",onClick:()=>{C((e=>({...e,...j})))},startIcon:(0,f.jsx)(g.c,{}),children:"clear"}),(0,f.jsxs)("span",{children:[(0,f.jsx)(u.c,{onClick:k,children:"close"}),(0,f.jsx)(u.c,{onClick:()=>{k();const e={Fromdate:null===T||void 0===T?void 0:T.Fromdate,Todate:null===T||void 0===T?void 0:T.Todate};_(e),C((e=>({...e,refresh:!e.refresh})))},startIcon:(0,f.jsx)(x.c,{}),variant:"contained",children:"Search"})]})]})]})]})}},56084:(e,t,a)=>{a.d(t,{c:()=>n});var d=a(27664),r=a(82496);const n=(0,d.c)((0,r.jsx)("path",{d:"M5 13h14v-2H5zm-2 4h14v-2H3zM7 7v2h14V7z"}),"ClearAll")},61988:(e,t,a)=>{a.d(t,{c:()=>n});var d=a(27664),r=a(82496);const n=(0,d.c)((0,r.jsx)("path",{d:"M4.25 5.61C6.27 8.2 10 13 10 13v6c0 .55.45 1 1 1h2c.55 0 1-.45 1-1v-6s3.72-4.8 5.74-7.39c.51-.66.04-1.61-.79-1.61H5.04c-.83 0-1.3.95-.79 1.61"}),"FilterAlt")},57704:(e,t,a)=>{a.d(t,{c:()=>n});var d=a(27664),r=a(82496);const n=(0,d.c)((0,r.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"}),"Search")}}]);
//# sourceMappingURL=2860.7fb92df2.chunk.js.map
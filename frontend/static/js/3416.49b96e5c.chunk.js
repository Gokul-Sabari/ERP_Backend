"use strict";(self.webpackChunkerp=self.webpackChunkerp||[]).push([[3416],{64568:(e,l,i)=>{i.d(l,{c:()=>d});var n=i(82496);const d=()=>(0,n.jsx)("span",{style:{color:"red",fontWeight:"bold",fontSize:"1em"},children:" *"})},33416:(e,l,i)=>{i.r(l),i.d(l,{default:()=>_});var n=i(30800),d=i(69060),s=i(1908),a=i(39308),r=i(3358),t=i(89e3),u=i(5548),o=i(82656),c=i(26773),v=i(4488),m=i(90048),x=i(96064),p=i(86e3),h=i(56480),b=i(13724),C=i(64568),j=i(82496);const g={id:"",name:"",menu_type:1,parent_id:"",url:"",display_order:1,is_active:1,parantDetails:{}},_=e=>{var l;let{loadingOn:i,loadingOff:_}=e;const[S,N]=(0,d.useState)(g),[y,M]=(0,d.useState)(!1),[D,w]=(0,d.useState)([]),[F,H]=(0,d.useState)(!1);(0,d.useEffect)((()=>{(0,s.q)({address:"authorization/menuMaster"}).then((e=>{e.success&&w(e.data)})).catch((e=>console.error(e)))}),[y]);const A=e=>{var l;let{dataSource:i}=e;return(0,j.jsx)(b.cp,{dataArray:null!==(l=null===i||void 0===i?void 0:i.SubRoutes)&&void 0!==l?l:[],title:"Sub Routes",columns:[{isVisible:1,Field_Name:"name",Fied_Data:"string",ColumnHeader:"Menu"},{isVisible:1,Field_Name:"url",Fied_Data:"string",ColumnHeader:"Address"},{isVisible:1,isCustomCell:!0,Cell:e=>{var l,i;let{row:d}=e;return(0,j.jsx)(r.c,{title:"Add SubRouting",children:(0,j.jsx)("span",{children:(0,j.jsx)(t.c,{size:"small",className:"bg-light",onClick:()=>{N((e=>{var l;return(0,n.c)((0,n.c)({},e),{},{menu_type:0,parent_id:d.id,parantDetails:d,url:(null!==(l=null===d||void 0===d?void 0:d.url)&&void 0!==l?l:"")+"/"})})),H(!0)},startIcon:(0,j.jsx)(x.c,{sx:{fontSize:"18px"}}),children:null!==(l=null===d||void 0===d||null===(i=d.SubRoutes)||void 0===i?void 0:i.length)&&void 0!==l?l:0})})})},ColumnHeader:"Sub Routings"},{isVisible:1,Field_Name:"display_order",Fied_Data:"number",ColumnHeader:"Order"},{isVisible:1,isCustomCell:!0,Cell:e=>{let{row:l}=e;return(0,a.Qr)(null===l||void 0===l?void 0:l.is_active,1)?(0,j.jsx)("span",{className:"px-3 py-1 rounded-3 text-white bg-success",children:"Active"}):(0,j.jsx)("span",{className:"px-3 py-1 rounded-3 text-white bg-danger",children:"Disabled"})},ColumnHeader:"Status"},{isVisible:1,isCustomCell:!0,Cell:e=>{let{row:l}=e;return(0,j.jsx)(j.Fragment,{children:(0,j.jsx)(r.c,{title:"Edit Menu",children:(0,j.jsx)(u.c,{size:"small",className:"p-1",onClick:()=>{N((e=>{var i,d,s,a,r;return(0,n.c)((0,n.c)({},e),{},{id:null===l||void 0===l?void 0:l.id,name:null!==(i=null===l||void 0===l?void 0:l.name)&&void 0!==i?i:"",menu_type:0,parent_id:null!==(d=null===l||void 0===l?void 0:l.parent_id)&&void 0!==d?d:"",url:null!==(s=null===l||void 0===l?void 0:l.url)&&void 0!==s?s:"",display_order:null!==(a=null===l||void 0===l?void 0:l.display_order)&&void 0!==a?a:"",is_active:null!==(r=null===l||void 0===l?void 0:l.is_active)&&void 0!==r?r:""})})),H(!0)},children:(0,j.jsx)(p.c,{sx:{fontSize:"18px"}})})})})},ColumnHeader:"Action"}],tableMaxHeight:700,isExpendable:!0,expandableComp:e=>{var l;let{row:i}=e;return(null===i||void 0===i||null===(l=i.SubRoutes)||void 0===l?void 0:l.length)>0&&(0,j.jsx)(A,{dataSource:i})}})},V=e=>{var l,i;let{row:d}=e;return(0,j.jsxs)(j.Fragment,{children:[(null===d||void 0===d||null===(l=d.ChildMenu)||void 0===l?void 0:l.length)>0&&(0,j.jsx)(b.cp,{dataArray:null!==(i=null===d||void 0===d?void 0:d.ChildMenu)&&void 0!==i?i:[],title:"Child Menus",columns:[{isVisible:1,Field_Name:"name",Fied_Data:"string",ColumnHeader:"Child Menu"},{isVisible:1,Field_Name:"url",Fied_Data:"string",ColumnHeader:"Address"},{isVisible:1,isCustomCell:!0,Cell:e=>{var l,i;let{row:d}=e;return(0,j.jsx)(r.c,{title:"Add SubRouting",children:(0,j.jsx)("span",{children:(0,j.jsx)(t.c,{size:"small",className:"bg-light",onClick:()=>{N((e=>{var l,i,s;return(0,n.c)((0,n.c)({},e),{},{menu_type:0,parent_id:d.id,parantDetails:d,url:(null!==d&&void 0!==d&&null!==(l=d.ParantData)&&void 0!==l&&l.url?(null===d||void 0===d||null===(i=d.ParantData)||void 0===i?void 0:i.url)+"/":"")+(null!==(s=null===d||void 0===d?void 0:d.url)&&void 0!==s?s:"")+"/"})})),H(!0)},startIcon:(0,j.jsx)(x.c,{sx:{fontSize:"18px"}}),children:null!==(l=null===d||void 0===d||null===(i=d.SubRoutes)||void 0===i?void 0:i.length)&&void 0!==l?l:0})})})},ColumnHeader:"Sub Routings"},{isVisible:1,Field_Name:"display_order",Fied_Data:"number",ColumnHeader:"Order"},{isVisible:1,isCustomCell:!0,Cell:e=>{let{row:l}=e;return(0,a.Qr)(null===l||void 0===l?void 0:l.is_active,1)?(0,j.jsx)("span",{className:"px-3 py-1 rounded-3 text-white bg-success",children:"Active"}):(0,j.jsx)("span",{className:"px-3 py-1 rounded-3 text-white bg-danger",children:"Disabled"})},ColumnHeader:"Status"},{isVisible:1,isCustomCell:!0,Cell:e=>{let{row:l}=e;return(0,j.jsx)(j.Fragment,{children:(0,j.jsx)(r.c,{title:"Edit Menu",children:(0,j.jsx)(u.c,{size:"small",className:"p-1",onClick:()=>{N((e=>{var i,d,s,a,r;return(0,n.c)((0,n.c)({},e),{},{id:null===l||void 0===l?void 0:l.id,name:null!==(i=null===l||void 0===l?void 0:l.name)&&void 0!==i?i:"",menu_type:3,parent_id:null!==(d=null===l||void 0===l?void 0:l.parent_id)&&void 0!==d?d:"",url:null!==(s=null===l||void 0===l?void 0:l.url)&&void 0!==s?s:"",display_order:null!==(a=null===l||void 0===l?void 0:l.display_order)&&void 0!==a?a:"",is_active:null!==(r=null===l||void 0===l?void 0:l.is_active)&&void 0!==r?r:""})})),H(!0)},children:(0,j.jsx)(p.c,{sx:{fontSize:"18px"}})})})})},ColumnHeader:"Action"}],tableMaxHeight:700,isExpendable:!0,expandableComp:e=>{var l;let{row:i}=e;return(null===i||void 0===i||null===(l=i.SubRoutes)||void 0===l?void 0:l.length)>0&&(0,j.jsx)(A,{dataSource:i})}}),d.SubRoutes.length>0&&(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)("br",{}),(0,j.jsx)(A,{dataSource:d})]})]})},z=e=>{var l;let{row:i}=e;return(0,j.jsxs)(j.Fragment,{children:[i.SubMenu.length>0&&(0,j.jsx)(b.cp,{dataArray:null!==(l=null===i||void 0===i?void 0:i.SubMenu)&&void 0!==l?l:[],title:"Sub Menus",columns:[{isVisible:1,Field_Name:"name",Fied_Data:"string",ColumnHeader:"Sub Menu"},{isVisible:1,Field_Name:"url",Fied_Data:"string",ColumnHeader:"Address"},{isVisible:1,isCustomCell:!0,Cell:e=>{var l,i;let{row:d}=e;return(0,j.jsx)(r.c,{title:"Add Child-Menu",children:(0,j.jsx)("span",{children:(0,j.jsx)(t.c,{size:"small",className:"bg-light",onClick:()=>{N((e=>{var l,i,s;return(0,n.c)((0,n.c)({},e),{},{menu_type:3,parent_id:d.id,parantDetails:d,url:(null!==d&&void 0!==d&&null!==(l=d.ParantData)&&void 0!==l&&l.url?(null===d||void 0===d||null===(i=d.ParantData)||void 0===i?void 0:i.url)+"/":"")+(null!==(s=null===d||void 0===d?void 0:d.url)&&void 0!==s?s:"")+"/"})})),H(!0)},startIcon:(0,j.jsx)(x.c,{sx:{fontSize:"18px"}}),children:null!==(l=null===d||void 0===d||null===(i=d.ChildMenu)||void 0===i?void 0:i.length)&&void 0!==l?l:0})})})},ColumnHeader:"Child Menu"},{isVisible:1,isCustomCell:!0,Cell:e=>{var l,i;let{row:d}=e;return(0,j.jsx)(r.c,{title:"Add SubRouting",children:(0,j.jsx)("span",{children:(0,j.jsx)(t.c,{size:"small",className:"bg-light",onClick:()=>{N((e=>{var l,i,s;return(0,n.c)((0,n.c)({},e),{},{menu_type:0,parent_id:d.id,parantDetails:d,url:(null!==d&&void 0!==d&&null!==(l=d.ParantData)&&void 0!==l&&l.url?(null===d||void 0===d||null===(i=d.ParantData)||void 0===i?void 0:i.url)+"/":"")+(null!==(s=null===d||void 0===d?void 0:d.url)&&void 0!==s?s:"")+"/"})})),H(!0)},startIcon:(0,j.jsx)(x.c,{sx:{fontSize:"18px"}}),children:null!==(l=null===d||void 0===d||null===(i=d.SubRoutes)||void 0===i?void 0:i.length)&&void 0!==l?l:0})})})},ColumnHeader:"Sub Routings"},{isVisible:1,Field_Name:"display_order",Fied_Data:"number",ColumnHeader:"Order"},{isVisible:1,isCustomCell:!0,Cell:e=>{let{row:l}=e;return(0,a.Qr)(null===l||void 0===l?void 0:l.is_active,1)?(0,j.jsx)("span",{className:"px-3 py-1 rounded-3 text-white bg-success",children:"Active"}):(0,j.jsx)("span",{className:"px-3 py-1 rounded-3 text-white bg-danger",children:"Disabled"})},ColumnHeader:"Status"},{isVisible:1,isCustomCell:!0,Cell:e=>{let{row:l}=e;return(0,j.jsx)(j.Fragment,{children:(0,j.jsx)(r.c,{title:"Edit Menu",children:(0,j.jsx)(u.c,{size:"small",className:"p-1",onClick:()=>{N((e=>{var i,d,s,a,r;return(0,n.c)((0,n.c)({},e),{},{id:null===l||void 0===l?void 0:l.id,name:null!==(i=null===l||void 0===l?void 0:l.name)&&void 0!==i?i:"",menu_type:2,parent_id:null!==(d=null===l||void 0===l?void 0:l.parent_id)&&void 0!==d?d:"",url:null!==(s=null===l||void 0===l?void 0:l.url)&&void 0!==s?s:"",display_order:null!==(a=null===l||void 0===l?void 0:l.display_order)&&void 0!==a?a:"",is_active:null!==(r=null===l||void 0===l?void 0:l.is_active)&&void 0!==r?r:""})})),H(!0)},children:(0,j.jsx)(p.c,{sx:{fontSize:"18px"}})})})})},ColumnHeader:"Action"}],tableMaxHeight:700,isExpendable:!0,expandableComp:e=>{var l,i;let{row:n}=e;return((null===n||void 0===n||null===(l=n.ChildMenu)||void 0===l?void 0:l.length)>0||(null===n||void 0===n||null===(i=n.SubRoutes)||void 0===i?void 0:i.length)>0)&&(0,j.jsx)(V,{row:n})}}),i.SubRoutes.length>0&&(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)("br",{}),(0,j.jsx)(A,{dataSource:i})]})]})},f=()=>{H(!1),N(g)};return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(b.cp,{title:"Main Menu",ButtonArea:(0,j.jsx)(t.c,{onClick:()=>{H(!0),N(g)},variant:"outlined",startIcon:(0,j.jsx)(x.c,{}),children:"New Menu"}),dataArray:D,columns:[{isVisible:1,Field_Name:"name",Fied_Data:"string",ColumnHeader:"Main Menu"},{isVisible:1,Field_Name:"url",Fied_Data:"string",ColumnHeader:"Address"},{isVisible:1,isCustomCell:!0,Cell:e=>{var l,i;let{row:d}=e;return(0,j.jsx)(r.c,{title:"Add Sub-Menu",children:(0,j.jsx)("span",{children:(0,j.jsx)(t.c,{size:"small",className:"bg-light",onClick:()=>{N((e=>{var l;return(0,n.c)((0,n.c)({},e),{},{menu_type:2,parent_id:d.id,parantDetails:d,url:(null!==(l=null===d||void 0===d?void 0:d.url)&&void 0!==l?l:"")+"/"})})),H(!0)},startIcon:(0,j.jsx)(x.c,{sx:{fontSize:"18px"}}),children:null!==(l=null===d||void 0===d||null===(i=d.SubMenu)||void 0===i?void 0:i.length)&&void 0!==l?l:0})})})},ColumnHeader:"Sub Menu",align:"center"},{isVisible:1,isCustomCell:!0,Cell:e=>{var l,i;let{row:d}=e;return(0,j.jsx)(r.c,{title:"Add SubRouting",children:(0,j.jsx)("span",{children:(0,j.jsx)(t.c,{size:"small",className:"bg-light",onClick:()=>{N((e=>{var l;return(0,n.c)((0,n.c)({},e),{},{menu_type:0,parent_id:d.id,parantDetails:d,url:(null!==(l=null===d||void 0===d?void 0:d.url)&&void 0!==l?l:"")+"/"})})),H(!0)},startIcon:(0,j.jsx)(x.c,{sx:{fontSize:"18px"}}),children:null!==(l=null===d||void 0===d||null===(i=d.SubRoutes)||void 0===i?void 0:i.length)&&void 0!==l?l:0})})})},ColumnHeader:"Sub Routings",align:"center"},{isVisible:1,Field_Name:"display_order",Fied_Data:"number",ColumnHeader:"Order"},{isVisible:1,isCustomCell:!0,Cell:e=>{let{row:l}=e;return(0,a.Qr)(null===l||void 0===l?void 0:l.is_active,1)?(0,j.jsx)("span",{className:"px-3 py-1 rounded-3 text-white bg-success",children:"Active"}):(0,j.jsx)("span",{className:"px-3 py-1 rounded-3 text-white bg-danger",children:"Disabled"})},ColumnHeader:"Status"},{isVisible:1,isCustomCell:!0,Cell:e=>{let{row:l}=e;return(0,j.jsx)(j.Fragment,{children:(0,j.jsx)(r.c,{title:"Edit Menu",children:(0,j.jsx)(u.c,{size:"small",className:"p-1",onClick:()=>{N((e=>{var i,d,s,a,r;return(0,n.c)((0,n.c)({},e),{},{id:null===l||void 0===l?void 0:l.id,name:null!==(i=null===l||void 0===l?void 0:l.name)&&void 0!==i?i:"",menu_type:1,parent_id:null!==(d=null===l||void 0===l?void 0:l.parent_id)&&void 0!==d?d:"",url:null!==(s=null===l||void 0===l?void 0:l.url)&&void 0!==s?s:"",display_order:null!==(a=null===l||void 0===l?void 0:l.display_order)&&void 0!==a?a:"",is_active:null!==(r=null===l||void 0===l?void 0:l.is_active)&&void 0!==r?r:""})})),H(!0)},children:(0,j.jsx)(p.c,{sx:{fontSize:"18px"}})})})})},ColumnHeader:"Action"}],tableMaxHeight:700,isExpendable:!0,expandableComp:e=>{var l,i;let{row:n}=e;return((null===n||void 0===n||null===(l=n.SubMenu)||void 0===l?void 0:l.length)>0||(null===n||void 0===n||null===(i=n.SubRoutes)||void 0===i?void 0:i.length)>0)&&(0,j.jsx)(z,{row:n})}}),(0,j.jsxs)(o.c,{open:F,onClose:f,maxWidth:"sm",fullWidth:!0,children:[(0,j.jsxs)(c.c,{children:[S.id?"Modify ":"Add ",(()=>{switch(S.menu_type){case 0:return"SUB ROUTING";case 1:return"MAIN MENU";case 2:return"SUB MENU";case 3:return"CHILD MENU";default:return""}})()]}),(0,j.jsxs)("form",{onSubmit:e=>{e.preventDefault(),i&&i(),(0,s.q)({address:"authorization/menuMaster",method:S.id?"PUT":"POST",bodyData:S}).then((e=>{e.success?(h.m4.success(e.message),f(),M((e=>!e))):h.m4.error(e.message)})).catch((e=>console.error(e))).finally((()=>{_&&_()}))},children:[(0,j.jsx)(v.c,{children:(0,j.jsxs)("div",{className:"row",children:[(0,a.CY)(S.parantDetails)&&S.parantDetails.name&&(0,j.jsxs)("div",{className:"col-lg-12 p-2",children:[(0,j.jsx)("label",{children:"Parant Name "}),(0,j.jsx)("input",{className:"cus-inpt",value:null===S||void 0===S||null===(l=S.parantDetails)||void 0===l?void 0:l.name,disabled:!0})]}),(0,j.jsxs)("div",{className:"col-lg-6 p-2",children:[(0,j.jsxs)("label",{children:["Name ",(0,j.jsx)(C.c,{})]}),(0,j.jsx)("input",{className:"cus-inpt",value:S.name,onChange:e=>N((l=>(0,n.c)((0,n.c)({},l),{},{name:e.target.value}))),required:!0,minLength:3,maxLength:20})]}),(0,j.jsxs)("div",{className:"col-lg-6 p-2",children:[(0,j.jsx)("label",{children:"Order No"}),(0,j.jsx)("input",{className:"cus-inpt",value:S.display_order,onChange:e=>N((l=>(0,n.c)((0,n.c)({},l),{},{display_order:e.target.value})))})]}),(0,j.jsxs)("div",{className:"col-lg-12 p-2",children:[(0,j.jsx)("label",{children:"URL (Link)"}),(0,j.jsx)("input",{className:"cus-inpt",value:S.url,onChange:e=>N((l=>(0,n.c)((0,n.c)({},l),{},{url:e.target.value})))})]}),S.id&&(0,j.jsxs)("div",{className:"col-lg-6 p-2",children:[(0,j.jsx)("label",{children:"Is Active"}),(0,j.jsxs)("select",{className:"cus-inpt",value:S.is_active,onChange:e=>N((l=>(0,n.c)((0,n.c)({},l),{},{is_active:e.target.value}))),children:[(0,j.jsx)("option",{value:"",disabled:!0,children:"select"}),(0,j.jsx)("option",{value:"1",children:"Active"}),(0,j.jsx)("option",{value:"0",children:"Disable"})]})]})]})}),(0,j.jsxs)(m.c,{children:[(0,j.jsx)(t.c,{type:"button",onClick:f,children:"cancel"}),(0,j.jsx)(t.c,{type:"submit",variant:"outlined",children:"save"})]})]})]})]})}},96064:(e,l,i)=>{i.d(l,{c:()=>s});var n=i(27664),d=i(82496);const s=(0,n.c)((0,d.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"}),"Add")},86e3:(e,l,i)=>{i.d(l,{c:()=>s});var n=i(27664),d=i(82496);const s=(0,n.c)((0,d.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"}),"Edit")}}]);
//# sourceMappingURL=3416.49b96e5c.chunk.js.map
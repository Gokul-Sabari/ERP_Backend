"use strict";(self.webpackChunkerp=self.webpackChunkerp||[]).push([[8816,3692,1312],{45896:(e,s,l)=>{l.r(s),l.d(s,{default:()=>N});var r=l(30800),i=l(69060),d=l(1908),c=l(39308),a=l(43692),n=l(5548),t=l(82656),o=l(26773),h=l(4488),u=l(85624),x=l(78092),m=l(90048),v=l(89e3),j=l(27664),p=l(82496);const f=(0,j.c)((0,p.jsx)("path",{d:"M6 6v2h8.59L5 17.59 6.41 19 16 9.41V18h2V6z"}),"ArrowOutward"),N=e=>{let{loadingOn:s,loadingOff:l}=e;const[j,N]=(0,i.useState)([]),[g,C]=(0,i.useState)([]),[b,y]=(0,i.useState)(!1),[w,E]=(0,i.useState)([]),[S,M]=(0,i.useState)([]),O=function(e){const s="ERP"===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ERP")?j:g,l=null===s||void 0===s?void 0:s[e];if(!l||!Array.isArray(l.columns))return E([]),void y(!0);const r=l.columns.map(((e,s)=>({Field_Name:e.COLUMN_NAME,isDefault:"NO"===e.IS_NULLABLE,isVisible:!0,OrderBy:s+1})));E(r),M(r),y(!0)};return(0,i.useEffect)((()=>{const e=(0,c.gV)().user;(async()=>{try{s&&s();const[r,i]=await Promise.all([(0,d.q)({address:"masters/getDetails"}),(0,d.q)({address:"masters/getTallyData",headers:{Db:null===e||void 0===e?void 0:e.Company_id}})]),c=r.success?r.data:[],a=i.success?i.data:[];N(c),C(a),l&&l()}catch(r){console.error("Error fetching data:",r)}})()}),[]),(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)(a.c,{children:[(0,p.jsx)("div",{className:"px-3 py-2 fa-14",children:(0,p.jsxs)("div",{className:"d-flex flex-wrap align-items-center",children:[(0,p.jsx)("h5",{className:"flex-grow-1",children:"LOM"}),(0,p.jsx)(n.c,{size:"small"})]})}),(0,p.jsxs)("table",{className:"table table-bordered text-center",style:{borderCollapse:"collapse",width:"100%"},children:[(0,p.jsxs)("thead",{children:[(0,p.jsxs)("tr",{children:[(0,p.jsx)("th",{colSpan:"4",className:"bg-light",children:"ERP"}),(0,p.jsx)("th",{colSpan:"3",className:"bg-light",children:"TALLY"})]}),(0,p.jsxs)("tr",{children:[(0,p.jsx)("th",{children:"#"}),(0,p.jsx)("th",{children:"MASTER NAME"}),(0,p.jsx)("th",{children:"COUNT"}),(0,p.jsx)("th",{children:"FIELDS"}),(0,p.jsx)("th",{children:"MASTER NAME"}),(0,p.jsx)("th",{children:"COUNT"}),(0,p.jsx)("th",{children:"FIELDS"})]})]}),(0,p.jsx)("tbody",{children:Array.from({length:Math.max(j.length||0,g.length||0)}).map(((e,s)=>{var l,r,i,d,c,a;return(0,p.jsxs)("tr",{children:[(0,p.jsx)("td",{children:s+1}),(0,p.jsx)("td",{children:(null===(l=j[s])||void 0===l?void 0:l.master)||"-"}),(0,p.jsx)("td",{children:(null===(r=j[s])||void 0===r?void 0:r.count)||"-"}),(0,p.jsxs)("td",{children:[(null===(i=j[s])||void 0===i?void 0:i.fields)||"-"," ",(0,p.jsxs)(n.c,{size:"small",onClick:()=>O(s,"ERP"),children:[" ",(0,p.jsx)(f,{color:"primary"})]})]}),(0,p.jsx)("td",{children:(null===(d=g[s])||void 0===d?void 0:d.master)||"-"}),(0,p.jsx)("td",{children:(null===(c=g[s])||void 0===c?void 0:c.count)||"-"}),(0,p.jsxs)("td",{children:[(null===(a=g[s])||void 0===a?void 0:a.fields)||"-"," ",(0,p.jsx)(n.c,{size:"small",onClick:()=>O(s,"Tally"),children:(0,p.jsx)(f,{color:"primary"})})]})]},s)}))})]})]}),(0,p.jsxs)(t.c,{open:b,onClose:()=>y(!1),maxWidth:"lg",fullWidth:!0,children:[(0,p.jsx)(o.c,{children:"Column Settings"}),(0,p.jsx)(h.c,{children:(0,p.jsx)("div",{className:"row",children:null===w||void 0===w?void 0:w.map(((e,s)=>(0,p.jsx)("div",{className:"col-lg-4 col-md-6 p-2",children:(0,p.jsxs)(a.c,{component:u.c,className:"p-2 d-flex justify-content-between align-items-center flex-wrap ".concat(s%2!==0?"bg-light":""),children:[(0,p.jsxs)("div",{className:"d-flex align-items-center flex-wrap",children:[(0,p.jsx)(x.c,{checked:Boolean(null===e||void 0===e?void 0:e.isDefault)||Boolean(null===e||void 0===e?void 0:e.isVisible),disabled:Boolean(null===e||void 0===e?void 0:e.isDefault),onChange:s=>E((l=>l.map((l=>l.Field_Name===e.Field_Name?(0,r.c)((0,r.c)({},l),{},{isVisible:s.target.checked?1:0}):l))))}),(0,p.jsx)("span",{className:"fa-13 mb-0 fw-bold ms-2",children:null===e||void 0===e?void 0:e.Field_Name})]}),(0,p.jsx)("input",{type:"number",value:(null===e||void 0===e?void 0:e.OrderBy)||"",onChange:s=>E((l=>l.map((l=>l.Field_Name===e.Field_Name?(0,r.c)((0,r.c)({},l),{},{OrderBy:Number(s.target.value)}):l)))),className:"mt-2 p-1 border-0 cus-inpt",style:{width:"80px"},placeholder:"Order"})]})},s)))})}),(0,p.jsxs)(m.c,{children:[(0,p.jsx)(v.c,{onClick:()=>E(S),variant:"outlined",children:"Reset"}),(0,p.jsx)(v.c,{onClick:()=>y(!1),color:"error",children:"Close"})]})]})]})}},43692:(e,s,l)=>{l.d(s,{c:()=>p});var r=l(45072),i=l(95656),d=l(69060),c=l(79736),a=l(21412),n=l(12556),t=l(49836),o=l(85624),h=l(10099),u=l(33448);function x(e){return(0,u.cp)("MuiCard",e)}(0,h.c)("MuiCard",["root"]);var m=l(82496);const v=["className","raised"],j=(0,n.cp)(o.c,{name:"MuiCard",slot:"Root",overridesResolver:(e,s)=>s.root})((()=>({overflow:"hidden"}))),p=d.forwardRef((function(e,s){const l=(0,t.C)({props:e,name:"MuiCard"}),{className:d,raised:n=!1}=l,o=(0,i.c)(l,v),h=(0,r.c)({},l,{raised:n}),u=(e=>{const{classes:s}=e;return(0,a.c)({root:["root"]},x,s)})(h);return(0,m.jsx)(j,(0,r.c)({className:(0,c.c)(u.root,d),elevation:n?8:void 0,ref:s,ownerState:h},o))}))},17104:(e,s,l)=>{l.d(s,{c:()=>r});const r=l(69060).createContext(void 0)},29972:(e,s,l)=>{l.d(s,{c:()=>d});var r=l(69060),i=l(17104);function d(){return r.useContext(i.c)}}}]);
//# sourceMappingURL=8816.1d6b40e3.chunk.js.map
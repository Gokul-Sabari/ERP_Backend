"use strict";(self.webpackChunkerp=self.webpackChunkerp||[]).push([[5348],{62344:(e,a,t)=>{t.d(a,{o$:()=>n,o5:()=>r,cF:()=>i,iI:()=>d});var l=t(30800);const o=t.p+"static/media/smt.aa4d4f940bbebff07a57.png",d={table:{style:{width:"auto",backgroundColor:"transparent"}},rows:{style:{backgroundColor:"transparent"}},headCells:{style:{backgroundColor:"#6b9080f8",color:"white",fontSize:"14px"}}},i={control:(e,a)=>(0,l.c)((0,l.c)({},e),{},{height:"45px",background:"rgba(255, 255, 255, 0.322)"}),menu:(e,a)=>(0,l.c)((0,l.c)({},e),{},{zIndex:9999}),menuPortal:e=>(0,l.c)((0,l.c)({},e),{},{zIndex:9999}),groupHeading:e=>(0,l.c)((0,l.c)({},e),{},{backgroundColor:"#f5f5f5",color:"#333",fontWeight:"bold",fontSize:"14px",padding:"8px 12px",borderBottom:"1px solid #ddd",textTransform:"uppercase"}),option:(e,a)=>(0,l.c)((0,l.c)({},e),{},{backgroundColor:a.isSelected?"#2684FF":a.isFocused?"#E2ECF9":"white",color:a.isSelected?"white":"#333",padding:"10px 12px"})},n=[{id:1,headname:"Menu ID",variant:"head",align:"left",width:100},{id:2,headname:"MenuName"},{id:3,headname:"Read Rights"},{id:4,headname:"Add Rights"},{id:5,headname:"Edit Rights"},{id:6,headname:"Delete Rights"},{id:7,headname:"Print Rights"},{id:8,headname:"Action"}],r=[{dataBase:1,name:"SHANKAR TRADERS",business:"Wholesale Merchant in Dhall",address:"32, Chitrakara Street, Madurai - 01 <br /> Bill of Supply -Disclaimer Affidavlt Field Extemped",logo:o,gstin:"33AADFS6973R1ZD",phone:"984-313-1353, 984-335-5166",fssai:"12418012000818",bankAccount:"0021 5032 0885 122",ifsc:"TMBL0000002"},{dataBase:2,name:"SMT AGRO PRODUCTS",business:"",address:"H.O: 153, Chitrakara Street, 2nd Floor, Madurai -01 <br /> G.O: 746 Puliyur, Sayanapuram, Svga <br /> Bill of Supply -Disclaimer Affidavlt Field Extemped",logo:o,gstin:"33ACMFS3420Q1ZQ",phone:"0452-4371625",fssai:"12418012000818",bankAccount:"0025 3031 0875 947",ifsc:"TMBL0000002"},{dataBase:3,name:"BHAVANI TRADERS",business:"",address:"H.O: 152-A, Chitrakara Street, Madurai -01 <br /> G.O: 30/1-Rajman Nagar, Chintamani Main Road, Mdu-01 <br /> Tax Invoice",logo:o,gstin:"33AAEFB6728J1ZG",phone:"958-559-7641, 958-559-7614",fssai:"12418012000670",bankAccount:"0021 5005 0800 309",ifsc:"TMBL0000002"}]},5268:(e,a,t)=>{t.r(a),t.d(a,{default:()=>C});var l=t(30800),o=t(3358),d=t(5548),i=t(82656),n=t(26773),r=t(4488),c=t(90048),s=t(89e3),u=t(39308),m=t(1908),h=t(13724),v=t(40656),p=t(69060),g=t(61988),x=t(57704),A=t(51560),b=t(62344),_=t(82496);const f={Fromdate:(0,u.Q7)(),Todate:(0,u.Q7)()},R={voucherType:[],retailers:[],collectionType:[],paymentStatus:[],collectedBy:[]},C=e=>{let{loadingOn:a,loadingOff:t}=e;const C=(0,A.i6)(),S=(0,A.IT)(),y=new URLSearchParams((0,A.IT)().search),F=JSON.parse(localStorage.getItem("user")),[j,T]=(0,p.useState)([]),[I,N]=(0,p.useState)(R),[D,k]=(0,p.useState)({Fromdate:f.Fromdate,Todate:f.Todate,fetchFrom:f.Fromdate,fetchTo:f.Todate,Retailer_Id:"",Retailer_Name:"ALL",Area_Id:"",Area_Name:"ALL",Route_Id:"",RoutesGet:"ALL",filterDialog:!1,refresh:!1}),[M,L]=(0,p.useState)([]),[P,w]=(0,p.useState)([]),[B,E]=(0,p.useState)([]);(0,p.useEffect)((()=>{(0,m.q)({address:"receipt/filterValues"}).then((e=>{var a;e.success&&N({voucherType:(0,u.wN)(null===e||void 0===e||null===(a=e.others)||void 0===a?void 0:a.voucherType)})})).catch((e=>console.error(e)))}),[]),(0,p.useEffect)((()=>{(0,m.q)({address:"masters/retailers/dropDown?Company_Id=".concat(null===F||void 0===F?void 0:F.Company_id)}).then((e=>{e.success&&L(e.data)})).catch((e=>console.error(e))),(0,m.q)({address:"masters/areas/dropdown?Company_Id=".concat(null===F||void 0===F?void 0:F.Company_id)}).then((e=>{e.success&&w(e.data)})).catch((e=>console.error(e))),(0,m.q)({address:"masters/routes/dropdown?Company_id=".concat(null===F||void 0===F?void 0:F.Company_id)}).then((e=>{e.success&&E(e.data)})).catch((e=>console.error(e)))}),[null===F||void 0===F?void 0:F.Company_id]),(0,p.useEffect)((()=>{a&&a(),(0,m.q)({address:"receipt/outstanding?Fromdate=".concat(null===D||void 0===D?void 0:D.fetchFrom,"&Todate=").concat(null===D||void 0===D?void 0:D.fetchTo,"&Retailer_Id=").concat(D.Retailer_Id,"&Area_Id=").concat(D.Area_Id,"&Route_Id=").concat(D.Route_Id)}).then((e=>{e.success&&T(e.data)})).finally((()=>{t&&t()})).catch((e=>console.error(e)))}),[null===D||void 0===D?void 0:D.fetchFrom,null===D||void 0===D?void 0:D.fetchTo,null===D||void 0===D?void 0:D.refresh]),(0,p.useEffect)((()=>{const e={Fromdate:y.get("Fromdate")&&(0,u.e8)(y.get("Fromdate"))?y.get("Fromdate"):f.Fromdate,Todate:y.get("Todate")&&(0,u.e8)(y.get("Todate"))?y.get("Todate"):f.Todate};k((a=>(0,l.c)((0,l.c)({},a),{},{fetchFrom:e.Fromdate,fetchTo:e.Todate})))}),[S.search]);const H=()=>{k((e=>(0,l.c)((0,l.c)({},e),{},{filterDialog:!1})))},O=(0,p.useMemo)((()=>j.reduce(((e,a)=>(0,u.Q5)(e,null===a||void 0===a?void 0:a.Closing_Balance)),0)),[j]);return(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(h.cp,{title:"Receipts",ButtonArea:(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(o.c,{title:"Filters",children:(0,_.jsx)(d.c,{size:"small",onClick:()=>k((0,l.c)((0,l.c)({},D),{},{filterDialog:!0})),children:(0,_.jsx)(g.c,{})})}),(0,u.gH)(O)>0&&(0,_.jsxs)("h6",{className:"m-0 text-end text-muted px-3",children:["Total: ",O]})]}),EnableSerialNumber:!0,dataArray:j,headerFontSizePx:14,bodyFontSizePx:13,columns:[(0,h.A5)("Retailer_Name","string","Retailer_Name"),(0,h.A5)("Opening_Pending_Amount","string","Opening_Pending_Amount"),(0,h.A5)("Current_Invoice_Value","string","Current_Invoice_Value"),(0,h.A5)("Current_Collected_Amount","string","Current_Collected_Amount"),(0,h.A5)("Closing_Balance","number","Closing_Balance")],isExpendable:!1,expandableComp:e=>{let{row:a}=e;return(0,_.jsx)("div",{className:"py-2",children:(0,_.jsx)(h.cp,{disablePagination:!0,headerFontSizePx:13,bodyFontSizePx:12,dataArray:Array.isArray(null===a||void 0===a?void 0:a.Receipts)?null===a||void 0===a?void 0:a.Receipts:[],columns:[(0,h.A5)("Do_Inv_No","string","Delivery Invoice Number"),(0,h.A5)("Do_Date","date","Delivery Date"),(0,h.A5)("collected_amount","number","Receipt Amount"),(0,h.A5)("total_receipt_amount","number","Total Receipt"),(0,h.A5)("Total_Invoice_value","number","Invoice Value"),{isVisible:1,ColumnHeader:"Pending Amount",isCustomCell:!0,Cell:e=>{let{row:a}=e;return(0,u.od)(null===a||void 0===a?void 0:a.bill_amount,null===a||void 0===a?void 0:a.total_receipt_amount)}}]})})}}),(0,_.jsxs)(i.c,{open:D.filterDialog,onClose:H,fullWidth:!0,maxWidth:"md",children:[(0,_.jsx)(n.c,{children:"Filters"}),(0,_.jsx)(r.c,{children:(0,_.jsx)("div",{className:"table-responsive pb-4",children:(0,_.jsx)("table",{className:"table",children:(0,_.jsxs)("tbody",{children:[(0,_.jsxs)("tr",{children:[(0,_.jsx)("td",{style:{verticalAlign:"middle"},children:"From"}),(0,_.jsx)("td",{children:(0,_.jsx)("input",{type:"date",value:D.Fromdate,onChange:e=>k((0,l.c)((0,l.c)({},D),{},{Fromdate:e.target.value})),className:"cus-inpt"})}),(0,_.jsx)("td",{style:{verticalAlign:"middle"},children:"To"}),(0,_.jsx)("td",{children:(0,_.jsx)("input",{type:"date",value:D.Todate,onChange:e=>k((0,l.c)((0,l.c)({},D),{},{Todate:e.target.value})),className:"cus-inpt"})})]}),(0,_.jsxs)("tr",{children:[(0,_.jsx)("td",{style:{verticalAlign:"middle"},children:"Retailer"}),(0,_.jsx)("td",{colSpan:3,children:(0,_.jsx)(v.cp,{value:{value:D.Retailer_Id,label:D.Retailer_Name},onChange:e=>k((a=>(0,l.c)((0,l.c)({},a),{},{Retailer_Id:(null===e||void 0===e?void 0:e.value)||"",Retailer_Name:(null===e||void 0===e?void 0:e.label)||""}))),options:[{value:"",label:"ALL"},...M.map((e=>({value:null===e||void 0===e?void 0:e.Retailer_Id,label:null===e||void 0===e?void 0:e.Retailer_Name})))],menuPortalTarget:document.body,styles:b.cF,isSearchable:!0,placeholder:"Select Retailer",maxMenuHeight:300})})]}),(0,_.jsxs)("tr",{children:[(0,_.jsx)("td",{style:{verticalAlign:"middle"},children:"Area"}),(0,_.jsx)("td",{colSpan:3,children:(0,_.jsx)(v.cp,{value:{value:D.Area_Id,label:D.Area_Name},onChange:e=>k((a=>(0,l.c)((0,l.c)({},a),{},{Area_Id:(null===e||void 0===e?void 0:e.value)||"",Area_Name:(null===e||void 0===e?void 0:e.label)||""}))),options:[{value:"",label:"ALL"},...P.map((e=>({value:null===e||void 0===e?void 0:e.Area_Id,label:null===e||void 0===e?void 0:e.Area_Name})))],menuPortalTarget:document.body,styles:b.cF,isSearchable:!0,placeholder:"Select Area",maxMenuHeight:300})})]}),(0,_.jsxs)("tr",{children:[(0,_.jsx)("td",{style:{verticalAlign:"middle"},children:"Routes"}),(0,_.jsx)("td",{colSpan:3,children:(0,_.jsx)(v.cp,{value:{value:null===D||void 0===D?void 0:D.Route_Id,label:null===D||void 0===D?void 0:D.RoutesGet},onChange:e=>k((0,l.c)((0,l.c)({},D),{},{Route_Id:e.value,RoutesGet:e.label})),options:[{value:"",label:"ALL"},...B.map((e=>({value:null===e||void 0===e?void 0:e.Route_Id,label:null===e||void 0===e?void 0:e.Route_Name})))],menuPortalTarget:document.body,styles:b.cF,isSearchable:!0,placeholder:"Route",maxMenuHeight:300})})]})]})})})}),(0,_.jsxs)(c.c,{children:[(0,_.jsx)(s.c,{onClick:H,children:"close"}),(0,_.jsx)(s.c,{onClick:()=>{(e=>{const a=new URLSearchParams(e);C("?".concat(a.toString()),{replace:!0})})({Fromdate:null===D||void 0===D?void 0:D.Fromdate,Todate:null===D||void 0===D?void 0:D.Todate}),k((e=>(0,l.c)((0,l.c)({},e),{},{refresh:!e.refresh}))),H()},startIcon:(0,_.jsx)(x.c,{}),variant:"outlined",children:"Search"})]})]})]})}},61988:(e,a,t)=>{t.d(a,{c:()=>d});var l=t(27664),o=t(82496);const d=(0,l.c)((0,o.jsx)("path",{d:"M4.25 5.61C6.27 8.2 10 13 10 13v6c0 .55.45 1 1 1h2c.55 0 1-.45 1-1v-6s3.72-4.8 5.74-7.39c.51-.66.04-1.61-.79-1.61H5.04c-.83 0-1.3.95-.79 1.61"}),"FilterAlt")},57704:(e,a,t)=>{t.d(a,{c:()=>d});var l=t(27664),o=t(82496);const d=(0,l.c)((0,o.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"}),"Search")}}]);
//# sourceMappingURL=5348.9965fe74.chunk.js.map
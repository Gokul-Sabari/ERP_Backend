"use strict";(self.webpackChunkerp=self.webpackChunkerp||[]).push([[2072],{42072:(e,a,t)=>{t.r(a),t.d(a,{default:()=>O});var l=t(30800),n=t(69060),o=t(1908),r=t(39308),i=t(13724),c=t(71448),m=t(52924),s=t(44380),u=t(3358),d=t(5548),_=t(82656),p=t(4488),v=t(90048),y=t(89e3),N=t(26773),C=t(43692),b=t(85624),h=t(78092),x=t(68424),D=t(39504),g=t(12120),j=t(74912),T=t(61988),f=t(59952),S=t(82496);const F=(0,S.jsx)(x.c,{fontSize:"small"}),k=(0,S.jsx)(D.c,{fontSize:"small"}),O=e=>{let{loadingOn:a,loadingOff:t,defaultGrouping:x="",groupingOption:D=!0}=e;const[O,B]=(0,n.useState)([]),[z,w]=(0,n.useState)({}),[Q,P]=(0,n.useState)(x),[E,M]=(0,n.useState)([]),[A,G]=(0,n.useState)(!1),[I,R]=(0,n.useState)(!1),[V,H]=(0,n.useState)({reqDate:(0,r.Q7)()}),L=f.M$.map(((e,a)=>({isVisible:a<11?1:0,Field_Name:null===e||void 0===e?void 0:e.Column_Name,Fied_Data:null===e||void 0===e?void 0:e.Data_Type,OrderBy:a+1,isEnabled:!0}))),[q,W]=(0,n.useState)(L);(0,n.useEffect)((()=>{(0,o.q)({address:"reports/itemGroup/stockInfo?\n            reqDate=".concat(V.reqDate),loadingOn:a,loadingOff:t}).then((e=>{e.success&&B((0,r.dq)(e.data))})).catch((e=>console.error(e)))}),[V.reqDate,a,t]);const $=(0,n.useMemo)((()=>[...q].sort(((e,a)=>null!==e&&void 0!==e&&e.OrderBy&&null!==a&&void 0!==a&&a.OrderBy?(null===e||void 0===e?void 0:e.OrderBy)-(null===a||void 0===a?void 0:a.OrderBy):(null===a||void 0===a?void 0:a.OrderBy)-(null===e||void 0===e?void 0:e.OrderBy)))),[q]),U=(0,n.useMemo)((()=>$.filter((e=>((0,r.Qr)(null===e||void 0===e?void 0:e.Defult_Display,1)||(0,r.Qr)(null===e||void 0===e?void 0:e.isVisible,1))&&!0===e.isEnabled))),[$]),J=(0,n.useMemo)((()=>{const e=Object.keys(z).length>0,a=!!Q,t=e?E:O,n=a?(0,r.ui)(t,Q):[],o=U.filter((e=>"number"===(0,r.MP)(e.Fied_Data))).map((e=>e.Field_Name)),i=n.map((e=>(0,l.c)((0,l.c)({},e),Object.fromEntries(o.map((a=>{var t;return[a,null===e||void 0===e||null===(t=e.groupedData)||void 0===t?void 0:t.reduce(((e,t)=>(0,r.Q5)(e,(0,r.gH)(t[a])||0)),0)]}))))));return a?i:t}),[z,O,E,Q,U]);(0,n.useEffect)((()=>{X()}),[z]);const K=(e,a)=>{w((t=>(0,l.c)((0,l.c)({},t),{},{[e]:a})))},X=()=>{let e=[...O];for(const t of $)if(z[t.Field_Name])if("range"===z[t.Field_Name].type){const{min:a,max:l}=z[t.Field_Name];e=e.filter((e=>{const n=e[t.Field_Name];return(void 0===a||n>=a)&&(void 0===l||n<=l)}))}else if("date"===z[t.Field_Name].type){const{start:a,end:l}=z[t.Field_Name].value;e=e.filter((e=>{const n=new Date(e[t.Field_Name]);return(void 0===a||n>=new Date(a))&&(void 0===l||n<=new Date(l))}))}else if(Array.isArray(z[t.Field_Name])){var a;e=(null===(a=z[t.Field_Name])||void 0===a?void 0:a.length)>0?e.filter((e=>{var a;return z[t.Field_Name].includes(null===(a=e[t.Field_Name])||void 0===a?void 0:a.toLowerCase().trim())})):e}M(e)},Y=e=>{const{Field_Name:a,Fied_Data:t}=e;var n,o,r,i,u,d,_,p,v,y;if("number"===t)return(0,S.jsxs)("div",{className:"d-flex justify-content-between px-2",children:[(0,S.jsx)("input",{placeholder:"Min",type:"number",className:"bg-light border-0 m-1 p-1 w-50",value:null!==(n=null===(o=z[a])||void 0===o?void 0:o.min)&&void 0!==n?n:"",onChange:e=>K(a,(0,l.c)((0,l.c)({type:"range"},z[a]),{},{min:e.target.value?parseFloat(e.target.value):void 0}))}),(0,S.jsx)("input",{placeholder:"Max",type:"number",className:"bg-light border-0 m-1 p-1 w-50",value:null!==(r=null===(i=z[a])||void 0===i?void 0:i.max)&&void 0!==r?r:"",onChange:e=>K(a,(0,l.c)((0,l.c)({type:"range"},z[a]),{},{max:e.target.value?parseFloat(e.target.value):void 0}))})]});if("date"===t)return(0,S.jsxs)("div",{className:"d-flex justify-content-between px-2",children:[(0,S.jsx)("input",{placeholder:"Start Date",type:"date",className:"bg-light border-0 m-1 p-1 w-50",value:null!==(u=null===(d=z[a])||void 0===d||null===(_=d.value)||void 0===_?void 0:_.start)&&void 0!==u?u:"",onChange:e=>{var t;return K(a,{type:"date",value:(0,l.c)((0,l.c)({},null===(t=z[a])||void 0===t?void 0:t.value),{},{start:e.target.value||void 0})})}}),(0,S.jsx)("input",{placeholder:"End Date",type:"date",className:"bg-light border-0 m-1 p-1 w-50",value:null!==(p=null===(v=z[a])||void 0===v||null===(y=v.value)||void 0===y?void 0:y.end)&&void 0!==p?p:"",onChange:e=>{var t;return K(a,{type:"date",value:(0,l.c)((0,l.c)({},null===(t=z[a])||void 0===t?void 0:t.value),{},{end:e.target.value||void 0})})}})]});if("string"===t){const e=[...new Set(O.map((e=>{var t,l;return null===(t=e[a])||void 0===t||null===(l=t.toLowerCase())||void 0===l?void 0:l.trim()})))];return(0,S.jsx)(c.c,{multiple:!0,id:"".concat(a,"-filter"),options:e,disableCloseOnSelect:!0,getOptionLabel:e=>e,value:z[a]||[],onChange:(e,t)=>K(a,t),renderOption:(e,a,t)=>{let{selected:n}=t;return(0,S.jsxs)("li",(0,l.c)((0,l.c)({},e),{},{children:[(0,S.jsx)(m.c,{icon:F,checkedIcon:k,style:{marginRight:8},checked:n}),a]}))},isOptionEqualToValue:(e,a)=>e===a,renderInput:e=>(0,S.jsx)(s.c,(0,l.c)((0,l.c)({},e),{},{label:a,placeholder:"Select ".concat(a)}))})}},Z=()=>{G(!1),R(!1)};return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(i.cp,{title:"Item Wise",EnableSerialNumber:!0,headerFontSizePx:12,bodyFontSizePx:12,maxHeightOption:!0,ButtonArea:(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(u.c,{title:"Column Visibility",children:(0,S.jsx)(d.c,{size:"small",onClick:()=>G(!0),children:(0,S.jsx)(g.c,{})})}),(0,S.jsx)(u.c,{title:"Clear Filters",children:(0,S.jsx)(d.c,{size:"small",onClick:()=>w({}),children:(0,S.jsx)(j.c,{})})}),(0,S.jsx)(u.c,{title:"Filters",children:(0,S.jsx)(d.c,{onClick:()=>R(!0),size:"small",children:(0,S.jsx)(T.c,{})})}),D&&(0,S.jsxs)("div",{className:"d-flex align-items-center flex-wrap",children:[(0,S.jsx)("span",{children:"Group-By: "}),(0,S.jsxs)("select",{className:"cus-inpt p-2 w-auto m-1",value:Q,onChange:e=>P(e.target.value),children:[(0,S.jsx)("option",{value:"",children:"select group"}),U.filter((e=>"string"===(0,r.MP)(e.Fied_Data)&&"Ledger_Name"!==(null===e||void 0===e?void 0:e.Field_Name)&&e.isEnabled)).map(((e,a)=>(0,S.jsx)("option",{value:null===e||void 0===e?void 0:e.Field_Name,children:null===e||void 0===e?void 0:e.Field_Name},a)))]})]})]}),ExcelPrintOption:!0,dataArray:J,columns:Q?U.filter((e=>J.length>0&&Object.keys(J[0]).includes(e.Field_Name)&&e.isEnabled)).map((e=>(0,l.c)((0,l.c)({},e),{},{ColumnHeader:e.Field_Name}))):U.filter((e=>e.isEnabled)).map((e=>(0,l.c)((0,l.c)({},e),{},{ColumnHeader:e.Field_Name}))),isExpendable:!!Q,expandableComp:e=>{let{row:a}=e;return(0,S.jsx)(i.cp,{EnableSerialNumber:!0,headerFontSizePx:12,bodyFontSizePx:12,dataArray:(0,r.dq)(null===a||void 0===a?void 0:a.groupedData),columns:U.filter((e=>!(0,r.m2)(e.Field_Name,Q)&&e.isEnabled))})}}),(0,S.jsxs)(_.c,{open:I,onClose:Z,maxWidth:"sm",fullWidth:!0,children:[(0,S.jsxs)(p.c,{children:[(0,S.jsxs)("h5",{className:"d-flex justify-content-between px-2",children:[(0,S.jsx)("span",{children:"Filters"}),(0,S.jsxs)("span",{children:[(0,S.jsx)(u.c,{title:"Column Visibility",children:(0,S.jsx)(d.c,{size:"small",onClick:()=>G(!0),children:(0,S.jsx)(g.c,{})})}),(0,S.jsx)(u.c,{title:"Clear Filters",children:(0,S.jsx)(d.c,{size:"small",onClick:()=>w({}),children:(0,S.jsx)(j.c,{})})})]})]}),(0,S.jsxs)("div",{className:"border rounded-3",children:[U.filter((e=>e.isEnabled)).map(((e,a)=>(0,S.jsxs)("div",{className:"py-3 px-3 hov-bg border-bottom",children:[(0,S.jsx)("label",{className:"mt-2 mb-1",children:null===e||void 0===e?void 0:e.Field_Name}),Y(e)]},a))),(0,S.jsx)("br",{})]})]}),(0,S.jsx)(v.c,{children:(0,S.jsx)(y.c,{onClick:Z,color:"error",children:"Close"})})]}),(0,S.jsxs)(_.c,{open:A,onClose:()=>G(!1),maxWidth:"lg",fullWidth:!0,children:[(0,S.jsx)(N.c,{children:"Column Settings"}),(0,S.jsx)(p.c,{children:(0,S.jsx)("div",{className:"row",children:q.map(((e,a)=>(0,S.jsx)("div",{className:"col-lg-4 col-md-6 p-2",children:(0,S.jsxs)(C.c,{component:b.c,className:"p-2 d-flex justify-content-between align-items-center flex-wrap ".concat(a%2!==0?"bg-light":""," ").concat(e.isEnabled?"":"opacity-50"),children:[(0,S.jsxs)("div",{className:"d-flex justify-content-between align-items-center flex-wrap",children:[(0,S.jsx)(h.c,{checked:Boolean(null===e||void 0===e?void 0:e.isVisible)&&e.isEnabled,onChange:a=>e.isEnabled&&W((t=>t.map((t=>t.Field_Name===(null===e||void 0===e?void 0:e.Field_Name)?(0,l.c)((0,l.c)({},t),{},{isVisible:a.target.checked?1:0}):t))))}),(0,S.jsxs)("h6",{className:"fa-13 mb-0 fw-bold",children:[e.Field_Name,!e.isEnabled&&(0,S.jsx)("span",{className:"text-muted small"})]})]}),(0,S.jsx)("input",{type:"number",value:(0,r.Q$)(null===e||void 0===e?void 0:e.OrderBy)?null===e||void 0===e?void 0:e.OrderBy:"",onChange:a=>e.isEnabled&&W((t=>t.map((t=>t.Field_Name===(null===e||void 0===e?void 0:e.Field_Name)?(0,l.c)((0,l.c)({},t),{},{OrderBy:a.target.value}):t)))),disabled:!e.isEnabled,className:"mt-2 p-1 border-0 cus-inpt",style:{width:"80px"},placeholder:"Order"})]})},a)))})}),(0,S.jsxs)(v.c,{children:[(0,S.jsx)(y.c,{onClick:()=>{W(L)},variant:"outlined",children:"Reset"}),(0,S.jsx)(y.c,{onClick:()=>G(!1),color:"error",children:"Close"})]})]})]})}},59952:(e,a,t)=>{t.d(a,{M$:()=>o,__:()=>n,us:()=>l});const l=[{Column_Name:"Trans_Date",Data_Type:"date"},{Column_Name:"Group_Name",Data_Type:"string"},{Column_Name:"stock_item_name",Data_Type:"string"},{Column_Name:"OB_Bal_Qty",Data_Type:"number"},{Column_Name:"OB_Act_Qty",Data_Type:"number"},{Column_Name:"Pur_Qty",Data_Type:"number"},{Column_Name:"Sal_Qty",Data_Type:"number"},{Column_Name:"Bal_Qty",Data_Type:"number"},{Column_Name:"Bal_Act_Qty",Data_Type:"number"},{Column_Name:"Pur_Act_Qty",Data_Type:"number"},{Column_Name:"Sal_Act_Qty",Data_Type:"number"},{Column_Name:"Stock_Item",Data_Type:"string"},{Column_Name:"Group_ST",Data_Type:"string"},{Column_Name:"Bag",Data_Type:"string"},{Column_Name:"Stock_Group",Data_Type:"string"},{Column_Name:"Product_Rate",Data_Type:"number"},{Column_Name:"S_Sub_Group_1",Data_Type:"string"},{Column_Name:"Grade_Item_Group",Data_Type:"string"},{Column_Name:"Item_Name_Modified",Data_Type:"string"}],n=[{Column_Name:"Godown_Name",Data_Type:"string"},{Column_Name:"stock_item_name",Data_Type:"string"},{Column_Name:"OB_Bal_Qty",Data_Type:"number"},{Column_Name:"OB_Act_Qty",Data_Type:"number"},{Column_Name:"Pur_Qty",Data_Type:"number"},{Column_Name:"Sal_Qty",Data_Type:"number"},{Column_Name:"Bal_Qty",Data_Type:"number"},{Column_Name:"Act_Bal_Qty",Data_Type:"number"},{Column_Name:"Pur_Act_Qty",Data_Type:"number"},{Column_Name:"Sal_Act_Qty",Data_Type:"number"},{Column_Name:"Stock_Item",Data_Type:"string"},{Column_Name:"Group_ST",Data_Type:"string"},{Column_Name:"Bag",Data_Type:"string"},{Column_Name:"Stock_Group",Data_Type:"string"},{Column_Name:"Product_Rate",Data_Type:"number"},{Column_Name:"S_Sub_Group_1",Data_Type:"string"},{Column_Name:"Grade_Item_Group",Data_Type:"string"},{Column_Name:"Item_Name_Modified",Data_Type:"string"}],o=[{Column_Name:"Group_Name",Data_Type:"string"},{Column_Name:"Brand",Data_Type:"string"},{Column_Name:"Group_ST",Data_Type:"string"},{Column_Name:"Stock_Group",Data_Type:"string"},{Column_Name:"S_Sub_Group_1",Data_Type:"string"},{Column_Name:"Grade_Item_Group",Data_Type:"string"},{Column_Name:"Trans_Date",Data_Type:"date"},{Column_Name:"OB_Bal_Qty",Data_Type:"number"},{Column_Name:"OB_Rate",Data_Type:"number"},{Column_Name:"OB_Value",Data_Type:"number"},{Column_Name:"Pur_Qty",Data_Type:"number"},{Column_Name:"Pur_Rate",Data_Type:"number"},{Column_Name:"Pur_value",Data_Type:"number"},{Column_Name:"Adj_Pur_Qty",Data_Type:"number"},{Column_Name:"Adj_Pur_Rate",Data_Type:"number"},{Column_Name:"Adj_Pur_value",Data_Type:"number"},{Column_Name:"IN_Qty",Data_Type:"number"},{Column_Name:"IN_Rate",Data_Type:"number"},{Column_Name:"IN_Value",Data_Type:"number"},{Column_Name:"Sal_Qty",Data_Type:"number"},{Column_Name:"Sal_Rate",Data_Type:"number"},{Column_Name:"Sal_value",Data_Type:"number"},{Column_Name:"Adj_Sal_Qty",Data_Type:"number"},{Column_Name:"Adj_Sal_Rate",Data_Type:"number"},{Column_Name:"Adj_Sal_value",Data_Type:"number"},{Column_Name:"OUT_Qty",Data_Type:"number"},{Column_Name:"Out_Rate",Data_Type:"number"},{Column_Name:"Out_Value",Data_Type:"number"},{Column_Name:"Expense_value",Data_Type:"number"},{Column_Name:"Act_Expense",Data_Type:"number"},{Column_Name:"Bal_Qty",Data_Type:"number"},{Column_Name:"CL_Rate",Data_Type:"number"},{Column_Name:"CL_Value",Data_Type:"number"},{Column_Name:"CR_CL_Rate",Data_Type:"number"},{Column_Name:"Pre_Qty",Data_Type:"number"},{Column_Name:"Pre_Rate",Data_Type:"number"},{Column_Name:"Pre_CL_Value",Data_Type:"number"}]},39504:(e,a,t)=>{t.d(a,{c:()=>o});var l=t(27664),n=t(82496);const o=(0,l.c)((0,n.jsx)("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2m-9 14-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8z"}),"CheckBox")},68424:(e,a,t)=>{t.d(a,{c:()=>o});var l=t(27664),n=t(82496);const o=(0,l.c)((0,n.jsx)("path",{d:"M19 5v14H5V5zm0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2"}),"CheckBoxOutlineBlank")},61988:(e,a,t)=>{t.d(a,{c:()=>o});var l=t(27664),n=t(82496);const o=(0,l.c)((0,n.jsx)("path",{d:"M4.25 5.61C6.27 8.2 10 13 10 13v6c0 .55.45 1 1 1h2c.55 0 1-.45 1-1v-6s3.72-4.8 5.74-7.39c.51-.66.04-1.61-.79-1.61H5.04c-.83 0-1.3.95-.79 1.61"}),"FilterAlt")},74912:(e,a,t)=>{t.d(a,{c:()=>o});var l=t(27664),n=t(82496);const o=(0,l.c)((0,n.jsx)("path",{d:"M19.79 5.61C20.3 4.95 19.83 4 19 4H6.83l7.97 7.97zM2.81 2.81 1.39 4.22 10 13v6c0 .55.45 1 1 1h2c.55 0 1-.45 1-1v-2.17l5.78 5.78 1.41-1.41z"}),"FilterAltOff")},52924:(e,a,t)=>{t.d(a,{c:()=>F});var l=t(95656),n=t(45072),o=t(69060),r=t(79736),i=t(21412),c=t(13344),m=t(90608),s=t(27664),u=t(82496);const d=(0,s.c)((0,u.jsx)("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank"),_=(0,s.c)((0,u.jsx)("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox"),p=(0,s.c)((0,u.jsx)("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}),"IndeterminateCheckBox");var v=t(55832),y=t(49836),N=t(12556),C=t(43424),b=t(10099),h=t(33448);function x(e){return(0,h.cp)("MuiCheckbox",e)}const D=(0,b.c)("MuiCheckbox",["root","checked","disabled","indeterminate","colorPrimary","colorSecondary","sizeSmall","sizeMedium"]),g=["checkedIcon","color","icon","indeterminate","indeterminateIcon","inputProps","size","className"],j=(0,N.cp)(m.c,{shouldForwardProp:e=>(0,C.c)(e)||"classes"===e,name:"MuiCheckbox",slot:"Root",overridesResolver:(e,a)=>{const{ownerState:t}=e;return[a.root,t.indeterminate&&a.indeterminate,a["size".concat((0,v.c)(t.size))],"default"!==t.color&&a["color".concat((0,v.c)(t.color))]]}})((e=>{let{theme:a,ownerState:t}=e;return(0,n.c)({color:(a.vars||a).palette.text.secondary},!t.disableRipple&&{"&:hover":{backgroundColor:a.vars?"rgba(".concat("default"===t.color?a.vars.palette.action.activeChannel:a.vars.palette[t.color].mainChannel," / ").concat(a.vars.palette.action.hoverOpacity,")"):(0,c.W4)("default"===t.color?a.palette.action.active:a.palette[t.color].main,a.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"default"!==t.color&&{["&.".concat(D.checked,", &.").concat(D.indeterminate)]:{color:(a.vars||a).palette[t.color].main},["&.".concat(D.disabled)]:{color:(a.vars||a).palette.action.disabled}})})),T=(0,u.jsx)(_,{}),f=(0,u.jsx)(d,{}),S=(0,u.jsx)(p,{}),F=o.forwardRef((function(e,a){var t,c;const m=(0,y.C)({props:e,name:"MuiCheckbox"}),{checkedIcon:s=T,color:d="primary",icon:_=f,indeterminate:p=!1,indeterminateIcon:N=S,inputProps:C,size:b="medium",className:h}=m,D=(0,l.c)(m,g),F=p?N:_,k=p?N:s,O=(0,n.c)({},m,{color:d,indeterminate:p,size:b}),B=(e=>{const{classes:a,indeterminate:t,color:l,size:o}=e,r={root:["root",t&&"indeterminate","color".concat((0,v.c)(l)),"size".concat((0,v.c)(o))]},c=(0,i.c)(r,x,a);return(0,n.c)({},a,c)})(O);return(0,u.jsx)(j,(0,n.c)({type:"checkbox",inputProps:(0,n.c)({"data-indeterminate":p},C),icon:o.cloneElement(F,{fontSize:null!=(t=F.props.fontSize)?t:b}),checkedIcon:o.cloneElement(k,{fontSize:null!=(c=k.props.fontSize)?c:b}),ownerState:O,ref:a,className:(0,r.c)(B.root,h)},D,{classes:B}))}))}}]);
//# sourceMappingURL=2072.f09f03df.chunk.js.map
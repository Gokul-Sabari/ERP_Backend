/*! For license information please see 2644.dd5c5d64.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkerp=self.webpackChunkerp||[]).push([[2644,3692,1312,4712],{52700:(e,t,r)=>{r.r(t),r.d(t,{default:()=>y});var a=r(30800),l=r(69060),s=r(39308),n=r(56480),o=r(43692),c=r(89e3),i=r(84436),d=r(12572),u=r(15786),v=r(82656),m=r(26773),h=r(4488),f=r(90048),x=r(18256),p=r(29720),j=r(61584),b=r(77536),N=r(1908),S=r(82496);const y=()=>{const e=JSON.parse(localStorage.getItem("user")),{contextObj:t}=(0,l.useContext)(b.a),r={Id:"",EntryDate:(0,s.Q7)(),EntryTime:"10:00",LocationDetails:"MILL",Category:"OTHERS 1 - PRINT",StaffName:"",Tonnage:"",EntryBy:e.UserId},[y,g]=(0,l.useState)([]),[T,C]=(0,l.useState)([]),[A,E]=(0,l.useState)([]),[D,w]=(0,l.useState)(r),[R,M]=(0,l.useState)(!1),[L,q]=(0,l.useState)({reqDate:(0,s.Q7)(),reqLocation:"MILL",dialog:!1,view:"DATA ENTRY"});(0,l.useEffect)((()=>{(0,N.q)({address:"dataEntry/staffActivities/staffs"}).then((e=>E(e.data))).catch((e=>console.error(e)))}),[R]),(0,l.useEffect)((()=>{"DATA ENTRY"===L.view&&(g([]),(0,N.q)({address:"dataEntry/staffActivities?reqDate=".concat(L.reqDate,"&reqLocation=").concat(L.reqLocation)}).then((e=>{e.success&&g(e.data)})).catch((e=>console.error(e)))),"STAFF BASED"===L.view&&(C([]),(0,N.q)({address:"dataEntry/staffActivities/staffBased?reqDate=".concat(L.reqDate,"&reqLocation=").concat(L.reqLocation)}).then((e=>{e.success&&C(e.data)})).catch((e=>console.error(e))))}),[R,L.reqDate,L.reqLocation,L.view]);const O=()=>{q((e=>(0,a.c)((0,a.c)({},e),{},{dialog:!1}))),w(r)},I=e=>{var r,n,o,c;switch(e){case"DATA ENTRY":return(0,S.jsx)("div",{className:"table-responsive",children:(0,S.jsxs)("table",{className:"table",children:[(0,S.jsx)("thead",{children:(0,S.jsxs)("tr",{children:[(0,S.jsx)("th",{className:"fa-14 border text-center py-2 tble-hed-stick",children:"TIME"}),y[0]&&(null===(r=y[0])||void 0===r||null===(n=r.Categories)||void 0===n?void 0:n.map(((e,t)=>(0,S.jsx)("th",{className:"fa-14 border text-center py-2 tble-hed-stick",children:null===e||void 0===e?void 0:e.Category},t))))]})}),(0,S.jsx)("tbody",{children:null===y||void 0===y?void 0:y.map(((e,r)=>{var n,o;return(0,S.jsxs)(l.Fragment,{children:[(0,S.jsxs)("tr",{children:[(0,S.jsx)("td",{className:"fa-14 fw-bold border text-center text-primary",style:{verticalAlign:"middle"},children:(0,s.Gu)(null===e||void 0===e?void 0:e.EntryTime)}),null===e||void 0===e||null===(n=e.Categories)||void 0===n?void 0:n.map(((e,r)=>{var l;return(0,S.jsx)("td",{className:"fa-13 fw-bold text-muted border",children:null===e||void 0===e||null===(l=e.StaffDetails)||void 0===l?void 0:l.map(((e,r)=>(0,S.jsxs)("p",{className:"d-flex justify-content-between mb-0 p-1 cellHover",onClick:(0,s.Qr)(null===t||void 0===t?void 0:t.Edit_Rights,1)?()=>{w(e),q((e=>(0,a.c)((0,a.c)({},e),{},{dialog:!0})))}:()=>{},children:[(0,S.jsx)("span",{children:null===e||void 0===e?void 0:e.StaffName}),(0,S.jsx)("span",{className:"text-primary ps-2",children:null===e||void 0===e?void 0:e.Tonnage})]},r)))},r)}))]}),(0,S.jsxs)("tr",{children:[(0,S.jsx)("td",{className:"border fa-14 text-muted",style:{verticalAlign:"middle"},children:"Total"}),null===e||void 0===e||null===(o=e.Categories)||void 0===o?void 0:o.map(((e,t)=>{var r;return(0,S.jsx)("td",{className:"border text-end text-primary fw-bold",children:(0,s.SA)(null===e||void 0===e||null===(r=e.StaffDetails)||void 0===r?void 0:r.reduce(((e,t)=>null!==t&&void 0!==t&&t.Tonnage?(null===t||void 0===t?void 0:t.Tonnage)+e:0),0))},t)}))]})]},r)}))})]})});case"STAFF BASED":return(0,S.jsx)(S.Fragment,{children:(0,S.jsx)("div",{className:"table-responsive",children:(0,S.jsxs)("table",{className:"table",children:[(0,S.jsx)("thead",{children:(0,S.jsxs)("tr",{children:[(0,S.jsx)("th",{className:"fa-14 text-center border",children:"Sno"}),(0,S.jsx)("th",{className:"fa-14 text-center border",children:"Staff Name"}),null===(o=T[0])||void 0===o||null===(c=o.Categories)||void 0===c?void 0:c.map(((e,t)=>(0,S.jsx)("th",{className:"fa-14 text-center border",children:null===e||void 0===e?void 0:e.Category},t))),(0,S.jsx)("th",{className:"fa-14 text-center border",children:"Total"})]})}),(0,S.jsx)("tbody",{children:null===T||void 0===T?void 0:T.map(((e,t)=>{var r,a;return(0,S.jsxs)("tr",{children:[(0,S.jsx)("td",{className:"fa-13 text-center border",children:t+1}),(0,S.jsx)("td",{className:"fa-13 text-center border",children:null===e||void 0===e?void 0:e.StaffName}),null===e||void 0===e||null===(r=e.Categories)||void 0===r?void 0:r.map(((e,t)=>{var r,a;return(0,S.jsx)("td",{className:"fa-13 text-center border",children:null!==e&&void 0!==e&&null!==(r=e.StaffDetails)&&void 0!==r&&r.Tonnage?(0,s.SA)(null===e||void 0===e||null===(a=e.StaffDetails)||void 0===a?void 0:a.Tonnage):""},t)})),(0,S.jsx)("td",{className:"fa-14 text-center border blue-text",children:(0,s.SA)(null===e||void 0===e||null===(a=e.Categories)||void 0===a?void 0:a.reduce(((e,t)=>{var r,a;let l=0;return l+="OTHERS 1 - PRINT"!==(null===t||void 0===t?void 0:t.Category)&&null!==(r=null===t||void 0===t||null===(a=t.StaffDetails)||void 0===a?void 0:a.Tonnage)&&void 0!==r?r:0,l+e}),0))})]},t)}))})]})})});default:return(0,S.jsx)(S.Fragment,{})}};return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsxs)(o.c,{children:[(0,S.jsxs)("div",{className:"p-3 fa-16 fw-bold border-bottom d-flex justify-content-between",children:[(0,S.jsx)("span",{children:"Staff Activities"}),(0,s.Qr)(null===t||void 0===t?void 0:t.Add_Rights,1)&&(0,S.jsx)(c.c,{variant:"outlined",onClick:()=>q((e=>(0,a.c)((0,a.c)({},e),{},{dialog:!0}))),children:"Add Activity"})]}),(0,S.jsxs)("div",{className:"d-flex p-2 px-3",children:[(0,S.jsxs)("div",{children:[(0,S.jsx)("label",{className:"mb-1 w-100",children:"DATE"}),(0,S.jsx)("input",{type:"date",className:"cus-inpt w-auto",value:L.reqDate,onChange:e=>q((t=>(0,a.c)((0,a.c)({},t),{},{reqDate:e.target.value})))})]}),(0,S.jsxs)("div",{children:[(0,S.jsx)("label",{className:"mb-1 w-100",children:"LOCATION"}),(0,S.jsxs)("select",{className:"cus-inpt w-auto",value:L.reqLocation,onChange:e=>q((t=>(0,a.c)((0,a.c)({},t),{},{reqLocation:e.target.value}))),children:[(0,S.jsx)("option",{value:"MILL",children:"MILL"}),(0,S.jsx)("option",{value:"GODOWN",children:"GODOWN"})]})]})]}),(0,S.jsx)(i.c,{children:(0,S.jsxs)(x.cp,{value:L.view,children:[(0,S.jsx)(d.c,{sx:{borderBottom:1,borderColor:"divider"},children:(0,S.jsxs)(p.c,{indicatorColor:"transparant",onChange:(e,t)=>q((e=>(0,a.c)((0,a.c)({},e),{},{view:t}))),variant:"scrollable",scrollButtons:"auto",allowScrollButtonsMobile:!0,children:[(0,S.jsx)(u.c,{sx:"DATA ENTRY"===L.view?{backgroundColor:"#c6d7eb"}:{},label:"DATA ENTRY",value:"DATA ENTRY"}),(0,S.jsx)(u.c,{sx:"STAFF BASED"===L.view?{backgroundColor:"#c6d7eb"}:{},label:"STAFF BASED",value:"STAFF BASED"})]})}),["DATA ENTRY","STAFF BASED"].map((e=>(0,S.jsx)(j.c,{value:e,sx:{px:0,py:2},children:y.length||T.length?I(e):(0,S.jsx)(S.Fragment,{})},e)))]})})]}),(0,S.jsxs)(v.c,{open:L.dialog,onClose:O,fullWidth:!0,maxWidth:"sm",children:[(0,S.jsx)(m.c,{children:null!==D&&void 0!==D&&D.Id?"Modify Activity":"Add Staff Activity"}),(0,S.jsxs)("form",{onSubmit:e=>{e.preventDefault(),(0,N.q)({address:"dataEntry/staffActivities",method:D.Id?"PUT":"POST",headers:{"Content-Type":"application/json"},bodyData:D}).then((e=>{e.success?(n.m4.success(e.message),M(!R)):n.m4.error(e.message)})).catch((e=>console.error(e)))},children:[(0,S.jsx)(h.c,{children:(0,S.jsx)("div",{className:"table-responsive",children:(0,S.jsx)("table",{className:"table",children:(0,S.jsxs)("tbody",{children:[(0,S.jsxs)("tr",{children:[(0,S.jsx)("td",{className:"border-0",style:{verticalAlign:"middle"},children:"Location"}),(0,S.jsx)("td",{className:"border-0",children:(0,S.jsxs)("select",{value:null===D||void 0===D?void 0:D.LocationDetails,onChange:e=>w((t=>(0,a.c)((0,a.c)({},t),{},{LocationDetails:e.target.value}))),className:"cus-inpt",required:!0,children:[(0,S.jsx)("option",{value:"MILL",children:"MILL"}),(0,S.jsx)("option",{value:"GODOWN",children:"GODOWN"})]})})]}),(0,S.jsxs)("tr",{children:[(0,S.jsx)("td",{className:"border-0",style:{verticalAlign:"middle"},children:"Date"}),(0,S.jsx)("td",{className:"border-0",children:(0,S.jsx)("input",{type:"date",value:null===D||void 0===D?void 0:D.EntryDate,className:"cus-inpt",onChange:e=>w((t=>(0,a.c)((0,a.c)({},t),{},{EntryDate:e.target.value}))),required:!0})})]}),(0,S.jsxs)("tr",{children:[(0,S.jsx)("td",{className:"border-0",style:{verticalAlign:"middle"},children:"Time"}),(0,S.jsx)("td",{className:"border-0",children:(0,S.jsx)("input",{value:null===D||void 0===D?void 0:D.EntryTime,type:"time",required:!0,className:"cus-inpt",onChange:e=>w((t=>(0,a.c)((0,a.c)({},t),{},{EntryTime:e.target.value})))})})]}),(0,S.jsxs)("tr",{children:[(0,S.jsx)("td",{className:"border-0",style:{verticalAlign:"middle"},children:"Category"}),(0,S.jsx)("td",{className:"border-0",children:(0,S.jsxs)("select",{value:null===D||void 0===D?void 0:D.Category,onChange:e=>w((t=>(0,a.c)((0,a.c)({},t),{},{Category:e.target.value}))),className:"cus-inpt",required:!0,children:[(0,S.jsx)("option",{value:"OTHERS 1 - PRINT",children:"OTHERS 1 - PRINT"}),(0,S.jsx)("option",{value:"OTHERS 2 - TAKEN",children:"OTHERS 2 - TAKEN"}),(0,S.jsx)("option",{value:"OTHERS 3 - CHECK/ADDRESS",children:"OTHERS 3 - CHECK/ADDRESS"}),(0,S.jsx)("option",{value:"OTHERS 4 - DISPATCH",children:"OTHERS 4 - DISPATCH"})]})})]}),(0,S.jsxs)("tr",{children:[(0,S.jsx)("td",{className:"border-0",style:{verticalAlign:"middle"},children:"Staff Name"}),(0,S.jsx)("td",{className:"border-0",children:(0,S.jsx)("input",{value:null===D||void 0===D?void 0:D.StaffName,type:"search",list:"staffList",required:!0,className:"cus-inpt",placeholder:"Type or Search Staff name",onChange:e=>w((t=>(0,a.c)((0,a.c)({},t),{},{StaffName:e.target.value})))})})]}),(0,S.jsxs)("tr",{children:[(0,S.jsx)("td",{className:"border-0",style:{verticalAlign:"middle"},children:"Tonnage Value"}),(0,S.jsx)("td",{className:"border-0",children:(0,S.jsx)("input",{value:null===D||void 0===D?void 0:D.Tonnage,className:"cus-inpt",onInput:s.Gk,required:!0,onChange:e=>w((t=>(0,a.c)((0,a.c)({},t),{},{Tonnage:e.target.value})))})})]})]})})})}),(0,S.jsxs)(f.c,{children:[(0,S.jsx)(c.c,{onClick:O,type:"button",children:"Cancel"}),(0,S.jsx)(c.c,{type:"submit",children:"SUBMIT"})]})]})]}),(0,S.jsx)("datalist",{id:"staffList",children:A.map(((e,t)=>(0,S.jsx)("option",{value:e.StaffName},t)))})]})}},18256:(e,t,r)=>{r.d(t,{Ed:()=>i,cp:()=>n,oF:()=>o,qM:()=>c});var a=r(69060),l=r(82496);const s=a.createContext(null);function n(e){const{children:t,value:r}=e,n=function(){const[e,t]=a.useState(null);return a.useEffect((()=>{t("mui-p-".concat(Math.round(1e5*Math.random())))}),[]),e}(),o=a.useMemo((()=>({idPrefix:n,value:r})),[n,r]);return(0,l.jsx)(s.Provider,{value:o,children:t})}function o(){return a.useContext(s)}function c(e,t){const{idPrefix:r}=e;return null===r?null:"".concat(e.idPrefix,"-P-").concat(t)}function i(e,t){const{idPrefix:r}=e;return null===r?null:"".concat(e.idPrefix,"-T-").concat(t)}},29720:(e,t,r)=>{r.d(t,{c:()=>d});var a=r(45072),l=r(95656),s=r(69060),n=r(77828),o=r(18256),c=r(82496);const i=["children"],d=s.forwardRef((function(e,t){const{children:r}=e,d=(0,l.c)(e,i),u=(0,o.oF)();if(null===u)throw new TypeError("No TabContext provided");const v=s.Children.map(r,(e=>s.isValidElement(e)?s.cloneElement(e,{"aria-controls":(0,o.qM)(u,e.props.value),id:(0,o.Ed)(u,e.props.value)}):null));return(0,c.jsx)(n.c,(0,a.c)({},d,{ref:t,value:u.value,children:v}))}))},61584:(e,t,r)=>{r.d(t,{c:()=>x});var a=r(45072),l=r(95656),s=r(69060),n=r(79736),o=r(12556),c=r(23456),i=r(21412),d=r(33448);function u(e){return(0,d.cp)("MuiTabPanel",e)}(0,r(10099).c)("MuiTabPanel",["root"]);var v=r(18256),m=r(82496);const h=["children","className","value"],f=(0,o.cp)("div",{name:"MuiTabPanel",slot:"Root",overridesResolver:(e,t)=>t.root})((e=>{let{theme:t}=e;return{padding:t.spacing(3)}})),x=s.forwardRef((function(e,t){const r=(0,c.c)({props:e,name:"MuiTabPanel"}),{children:s,className:o,value:d}=r,x=(0,l.c)(r,h),p=(0,a.c)({},r),j=(e=>{const{classes:t}=e;return(0,i.c)({root:["root"]},u,t)})(p),b=(0,v.oF)();if(null===b)throw new TypeError("No TabContext provided");const N=(0,v.qM)(b,d),S=(0,v.Ed)(b,d);return(0,m.jsx)(f,(0,a.c)({"aria-labelledby":S,className:(0,n.c)(j.root,o),hidden:d!==b.value,id:N,ref:t,role:"tabpanel",ownerState:p},x,{children:d===b.value&&s}))}))},12572:(e,t,r)=>{r.d(t,{c:()=>i});var a=r(0),l=r(31152),s=r(46712),n=r(83068);const o=(0,r(10099).c)("MuiBox",["root"]),c=(0,s.c)(),i=(0,a.c)({themeId:n.c,defaultTheme:c,defaultClassName:o.root,generateClassName:l.c.generate})},84436:(e,t,r)=>{r.d(t,{c:()=>x});var a=r(45072),l=r(95656),s=r(69060),n=r(79736),o=r(21412),c=r(12556),i=r(49836),d=r(10099),u=r(33448);function v(e){return(0,u.cp)("MuiCardContent",e)}(0,d.c)("MuiCardContent",["root"]);var m=r(82496);const h=["className","component"],f=(0,c.cp)("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(e,t)=>t.root})((()=>({padding:16,"&:last-child":{paddingBottom:24}}))),x=s.forwardRef((function(e,t){const r=(0,i.C)({props:e,name:"MuiCardContent"}),{className:s,component:c="div"}=r,d=(0,l.c)(r,h),u=(0,a.c)({},r,{component:c}),x=(e=>{const{classes:t}=e;return(0,o.c)({root:["root"]},v,t)})(u);return(0,m.jsx)(f,(0,a.c)({as:c,className:(0,n.c)(x.root,s),ownerState:u,ref:t},d))}))},43692:(e,t,r)=>{r.d(t,{c:()=>p});var a=r(45072),l=r(95656),s=r(69060),n=r(79736),o=r(21412),c=r(12556),i=r(49836),d=r(85624),u=r(10099),v=r(33448);function m(e){return(0,v.cp)("MuiCard",e)}(0,u.c)("MuiCard",["root"]);var h=r(82496);const f=["className","raised"],x=(0,c.cp)(d.c,{name:"MuiCard",slot:"Root",overridesResolver:(e,t)=>t.root})((()=>({overflow:"hidden"}))),p=s.forwardRef((function(e,t){const r=(0,i.C)({props:e,name:"MuiCard"}),{className:s,raised:c=!1}=r,d=(0,l.c)(r,f),u=(0,a.c)({},r,{raised:c}),v=(e=>{const{classes:t}=e;return(0,o.c)({root:["root"]},m,t)})(u);return(0,h.jsx)(x,(0,a.c)({className:(0,n.c)(v.root,s),elevation:c?8:void 0,ref:t,ownerState:u},d))}))},38780:(e,t,r)=>{r.d(t,{c:()=>s});r(69060);var a=r(27664),l=r(82496);const s=(0,a.c)((0,l.jsx)("path",{d:"M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"}),"KeyboardArrowLeft")},46320:(e,t,r)=>{r.d(t,{c:()=>s});r(69060);var a=r(27664),l=r(82496);const s=(0,a.c)((0,l.jsx)("path",{d:"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"}),"KeyboardArrowRight")},88928:(e,t)=>{var r,a=Symbol.for("react.element"),l=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),i=Symbol.for("react.context"),d=Symbol.for("react.server_context"),u=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),m=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),x=Symbol.for("react.offscreen");function p(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case a:switch(e=e.type){case s:case o:case n:case v:case m:return e;default:switch(e=e&&e.$$typeof){case d:case i:case u:case f:case h:case c:return e;default:return t}}case l:return t}}}r=Symbol.for("react.module.reference")},27852:(e,t,r)=>{r(88928)},72144:(e,t,r)=>{r.d(t,{c:()=>a});const a=r(46576).c},93976:(e,t,r)=>{r.d(t,{c:()=>a});const a=r(6848).c},31328:(e,t,r)=>{r.d(t,{c:()=>a});const a=r(7608).c},87188:(e,t,r)=>{r.d(t,{c:()=>a});const a=r(92576).c},46576:(e,t,r)=>{function a(e){let t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:166;function a(){for(var a=arguments.length,l=new Array(a),s=0;s<a;s++)l[s]=arguments[s];clearTimeout(t),t=setTimeout((()=>{e.apply(this,l)}),r)}return a.clear=()=>{clearTimeout(t)},a}r.d(t,{c:()=>a})}}]);
//# sourceMappingURL=2644.dd5c5d64.chunk.js.map
"use strict";(self.webpackChunkerp=self.webpackChunkerp||[]).push([[3280],{62344:(e,s,a)=>{a.d(s,{o$:()=>n,o5:()=>i,cF:()=>t,iI:()=>d,_8:()=>o});const l=a.p+"static/media/smt.aa4d4f940bbebff07a57.png",d={table:{style:{width:"auto",backgroundColor:"transparent"}},rows:{style:{backgroundColor:"transparent"}},headCells:{style:{backgroundColor:"#6b9080f8",color:"white",fontSize:"14px"}}},t={menu:(e,s)=>({...e,zIndex:9999}),menuPortal:e=>({...e,zIndex:9999}),groupHeading:e=>({...e,backgroundColor:"#f5f5f5",color:"#333",fontWeight:"bold",fontSize:"14px",padding:"8px 12px",borderBottom:"1px solid #ddd",textTransform:"uppercase"}),option:(e,s)=>({...e,backgroundColor:s.isSelected?"#2684FF":s.isFocused?"#E2ECF9":"white",color:s.isSelected?"white":"#333",padding:"10px 12px"})},n=[{id:1,headname:"Menu ID",variant:"head",align:"left",width:100},{id:2,headname:"MenuName"},{id:3,headname:"Read Rights"},{id:4,headname:"Add Rights"},{id:5,headname:"Edit Rights"},{id:6,headname:"Delete Rights"},{id:7,headname:"Print Rights"},{id:8,headname:"Action"}],i=[{dataBase:1,name:"SHANKAR TRADERS",business:"Wholesale Merchant in Dhall",address:"32, Chitrakara Street, Madurai - 01 <br /> Bill of Supply -Disclaimer Affidavlt Field Extemped",logo:l,gstin:"33AADFS6973R1ZD",phone:"984-313-1353, 984-335-5166",fssai:"12418012000818",bankAccount:"0021 5032 0885 122",ifsc:"TMBL0000002"},{dataBase:2,name:"SMT AGRO PRODUCTS",business:"",address:"H.O: 153, Chitrakara Street, 2nd Floor, Madurai -01 <br /> G.O: 746 Puliyur, Sayanapuram, Svga <br /> Bill of Supply -Disclaimer Affidavlt Field Extemped",logo:l,gstin:"33ACMFS3420Q1ZQ",phone:"0452-4371625",fssai:"12418012000818",bankAccount:"0025 3031 0875 947",ifsc:"TMBL0000002"},{dataBase:3,name:"BHAVANI TRADERS",business:"",address:"H.O: 152-A, Chitrakara Street, Madurai -01 <br /> G.O: 30/1-Rajman Nagar, Chintamani Main Road, Mdu-01 <br /> Tax Invoice",logo:l,gstin:"33AAEFB6728J1ZG",phone:"958-559-7641, 958-559-7614",fssai:"12418012000670",bankAccount:"0021 5005 0800 309",ifsc:"TMBL0000002"}],o=[{name:"PURCHASE ORDER"},{name:"PURCHASE INVOICE"},{name:"SALE ORDER"},{name:"SALE INVOICE"},{name:"JOURNAL"},{name:"STOCK JOURNAL"},{name:"PAYMENT"},{name:"RECEIPT"},{name:"CONTRA"}]},62988:(e,s,a)=>{a.r(s),a.d(s,{default:()=>M});var l=a(69060),d=a(51560),t=a(5548),n=a(60476),i=a(93996),o=a(82656),c=a(26773),r=a(4488),v=a(90048),u=a(89e3),m=a(71448),h=a(52924),_=a(44380),p=a(22727),x=a(99768),T=a(86e3),k=a(45180),j=a(28655),S=a(96064),b=a(33808),g=(a(21680),a(56480)),f=a(99852),y=a(62344),N=a(26728),I=a(59736),D=a(12720),E=a(1908),C=a(39308),L=a(82496);const w=(0,L.jsx)(N.c,{fontSize:"small"}),A=(0,L.jsx)(I.c,{fontSize:"small"}),M=()=>{var e,s;const a=localStorage.getItem("user"),N=JSON.parse(a),I=(0,d.IT)(),M=null===(e=I.state)||void 0===e?void 0:e.project,O=null===(s=I.state)||void 0===s?void 0:s.rights,G=(0,d.i6)(),P={Sch_Id:"",Sch_Date:(new Date).toISOString().split("T")[0],Project_Id:null===M||void 0===M?void 0:M.Project_Id,Sch_By:N.UserId,Sch_Type_Id:1,Sch_Est_Start_Date:(new Date).toISOString().split("T")[0],Sch_Est_End_Date:"",Sch_Status:1,Entry_By:N.UserId,Entry_Date:new Date},R={Sch_Project_Id:null===M||void 0===M?void 0:M.Project_Id,Sch_Id:"",Task_Levl_Id:"",Task_Id:"",Type_Task_Id:1,Task_Sch_Duaration:"01:00",Task_Start_Time:"10:00",Task_End_Time:"11:00",Task_Est_Start_Date:(new Date).toISOString().split("T")[0],Task_Est_End_Date:(new Date).toISOString().split("T")[0],Task_Sch_Status:1,Levl_Id:"",Task_Depend_Level_Id:"",TasksGet:"- Select Task -"},[B,F]=(0,l.useState)([]),[q,z]=(0,l.useState)([]),[U,$]=(0,l.useState)([]),[H,Q]=(0,l.useState)([]),[W,V]=(0,l.useState)([]),[J,K]=(0,l.useState)([]),[Z,Y]=(0,l.useState)([]),[X,ee]=(0,l.useState)([]),[se,ae]=(0,l.useState)(P),[le,de]=(0,l.useState)(R),[te,ne]=(0,l.useState)(!1),[ie,oe]=(0,l.useState)(!1),[ce,re]=(0,l.useState)({scheduleCreate:!1,scheduleDelete:!1,taskSchedule:!1,taskDelete:!1});(0,l.useEffect)((()=>{(0,E.q)({address:`taskManagement/project/schedule?Project_Id=${null===M||void 0===M?void 0:M.Project_Id}`}).then((e=>{e.success&&Q(e.data)})).catch((e=>console.error(e)))}),[ie,null===M||void 0===M?void 0:M.Project_Id]),(0,l.useEffect)((()=>{(0,E.q)({address:`masters/user/dropDown?Company_id=${null===N||void 0===N?void 0:N.Company_id}`}).then((e=>{e.success&&F(e.data)})).catch((e=>console.error(e))),(0,E.q)({address:"taskManagement/project/schedule/scheduleType"}).then((e=>{e.success&&z(e.data)})).catch((e=>console.error(e))),(0,E.q)({address:"taskManagement/statusList"}).then((e=>{e.success&&(e.data.sort(((e,s)=>e.Status_Id-s.Status_Id)),$(e.data))})).catch((e=>console.error(e))),(0,E.q)({address:"taskManagement/tasks/dropdown"}).then((e=>{e.success&&V(e.data)})).catch((e=>console.error(e))),(0,E.q)({address:"masters/taskType"}).then((e=>{e.success&&K(e.data)})).catch((e=>console.error(e)))}),[null===N||void 0===N?void 0:N.BranchId]),(0,l.useEffect)((()=>{const e=q.find((e=>Number(null===e||void 0===e?void 0:e.Sch_Type_Id)===Number(null===se||void 0===se?void 0:se.Sch_Type_Id))),s=new Date,a=s.getDate();s.setDate(a+Number(null===e||void 0===e?void 0:e.Sch_Days)||0);const l=s.toISOString().split("T")[0];ae((e=>({...e,Sch_Est_End_Date:l})))}),[null===se||void 0===se?void 0:se.Sch_Est_Start_Date,null===se||void 0===se?void 0:se.Sch_Type_Id,q]),(0,l.useEffect)((()=>{const[e,s]=null===le||void 0===le?void 0:le.Task_Start_Time.split(":").map(Number),[a,l]=null===le||void 0===le?void 0:le.Task_End_Time.split(":").map(Number),d=new Date(0,0,0,e,s),t=new Date(0,0,0,a,l);if(t>d){let e=Math.abs(t-d);const s=Math.floor(e/36e5);e%=36e5;const a=Math.floor(e/6e4),l=String(s).padStart(2,"0"),n=String(a).padStart(2,"0");de((e=>({...e,Task_Sch_Duaration:`${l}:${n}`})))}}),[null===le||void 0===le?void 0:le.Task_Start_Time,null===le||void 0===le?void 0:le.Task_End_Time,null===le||void 0===le?void 0:le.Task_Id]),(0,l.useEffect)((()=>{if(X.length>0){const e=X.map((e=>null===e||void 0===e?void 0:e.Task_Levl_Id)).join(",");de((s=>({...s,Task_Depend_Level_Id:e})))}else de((e=>({...e,Task_Depend_Level_Id:""})))}),[X]),(0,l.useEffect)((()=>{M&&O||G("/taskManagement/projectActivity")}),[M,O,G]);const ve=e=>{e&&(ae(e),ne(!0)),e||!0!==ce.scheduleCreate||(ae(P),ne(!1)),re({...ce,scheduleCreate:!ce.scheduleCreate})},ue=(e,s)=>{s&&!e&&(de(s),ne(!0)),s||!0!==ce.taskSchedule||!0!==e||(de(R),Y([]),ee([]),ne(!1)),re({...ce,taskSchedule:!ce.taskSchedule})},me=e=>{ae(e||P),re({...ce,scheduleDelete:!ce.scheduleDelete})},he=e=>{de(e||R),re({...ce,taskDelete:!ce.taskDelete})},_e=e=>["","bg-primary","bg-warning","bg-success","bg-danger"][Number(e)],pe=e=>{var s;let{obj:a,SNo:d}=e;const o=(0,l.useRef)(null),[c,r]=(0,l.useState)(0);(0,l.useEffect)((()=>{o.current&&r(o.current.offsetHeight)}),[]);const v=(e,s)=>{const a=e.findIndex((e=>Number(e.Task_Levl_Id)===Number(s)));return a>=0?a+1+". ":""},u=e=>{var s;let{gobj:d}=e;const[o,c]=(0,l.useState)(!1);return(0,L.jsxs)(l.Fragment,{children:[(0,L.jsxs)("h5",{className:"mt-2 mb-3",children:[(0,L.jsx)(t.c,{onClick:()=>c(!o),children:o?(0,L.jsx)(p.c,{sx:{fontSize:"20px",color:"black"}}):(0,L.jsx)(x.c,{sx:{fontSize:"20px",color:"black"}})}),(0,L.jsx)("span",{onClick:()=>c(!o),children:null!==d&&void 0!==d&&d.Task_Type?null===d||void 0===d?void 0:d.Task_Type:"Not Grouped"})]}),(0,L.jsx)(n.c,{in:o,unmountOnExit:!0,children:null===d||void 0===d||null===(s=d.TaskGroup)||void 0===s?void 0:s.map(((e,s)=>(0,L.jsxs)("div",{className:"rounded-4 bg-light p-2 px-3 d-flex align-items-center mt-2",children:[(0,L.jsxs)("span",{className:"flex-grow-1 fw-bold",children:[s+1+". ",null===e||void 0===e?void 0:e.TaskNameGet]}),(0,L.jsxs)("span",{className:"fa-14 d-flex align-items-center",children:[(0,C.uy)(null===e||void 0===e?void 0:e.Task_Est_Start_Date),(0,L.jsx)("span",{className:`rounded-5 ms-2 ${_e(null===e||void 0===e?void 0:e.Task_Sch_Status)}`,style:{padding:"5.2px"}}),(0,L.jsx)("span",{children:(0,L.jsxs)(D.c,{children:[(0,L.jsx)(D.c.Toggle,{variant:"success",id:"actions",className:"rounded-5 bg-transparent text-dark border-0 btn"}),(0,L.jsxs)(D.c.Menu,{children:[1===Number(null===O||void 0===O?void 0:O.edit)&&(0,L.jsxs)(i.c,{onClick:()=>{ue(!1,{Sch_Project_Id:null===M||void 0===M?void 0:M.Project_Id,Sch_Id:null===a||void 0===a?void 0:a.Sch_Id,Task_Levl_Id:null===e||void 0===e?void 0:e.Task_Levl_Id,Task_Id:null===e||void 0===e?void 0:e.Task_Id,Type_Task_Id:null===e||void 0===e?void 0:e.Type_Task_Id,Task_Sch_Duaration:null===e||void 0===e?void 0:e.Task_Sch_Duaration,Task_Start_Time:null===e||void 0===e?void 0:e.Task_Start_Time,Task_End_Time:null===e||void 0===e?void 0:e.Task_End_Time,Task_Est_Start_Date:new Date(null===e||void 0===e?void 0:e.Task_Est_Start_Date).toISOString().split("T")[0],Task_Est_End_Date:new Date(null===e||void 0===e?void 0:e.Task_Est_End_Date).toISOString().split("T")[0],Task_Sch_Status:null===e||void 0===e?void 0:e.Task_Sch_Status,Levl_Id:1,Task_Depend_Level_Id:"",TasksGet:null===e||void 0===e?void 0:e.TaskNameGet})},children:[(0,L.jsx)(T.c,{className:"fa-in me-2 text-primary"}),"Edit"]}),1===Number(null===O||void 0===O?void 0:O.delete)&&(0,L.jsxs)(i.c,{onClick:()=>{he({...le,Task_Levl_Id:null===e||void 0===e?void 0:e.Task_Levl_Id})},children:[(0,L.jsx)(k.c,{className:"fa-in me-2 text-danger "}),"Delete"]}),(0,L.jsxs)(i.c,{onClick:()=>{var s;return G("taskActivity",{state:{taskDetails:{...e,Project_Id:null===M||void 0===M?void 0:M.Project_Id,Sch_Id:null===a||void 0===a?void 0:a.Sch_Id},rights:null===(s=I.state)||void 0===s?void 0:s.rights,retObj:I.state}})},children:[(0,L.jsx)(j.c,{className:"fa-in me-2 text-primary "}),"Open Task"]})]})]})})]})]},s)))})]})},m=e=>{var s;let{gobjlvl2:d}=e;const[o,c]=(0,l.useState)(!1);return(0,L.jsxs)(l.Fragment,{children:[(0,L.jsxs)("h5",{className:"mt-2 mb-3",children:[(0,L.jsx)(t.c,{onClick:()=>c(!o),children:o?(0,L.jsx)(p.c,{sx:{fontSize:"20px",color:"black"}}):(0,L.jsx)(x.c,{sx:{fontSize:"20px",color:"black"}})}),(0,L.jsx)("span",{onClick:()=>c(!o),children:null!==d&&void 0!==d&&d.Task_Type?null===d||void 0===d?void 0:d.Task_Type:"Not Grouped"})]}),(0,L.jsx)(n.c,{in:o,unmountOnExit:!0,children:null===d||void 0===d||null===(s=d.TaskGroup)||void 0===s?void 0:s.map(((e,s)=>{var l,d,t;return(0,L.jsxs)("div",{className:"rounded-4 bg-light py-2 px-3 mt-2",children:[(0,L.jsxs)("div",{className:"mb-0 d-flex align-items-center",children:[(0,L.jsxs)("span",{className:"flex-grow-1 fw-bold",children:[s+1+". ",null===e||void 0===e?void 0:e.TaskNameGet]}),(0,L.jsxs)("span",{className:"fa-14 d-flex align-items-center",children:[(0,C.uy)(null===e||void 0===e?void 0:e.Task_Est_Start_Date),(0,L.jsx)("span",{className:`rounded-5 ms-2 ${_e(null===e||void 0===e?void 0:e.Task_Sch_Status)}`,style:{padding:"5.2px"}}),(0,L.jsx)("span",{children:(0,L.jsxs)(D.c,{children:[(0,L.jsx)(D.c.Toggle,{variant:"success",id:"actions",className:"rounded-5 bg-transparent text-dark border-0 btn"}),(0,L.jsxs)(D.c.Menu,{children:[1===Number(null===O||void 0===O?void 0:O.edit)&&(0,L.jsxs)(i.c,{onClick:()=>{var s;ue(!1,{Sch_Project_Id:null===M||void 0===M?void 0:M.Project_Id,Sch_Id:null===a||void 0===a?void 0:a.Sch_Id,Task_Levl_Id:null===e||void 0===e?void 0:e.Task_Levl_Id,Task_Id:null===e||void 0===e?void 0:e.Task_Id,Type_Task_Id:null===e||void 0===e?void 0:e.Type_Task_Id,Task_Sch_Duaration:null===e||void 0===e?void 0:e.Task_Sch_Duaration,Task_Start_Time:null===e||void 0===e?void 0:e.Task_Start_Time,Task_End_Time:null===e||void 0===e?void 0:e.Task_End_Time,Task_Est_Start_Date:(0,C.Q7)(null===e||void 0===e?void 0:e.Task_Est_Start_Date),Task_Est_End_Date:(0,C.Q7)(null===e||void 0===e?void 0:e.Task_Est_End_Date),Task_Sch_Status:null===e||void 0===e?void 0:e.Task_Sch_Status,Levl_Id:2,Task_Depend_Level_Id:"",TasksGet:null===e||void 0===e?void 0:e.TaskNameGet}),ee([...null===e||void 0===e||null===(s=e.DependancyTasks)||void 0===s?void 0:s.map((e=>({Task_Levl_Id:null===e||void 0===e?void 0:e.Task_Depend_Level_Id,TaskNameGet:null===e||void 0===e?void 0:e.TaskNameGet})))]),Y(null===a||void 0===a?void 0:a.LevelOneTasks.flatMap((e=>null===e||void 0===e?void 0:e.TaskGroup)))},children:[(0,L.jsx)(T.c,{className:"fa-in me-2 text-primary"}),"Edit"]}),1===Number(null===O||void 0===O?void 0:O.delete)&&(0,L.jsxs)(i.c,{onClick:()=>{he({...le,Task_Levl_Id:null===e||void 0===e?void 0:e.Task_Levl_Id})},children:[(0,L.jsx)(k.c,{className:"fa-in me-2 text-danger "}),"Delete"]}),(0,L.jsxs)(i.c,{onClick:()=>{var s;return G("taskActivity",{state:{taskDetails:{...e,Project_Id:null===M||void 0===M?void 0:M.Project_Id,Sch_Id:null===a||void 0===a?void 0:a.Sch_Id},rights:null===(s=I.state)||void 0===s?void 0:s.rights,retObj:I.state}})},children:[(0,L.jsx)(j.c,{className:"fa-in me-2 text-primary "}),"Open Task"]})]})]})})]})]}),(0,L.jsx)("hr",{className:"mt-0 mb-2"}),(null===e||void 0===e||null===(l=e.DependancyTasks)||void 0===l?void 0:l.length)>0&&(0,L.jsxs)("p",{className:"mb-1 text-primary",children:["Dependency Tasks (",null===e||void 0===e||null===(d=e.DependancyTasks)||void 0===d?void 0:d.length,")"]}),(0,L.jsx)("div",{className:"d-flex overflow-auto",children:null===e||void 0===e||null===(t=e.DependancyTasks)||void 0===t?void 0:t.map(((e,s)=>(0,L.jsxs)("span",{className:"rounded-4 mt-2 me-2 px-3 py-1 fa-13 fw-bold",style:{backgroundColor:"#E7C8DD"},children:[v(null===a||void 0===a?void 0:a.LevelOneTasks.flatMap((e=>null===e||void 0===e?void 0:e.TaskGroup)),e.Task_Depend_Level_Id),null===e||void 0===e?void 0:e.TaskNameGet]},s)))})]},s)}))})]})},h=e=>{var s;let{gobjlvl3:d}=e;const[o,c]=(0,l.useState)(!1);return(0,L.jsxs)(l.Fragment,{children:[(0,L.jsxs)("h5",{className:"mt-2 mb-3",children:[(0,L.jsx)(t.c,{onClick:()=>c(!o),children:o?(0,L.jsx)(p.c,{sx:{fontSize:"20px",color:"black"}}):(0,L.jsx)(x.c,{sx:{fontSize:"20px",color:"black"}})}),(0,L.jsx)("span",{onClick:()=>c(!o),children:null!==d&&void 0!==d&&d.Task_Type?null===d||void 0===d?void 0:d.Task_Type:"Not Grouped"})]}),(0,L.jsx)(n.c,{in:o,unmountOnExit:!0,children:null===d||void 0===d||null===(s=d.TaskGroup)||void 0===s?void 0:s.map(((e,s)=>{var l,d,t;return(0,L.jsxs)("div",{className:"rounded-4 bg-light py-2 px-3 mt-2",children:[(0,L.jsxs)("div",{className:"mb-0 d-flex align-items-center",children:[(0,L.jsxs)("span",{className:"flex-grow-1 fw-bold",children:[s+1+". ",null===e||void 0===e?void 0:e.TaskNameGet]}),(0,L.jsxs)("span",{className:"fa-14 d-flex align-items-center",children:[(0,C.uy)(null===e||void 0===e?void 0:e.Task_Est_Start_Date),(0,L.jsx)("span",{className:`rounded-5 ms-2 ${_e(null===e||void 0===e?void 0:e.Task_Sch_Status)}`,style:{padding:"5.2px"}}),(0,L.jsx)("span",{children:(0,L.jsxs)(D.c,{children:[(0,L.jsx)(D.c.Toggle,{variant:"success",id:"actions",className:"rounded-5 bg-transparent text-dark border-0 btn"}),(0,L.jsxs)(D.c.Menu,{children:[1===Number(null===O||void 0===O?void 0:O.edit)&&(0,L.jsxs)(i.c,{onClick:()=>{var s;ue(!1,{Sch_Project_Id:null===M||void 0===M?void 0:M.Project_Id,Sch_Id:null===a||void 0===a?void 0:a.Sch_Id,Task_Levl_Id:null===e||void 0===e?void 0:e.Task_Levl_Id,Task_Id:null===e||void 0===e?void 0:e.Task_Id,Type_Task_Id:null===e||void 0===e?void 0:e.Type_Task_Id,Task_Sch_Duaration:null===e||void 0===e?void 0:e.Task_Sch_Duaration,Task_Start_Time:null===e||void 0===e?void 0:e.Task_Start_Time,Task_End_Time:null===e||void 0===e?void 0:e.Task_End_Time,Task_Est_Start_Date:(0,C.Q7)(null===e||void 0===e?void 0:e.Task_Est_Start_Date),Task_Est_End_Date:(0,C.Q7)(null===e||void 0===e?void 0:e.Task_Est_End_Date),Task_Sch_Status:null===e||void 0===e?void 0:e.Task_Sch_Status,Levl_Id:3,Task_Depend_Level_Id:"",TasksGet:null===e||void 0===e?void 0:e.TaskNameGet}),ee([...null===e||void 0===e||null===(s=e.DependancyTasks)||void 0===s?void 0:s.map((e=>({Task_Levl_Id:null===e||void 0===e?void 0:e.Task_Depend_Level_Id,TaskNameGet:null===e||void 0===e?void 0:e.TaskNameGet})))]),Y(null===a||void 0===a?void 0:a.LevelTwoTasks.flatMap((e=>null===e||void 0===e?void 0:e.TaskGroup)))},children:[(0,L.jsx)(T.c,{className:"fa-in me-2 text-primary"}),"Edit"]}),1===Number(null===O||void 0===O?void 0:O.delete)&&(0,L.jsxs)(i.c,{onClick:()=>{he({...le,Task_Levl_Id:null===e||void 0===e?void 0:e.Task_Levl_Id})},children:[(0,L.jsx)(k.c,{className:"fa-in me-2 text-danger "}),"Delete"]}),(0,L.jsxs)(i.c,{onClick:()=>{var s;return G("taskActivity",{state:{taskDetails:{...e,Project_Id:null===M||void 0===M?void 0:M.Project_Id,Sch_Id:null===a||void 0===a?void 0:a.Sch_Id},rights:null===(s=I.state)||void 0===s?void 0:s.rights,retObj:I.state}})},children:[(0,L.jsx)(j.c,{className:"fa-in me-2 text-primary "}),"Open Task"]})]})]})})]})]}),(0,L.jsx)("hr",{className:"mt-0 mb-2"}),(null===e||void 0===e||null===(l=e.DependancyTasks)||void 0===l?void 0:l.length)>0&&(0,L.jsxs)("p",{className:"mb-1 text-primary",children:["Dependency Tasks (",null===e||void 0===e||null===(d=e.DependancyTasks)||void 0===d?void 0:d.length,")"]}),(0,L.jsx)("div",{className:"d-flex overflow-auto",children:null===e||void 0===e||null===(t=e.DependancyTasks)||void 0===t?void 0:t.map(((e,s)=>(0,L.jsxs)("span",{className:"rounded-4 mt-2 me-2 px-3 py-1 fa-13 fw-bold",style:{backgroundColor:"#E2E4F6"},children:[v(null===a||void 0===a?void 0:a.LevelTwoTasks.flatMap((e=>null===e||void 0===e?void 0:e.TaskGroup)),e.Task_Depend_Level_Id),null===e||void 0===e?void 0:e.TaskNameGet]},s)))})]},s)}))})]})};return(0,L.jsx)(L.Fragment,{children:(0,L.jsxs)("div",{className:"cus-card p-2",children:[(0,L.jsxs)("h5",{className:"mb-0 d-flex px-3 py-2 align-items-center",children:[(0,L.jsxs)("span",{className:"flex-grow-1",children:["Schedule: ",d+" ",(0,L.jsx)("br",{}),(0,L.jsxs)("span",{className:"fa-12",children:["By: ",null===a||void 0===a?void 0:a.SchByGet]})]}),(0,L.jsxs)("span",{className:" d-flex fa-14",children:[(0,L.jsxs)("span",{children:[(null===a||void 0===a?void 0:a.SchTypGet)+" ("+(null===a||void 0===a?void 0:a.SchDays)+") ",(0,L.jsx)("br",{}),(0,L.jsxs)("span",{className:"fa-12",children:["(",(0,C.uy)(null===a||void 0===a?void 0:a.Sch_Est_Start_Date)," - ",(0,C.uy)(null===a||void 0===a?void 0:a.Sch_Est_End_Date),")"]})]}),(0,L.jsxs)(D.c,{children:[(0,L.jsx)(D.c.Toggle,{variant:"success",id:"actions",className:"rounded-5 bg-transparent text-dark border-0 btn"}),(0,L.jsxs)(D.c.Menu,{children:[1===Number(null===O||void 0===O?void 0:O.edit)&&(0,L.jsxs)(i.c,{onClick:()=>{ve({Sch_Id:null===a||void 0===a?void 0:a.Sch_Id,Sch_Date:(0,C.Q7)(null===a||void 0===a?void 0:a.Sch_Date),Project_Id:null===M||void 0===M?void 0:M.Project_Id,Sch_By:null===a||void 0===a?void 0:a.Sch_By,Sch_Type_Id:null===a||void 0===a?void 0:a.Sch_Type_Id,Sch_Est_Start_Date:(0,C.Q7)(null===a||void 0===a?void 0:a.Sch_Est_Start_Date),Sch_Est_End_Date:(0,C.Q7)(null===a||void 0===a?void 0:a.Sch_Est_End_Date),Sch_Status:null===a||void 0===a?void 0:a.Sch_Status,Entry_By:null===a||void 0===a?void 0:a.Entry_By,Entry_Date:(0,C.Q7)(null===a||void 0===a?void 0:a.Entry_Date)})},children:[(0,L.jsx)(T.c,{className:"fa-in me-2 text-primary"}),"Edit"]}),1===Number(null===O||void 0===O?void 0:O.delete)&&(0,L.jsxs)(i.c,{onClick:()=>me({...le,Sch_Id:null===a||void 0===a?void 0:a.Sch_Id}),children:[(0,L.jsx)(k.c,{className:"fa-in me-2 text-danger "}),"Delete"]})]})]})]})]}),(0,L.jsx)("hr",{className:"mt-0"}),(0,L.jsxs)("div",{className:"d-flex flex-nowrap overflow-scroll",style:{paddingBottom:"4.6em"},children:[(0,L.jsx)("div",{className:"res-width px-3 py-2",children:(0,L.jsxs)("div",{className:"rounded-4 p-3",style:{backgroundColor:"#E7C8DD"},ref:o,children:[(0,L.jsxs)("div",{className:"d-flex align-items-center",children:[(0,L.jsx)("span",{className:"flex-grow-1 ps-2 fw-bold",children:"Level 1"}),1===Number(null===O||void 0===O?void 0:O.add)&&(0,L.jsx)("button",{className:"btn btn-primary rounded-5 px-3 fa-13 shadow d-flex align-items-center",onClick:()=>{ue(!1),de({...le,Sch_Id:null===a||void 0===a?void 0:a.Sch_Id,Levl_Id:1}),Y([])},children:"Assign Task"})]}),null===a||void 0===a||null===(s=a.LevelOneTasks)||void 0===s?void 0:s.map(((e,s)=>{var a;return(null===e||void 0===e||null===(a=e.TaskGroup)||void 0===a?void 0:a.length)>0&&(0,L.jsx)(u,{gobj:e},s)}))]})}),(0,L.jsx)("div",{className:"res-width px-3 py-2",children:(0,L.jsxs)("div",{className:"rounded-4 p-3",style:{backgroundColor:"#E2E4F6",minHeight:c,overflow:"auto"},children:[(0,L.jsxs)("div",{className:"d-flex align-items-center",children:[(0,L.jsx)("span",{className:"flex-grow-1 ps-2 fw-bold ",children:"Level 2"}),1===Number(null===O||void 0===O?void 0:O.add)&&(0,L.jsx)("button",{className:"btn btn-primary rounded-5 px-3 fa-13 shadow d-flex align-items-center",disabled:0===(null===a||void 0===a?void 0:a.LevelOneTasks.flatMap((e=>null===e||void 0===e?void 0:e.TaskGroup)).length),onClick:()=>{ue(!1),de({...le,Sch_Id:null===a||void 0===a?void 0:a.Sch_Id,Levl_Id:2}),Y(null===a||void 0===a?void 0:a.LevelOneTasks.flatMap((e=>null===e||void 0===e?void 0:e.TaskGroup)))},children:"Assign Task"})]}),null===a||void 0===a?void 0:a.LevelTwoTasks.map(((e,s)=>{var a;return(null===e||void 0===e||null===(a=e.TaskGroup)||void 0===a?void 0:a.length)>0&&(0,L.jsx)(m,{gobjlvl2:e},s)}))]})}),(0,L.jsx)("div",{className:"res-width px-3 py-2",children:(0,L.jsxs)("div",{className:"rounded-4 p-3",style:{backgroundColor:"#B4D2E7",minHeight:c,overflow:"auto"},children:[(0,L.jsxs)("div",{className:"d-flex align-items-center",children:[(0,L.jsx)("span",{className:"flex-grow-1 ps-2 fw-bold ",children:"Level 3"}),1===Number(null===O||void 0===O?void 0:O.add)&&(0,L.jsx)("button",{className:"btn btn-primary rounded-5 px-3 fa-13 shadow d-flex align-items-center",disabled:0===(null===a||void 0===a?void 0:a.LevelTwoTasks.flatMap((e=>null===e||void 0===e?void 0:e.TaskGroup)).length),onClick:()=>{ue(!1),de({...le,Sch_Id:null===a||void 0===a?void 0:a.Sch_Id,Levl_Id:3}),Y(null===a||void 0===a?void 0:a.LevelTwoTasks.flatMap((e=>null===e||void 0===e?void 0:e.TaskGroup)))},children:"Assign Task"})]}),a.LevelThreeTasks.map(((e,s)=>{var a;return(null===e||void 0===e||null===(a=e.TaskGroup)||void 0===a?void 0:a.length)>0&&(0,L.jsx)(h,{gobjlvl3:e},s)}))]})})]})]})})};return 1===Number(null===O||void 0===O?void 0:O.read)&&(0,L.jsxs)(L.Fragment,{children:[(0,L.jsxs)("div",{className:"cus-card p-3",children:[(0,L.jsxs)("div",{className:"d-flex align-items-center",children:[(0,L.jsx)("h5",{className:" flex-grow-1 mb-0 text-muted fa-16 ps-2",children:"Create New Schedule"}),1===Number(null===O||void 0===O?void 0:O.add)&&(0,L.jsxs)("button",{className:"btn btn-primary rounded-5 px-3 fa-13 shadow d-flex align-items-center me-2",onClick:()=>ve(),children:[(0,L.jsx)(S.c,{className:"fa-in me-2"})," Add"]}),(0,L.jsxs)("button",{className:"btn btn-secondary rounded-5 px-3 fa-13 shadow d-flex align-items-center",onClick:()=>G("/taskManagement/projectActivity"),children:[(0,L.jsx)(b.c,{className:"fa-in me-2"})," Back"]})]}),(0,L.jsxs)("h6",{className:"my-2 d-flex align-items-center",children:[(0,L.jsx)("span",{className:`rounded-5 mx-2 ${_e(1)}`,style:{padding:"5.2px"}}),"New",(0,L.jsx)("span",{className:`rounded-5 mx-2 ${_e(2)}`,style:{padding:"5.2px"}}),"Progress",(0,L.jsx)("span",{className:`rounded-5 mx-2 ${_e(3)}`,style:{padding:"5.2px"}}),"Completed",(0,L.jsx)("span",{className:`rounded-5 mx-2 ${_e(4)}`,style:{padding:"5.2px"}}),"Canceled"]})]}),H.map(((e,s)=>(0,L.jsx)(pe,{obj:e,SNo:s+1},s))),(0,L.jsxs)(o.c,{open:ce.scheduleCreate,onClose:()=>ve(),maxWidth:"sm",fullWidth:!0,children:[(0,L.jsx)(c.c,{className:"fa-18",children:te?"Change Schedule":"Create Schedule"}),(0,L.jsx)(r.c,{children:(0,L.jsx)("table",{className:"table",children:(0,L.jsxs)("tbody",{children:[(0===Number(null===N||void 0===N?void 0:N.UserTypeId)||1===Number(null===N||void 0===N?void 0:N.UserTypeId))&&(0,L.jsxs)("tr",{children:[(0,L.jsx)("td",{className:"border-bottom-0 fa-15",style:{verticalAlign:"middle"},children:"Scheduled By"}),(0,L.jsx)("td",{className:"border-bottom-0 fa-15",children:(0,L.jsx)("select",{className:"cus-inpt",value:se.Sch_By,onChange:e=>ae({...se,Sch_By:e.target.value}),children:B.map(((e,s)=>(0,L.jsx)("option",{value:null===e||void 0===e?void 0:e.UserId,children:null===e||void 0===e?void 0:e.Name},s)))})})]}),(0,L.jsxs)("tr",{children:[(0,L.jsx)("td",{className:"border-bottom-0 fa-15",style:{verticalAlign:"middle"},children:" Date"}),(0,L.jsx)("td",{className:"border-bottom-0 fa-15",children:(0,L.jsx)("input",{type:"date",className:"cus-inpt",value:se.Sch_Date,onChange:e=>ae({...se,Sch_Date:e.target.value})})})]}),(0,L.jsxs)("tr",{children:[(0,L.jsx)("td",{className:"border-bottom-0 fa-15",style:{verticalAlign:"middle"},children:"Type"}),(0,L.jsx)("td",{className:"border-bottom-0 fa-15",children:(0,L.jsx)("select",{className:"cus-inpt",value:se.Sch_Type_Id,onChange:e=>ae({...se,Sch_Type_Id:e.target.value}),children:q.map(((e,s)=>(0,L.jsx)("option",{value:null===e||void 0===e?void 0:e.Sch_Type_Id,children:(null===e||void 0===e?void 0:e.Sch_Type)+" ("+(null===e||void 0===e?void 0:e.Sch_Days)+" Day)"},s)))})})]}),(0,L.jsxs)("tr",{children:[(0,L.jsx)("td",{className:"border-bottom-0 fa-15",style:{verticalAlign:"middle"},children:"Status"}),(0,L.jsx)("td",{className:"border-bottom-0 fa-15",children:(0,L.jsx)("select",{className:"cus-inpt",value:se.Sch_Status,onChange:e=>ae({...se,Sch_Status:e.target.value}),children:U.map(((e,s)=>(0,L.jsx)("option",{value:null===e||void 0===e?void 0:e.Status_Id,children:null===e||void 0===e?void 0:e.Status},s)))})})]}),(0,L.jsxs)("tr",{children:[(0,L.jsx)("td",{className:"border-bottom-0 fa-15",style:{verticalAlign:"middle"},children:"Start Date"}),(0,L.jsx)("td",{className:"border-bottom-0 fa-15",children:(0,L.jsx)("input",{type:"date",className:"cus-inpt",value:se.Sch_Est_Start_Date,onChange:e=>ae({...se,Sch_Est_Start_Date:e.target.value})})})]})]})})}),(0,L.jsxs)(v.c,{children:[(0,L.jsx)(u.c,{onClick:()=>ve(),children:"cancel"}),(0,L.jsx)(u.c,{onClick:()=>{(0,E.q)({address:"taskManagement/project/schedule",method:te?"PUT":"POST",headers:{"Content-Type":"application/json"},bodyData:se}).then((e=>{e.success?(g.m4.success(e.message),oe(!ie)):g.m4.error(e.message)})).catch((e=>console.error)).finally((()=>ve()))},children:te?"Update":"Create"})]})]}),(0,L.jsxs)(o.c,{open:null===ce||void 0===ce?void 0:ce.taskSchedule,onClose:()=>ue(!0),maxWidth:"sm",fullWidth:!0,children:[(0,L.jsx)(c.c,{children:te?"Manage Task":"Assign Task"}),(0,L.jsxs)("form",{onSubmit:e=>{e.preventDefault(),(()=>{if(le.Task_Id){if(1!==Number(null===le||void 0===le?void 0:le.Levl_Id)&&""===le.Task_Depend_Level_Id)return g.m4.warn("Select Dependency Tasks");(0,E.q)({address:"taskManagement/project/schedule/scheduleTask",method:te?"PUT":"POST",headers:{"Content-Type":"application/json"},bodyData:le}).then((e=>{e.success?(g.m4.success(e.message),ue(!0),oe(!ie)):g.m4.error(e.message)})).catch((e=>console.error(e)))}else g.m4.warn("Select Task")})()},children:[(0,L.jsxs)(r.c,{children:[(0,L.jsx)("table",{className:"table",children:(0,L.jsxs)("tbody",{children:[(0,L.jsxs)("tr",{children:[(0,L.jsx)("td",{className:"border-bottom-0 fa-15",style:{verticalAlign:"middle"},children:"Task"}),(0,L.jsx)("td",{className:"border-bottom-0 fa-15",children:(0,L.jsx)(f.cp,{value:{value:null===le||void 0===le?void 0:le.Task_Id,label:null===le||void 0===le?void 0:le.TasksGet},onChange:e=>de({...le,Task_Id:e.value,TasksGet:e.label}),options:[...W.map((e=>({value:e.Task_Id,label:e.Task_Name})))],styles:y.cF,isSearchable:!0,required:!0,placeholder:"Select Task"})})]}),(0,L.jsxs)("tr",{children:[(0,L.jsx)("td",{className:"border-bottom-0 fa-15",style:{verticalAlign:"middle"},children:"Task Type"}),(0,L.jsx)("td",{className:"border-bottom-0 fa-15",children:(0,L.jsx)("select",{className:"cus-inpt",value:null===le||void 0===le?void 0:le.Type_Task_Id,required:!0,onChange:e=>de({...le,Type_Task_Id:e.target.value}),children:J.map(((e,s)=>(0,L.jsx)("option",{value:null===e||void 0===e?void 0:e.Task_Type_Id,children:null===e||void 0===e?void 0:e.Task_Type},s)))})})]}),(0,L.jsxs)("tr",{children:[(0,L.jsx)("td",{className:"border-bottom-0 fa-15",style:{verticalAlign:"middle"},children:"Start Date"}),(0,L.jsx)("td",{className:"border-bottom-0 fa-15",children:(0,L.jsx)("input",{type:"date",className:"cus-inpt",required:!0,value:(null===le||void 0===le?void 0:le.Task_Est_Start_Date)&&new Date(null===le||void 0===le?void 0:le.Task_Est_Start_Date).toISOString().split("T")[0],onChange:e=>de({...le,Task_Est_Start_Date:e.target.value})})})]}),(0,L.jsxs)("tr",{children:[(0,L.jsx)("td",{className:"border-bottom-0 fa-15",style:{verticalAlign:"middle"},children:"End Date"}),(0,L.jsx)("td",{className:"border-bottom-0 fa-15",children:(0,L.jsx)("input",{type:"date",className:"cus-inpt",required:!0,min:null===le||void 0===le?void 0:le.Task_Est_Start_Date,value:(null===le||void 0===le?void 0:le.Task_Est_End_Date)&&new Date(null===le||void 0===le?void 0:le.Task_Est_End_Date).toISOString().split("T")[0],onChange:e=>de({...le,Task_Est_End_Date:e.target.value})})})]}),(0,L.jsxs)("tr",{children:[(0,L.jsx)("td",{className:"border-bottom-0 fa-15",style:{verticalAlign:"middle"},children:"Start Time"}),(0,L.jsx)("td",{className:"border-bottom-0 fa-15",children:(0,L.jsx)("input",{type:"time",className:"cus-inpt",value:null===le||void 0===le?void 0:le.Task_Start_Time,required:!0,onChange:e=>de({...le,Task_Start_Time:e.target.value})})})]}),(0,L.jsxs)("tr",{children:[(0,L.jsx)("td",{className:"border-bottom-0 fa-15",style:{verticalAlign:"middle"},children:"End Time"}),(0,L.jsx)("td",{className:"border-bottom-0 fa-15",children:(0,L.jsx)("input",{type:"time",className:"cus-inpt",required:!0,min:null===le||void 0===le?void 0:le.Task_Start_Time,value:null===le||void 0===le?void 0:le.Task_End_Time,onChange:e=>de({...le,Task_End_Time:e.target.value})})})]}),te&&(0,L.jsxs)("tr",{children:[(0,L.jsx)("td",{className:"border-bottom-0 fa-15",style:{verticalAlign:"middle"},children:"Status"}),(0,L.jsx)("td",{className:"border-bottom-0 fa-15",children:(0,L.jsx)("select",{className:"cus-inpt",value:le.Task_Sch_Status,required:!0,onChange:e=>de({...le,Task_Sch_Status:e.target.value}),children:U.map(((e,s)=>(0,L.jsx)("option",{value:null===e||void 0===e?void 0:e.Status_Id,children:null===e||void 0===e?void 0:e.Status},s)))})})]})]})}),1!==Number(null===le||void 0===le?void 0:le.Levl_Id)&&(0,L.jsxs)(L.Fragment,{children:[(0,L.jsx)("label",{className:"mb-2",children:"Select Dependency Tasks"}),(0,L.jsx)(m.c,{multiple:!0,id:"checkboxes-tags-demo",options:Z,disableCloseOnSelect:!0,getOptionLabel:e=>null===e||void 0===e?void 0:e.TaskNameGet,value:X,onChange:(e,s)=>ee(s),renderOption:(e,s,a)=>{let{selected:l}=a;return(0,L.jsxs)("li",{...e,children:[(0,L.jsx)(h.c,{icon:w,checkedIcon:A,style:{marginRight:8},checked:l}),null===s||void 0===s?void 0:s.TaskNameGet]})},style:{width:"100%"},isOptionEqualToValue:(e,s)=>Number(null===e||void 0===e?void 0:e.Task_Levl_Id)===Number(null===s||void 0===s?void 0:s.Task_Levl_Id),renderInput:e=>(0,L.jsx)(_.c,{...e,label:"Tasks",placeholder:"Select Dependency Tasks"})})]})]}),(0,L.jsxs)(v.c,{children:[(0,L.jsx)(u.c,{type:"button",onClick:()=>ue(!0),children:"close"}),(0,L.jsx)(u.c,{type:"submit",children:te?"Update":"Assign Task"})]})]})]}),(0,L.jsxs)(o.c,{open:null===ce||void 0===ce?void 0:ce.scheduleDelete,onClose:()=>me(),children:[(0,L.jsx)(c.c,{children:"Confirmation"}),(0,L.jsx)(r.c,{children:"Do you want to delete the Schedule?"}),(0,L.jsxs)(v.c,{children:[(0,L.jsx)(u.c,{onClick:()=>me(),children:"cancel"}),(0,L.jsx)(u.c,{onClick:()=>{(0,E.q)({address:"taskManagement/project/schedule",method:"DELETE",headers:{"Content-Type":"application/json"},bodyData:se}).then((e=>{e.success?(g.m4.success(e.message),oe(!ie)):g.m4.error(e.message)})).catch((e=>console.error)).finally((()=>me()))},children:"Delete"})]})]}),(0,L.jsxs)(o.c,{open:null===ce||void 0===ce?void 0:ce.taskDelete,onClose:()=>he(),children:[(0,L.jsx)(c.c,{children:"Confirmation"}),(0,L.jsx)(r.c,{children:"Do you want to delete the Task?"}),(0,L.jsxs)(v.c,{children:[(0,L.jsx)(u.c,{onClick:()=>he(),children:"cancel"}),(0,L.jsx)(u.c,{onClick:()=>{(0,E.q)({address:"taskManagement/project/schedule/scheduleTask",method:"DELETE",headers:{"Content-Type":"application/json"},bodyData:le}).then((e=>{e.success?(g.m4.success(e.message),oe(!ie)):g.m4.error(e.message)})).catch((e=>console.error(e))).finally((()=>he()))},children:"Delete"})]})]})]})}},96064:(e,s,a)=>{a.d(s,{c:()=>t});var l=a(27664),d=a(82496);const t=(0,l.c)((0,d.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"}),"Add")},22727:(e,s,a)=>{a.d(s,{c:()=>t});var l=a(27664),d=a(82496);const t=(0,l.c)((0,d.jsx)("path",{d:"m12 8-6 6 1.41 1.41L12 10.83l4.59 4.58L18 14z"}),"ExpandLess")},99768:(e,s,a)=>{a.d(s,{c:()=>t});var l=a(27664),d=a(82496);const t=(0,l.c)((0,d.jsx)("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"ExpandMore")},33808:(e,s,a)=>{a.d(s,{c:()=>t});var l=a(27664),d=a(82496);const t=(0,l.c)((0,d.jsx)("path",{d:"M15.41 16.59 10.83 12l4.58-4.59L14 6l-6 6 6 6z"}),"KeyboardArrowLeft")},81568:(e,s,a)=>{function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}a.d(s,{c:()=>l})}}]);
//# sourceMappingURL=3280.55a1d96e.chunk.js.map
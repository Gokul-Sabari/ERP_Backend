"use strict";(self.webpackChunkerp=self.webpackChunkerp||[]).push([[7624],{37624:(e,l,a)=>{a.r(l),a.d(l,{default:()=>L});var d=a(30800),s=a(69060),i=a(3358),r=a(5548),t=a(43692),o=a(89e3),n=a(84436),c=a(82656),u=a(26773),v=a(4488),h=a(44380),m=a(90048),_=(a(67472),a(40656)),x=a(62344),p=a(39308),j=a(71412),b=a(61988),y=a(80236),S=a(1908),g=a(13724),C=a(55312),N=a(91924),I=a(40691),D=a(78092),T=a(86e3),f=a(45180),F=a(56480),P=(a(21680),a(82496));const A=e=>{let{loadingOn:l,loadingOff:a,onToggle:h,reload:j}=e;const y=JSON.parse(localStorage.getItem("user")),[I,A]=(0,s.useState)([]),[R,L]=(0,s.useState)([]),[w,O]=(0,s.useState)([]),[V,G]=(0,s.useState)([]),[k,B]=(0,s.useState)(!0),[H,E]=(0,s.useState)({}),[M,W]=(0,s.useState)({}),[q,U]=(0,s.useState)(!1),[Q,K]=(0,s.useState)({}),[z,Y]=(0,s.useState)(!1),[J,X]=(0,s.useState)({Fromdate:(0,p.SO)(7),Todate:(0,p.Q7)(),Retailer_Id:"",RetailerGet:"ALL",Created_by:"",CreatedByGet:"ALL",Delivery_Person_Id:"",Delivery_Person_Name:"ALL",Cancel_status:0}),[Z,$]=(0,s.useState)({filters:!1,orderDetails:!1});(0,s.useEffect)((()=>{(0,S.q)({address:"delivery/deliveryOrderList?Fromdate=".concat(null===J||void 0===J?void 0:J.Fromdate,"&Todate=").concat(null===J||void 0===J?void 0:J.Todate,"&Retailer_Id=").concat(null===J||void 0===J?void 0:J.Retailer_Id,"&Delivery_Person_Id=").concat(null===J||void 0===J?void 0:J.Delivery_Person_Id,"&Created_by=").concat(null===J||void 0===J?void 0:J.Created_by,"&Cancel_status=").concat(null===J||void 0===J?void 0:J.Cancel_status)}).then((e=>{e.success&&A(null===e||void 0===e?void 0:e.data)})).catch((e=>console.error(e)))}),[J.Fromdate,null===J||void 0===J?void 0:J.Todate,null===J||void 0===J?void 0:J.Retailer_Id,null===J||void 0===J?void 0:J.Delivery_Person_Id,null===J||void 0===J?void 0:J.Created_by,null===J||void 0===J?void 0:J.Cancel_status,j]),(0,s.useEffect)((()=>{(0,S.q)({address:"masters/retailers/dropDown?Company_Id=".concat(null===y||void 0===y?void 0:y.Company_id)}).then((e=>{e.success&&L(e.data)})).catch((e=>console.error(e))),(0,S.q)({address:"masters/users/salesPerson/dropDown?Company_id=".concat(null===y||void 0===y?void 0:y.Company_id)}).then((e=>{e.success&&O(e.data)})).catch((e=>console.error(e))),(0,S.q)({address:"masters/user/dropDown?Company_id=".concat(null===y||void 0===y?void 0:y.Company_id)}).then((e=>{e.success&&G(e.data)})).catch((e=>console.error(e)))}),[]);const ee=[{Field_Name:"Do_Id",ColumnHeader:"Delivery ID",Fied_Data:"string",isVisible:1},{Field_Name:"So_No",ColumnHeader:"Sale Order ID",Fied_Data:"string",isVisible:1},{Field_Name:"Retailer_Name",ColumnHeader:"Customer",Fied_Data:"string",isVisible:1},{Field_Name:"SalesDate",ColumnHeader:"Sale Order Date",Fied_Data:"date",isVisible:1,align:"center"},{Field_Name:"Do_Date",ColumnHeader:"Delivery Date",Fied_Data:"date",isVisible:1,align:"center"},{Field_Name:"Total_Before_Tax",ColumnHeader:"Before Tax",Fied_Data:"number",isVisible:1,align:"center"},{Field_Name:"Total_Tax",ColumnHeader:"Tax",Fied_Data:"number",isVisible:1,align:"center"},{Field_Name:"Total_Invoice_value",ColumnHeader:"Invoice Value",Fied_Data:"number",isVisible:1,align:"center"},{Field_Name:"DeliveryStatusName",ColumnHeader:"Delivery Status ",Fied_Data:"string",isVisible:1,align:"center"},{Field_Name:"Action",isVisible:1,isCustomCell:!0,Cell:e=>{let{row:l}=e;return(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(i.c,{title:"Edit",children:(0,P.jsx)(r.c,{onClick:()=>{le(),E((0,d.c)((0,d.c)({},l),{},{isEdit:!0}))},size:"small",children:(0,P.jsx)(T.c,{className:"fa-16"})})}),(0,P.jsx)(i.c,{title:"Delete",children:(0,P.jsx)(r.c,{onClick:()=>{return K({So_No:(e=l).So_No,Do_Id:e.Do_Id}),void U(!0);var e},size:"small",children:(0,P.jsx)(f.c,{className:"fa-16"})})})]})}}],le=()=>{B(!k),E({}),Y(!z)},ae=()=>{$((0,d.c)((0,d.c)({},Z),{},{filters:!1,orderDetails:!1})),E({}),U(!1)};return(0,P.jsxs)(P.Fragment,{children:[(0,P.jsxs)(t.c,{children:[(0,P.jsxs)("div",{className:"p-3 py-2 d-flex align-items-center justify-content-between",children:[(0,P.jsx)("h6",{className:"fa-18 m-0 p-0",children:k?"Delivery Orders":(0,p.CY)(H)?"Modify Delivery Order":""}),(0,P.jsxs)("span",{children:[k&&(0,P.jsx)(i.c,{title:"Filters",children:(0,P.jsx)(r.c,{size:"small",onClick:()=>$((0,d.c)((0,d.c)({},Z),{},{filters:!0})),children:(0,P.jsx)(b.c,{})})}),k&&(0,P.jsx)(D.c,{checked:!k,onChange:h,label:"Delivery Details",inputProps:{"aria-label":"controlled"}})]})]}),(0,P.jsx)(n.c,{className:"p-0 ",children:k?(0,P.jsx)(g.cp,{dataArray:I,columns:ee,isExpendable:!0,tableMaxHeight:550,expandableComp:e=>{let{row:l}=e;return(0,P.jsx)(P.Fragment,{children:(0,P.jsx)("table",{className:"table",children:(0,P.jsxs)("tbody",{children:[(0,P.jsxs)("tr",{children:[(0,P.jsx)("td",{className:"border p-2 bg-light",children:"Branch"}),(0,P.jsx)("td",{className:"border p-2",children:l.Branch_Name}),(0,P.jsx)("td",{className:"border p-2 bg-light",children:"Delivery Person"}),(0,P.jsx)("td",{className:"border p-2",children:l.Delivery_Person_Name}),(0,P.jsx)("td",{className:"border p-2 bg-light",children:"Round off"}),(0,P.jsx)("td",{className:"border p-2",children:l.Round_off})]}),(0,P.jsxs)("tr",{children:[(0,P.jsx)("td",{className:"border p-2 bg-light",children:"Invoice Type"}),(0,P.jsxs)("td",{className:"border p-2",children:[(0,p.Qr)(l.GST_Inclusive,1)&&"Inclusive",(0,p.Qr)(l.GST_Inclusive,0)&&"Exclusive"]}),(0,P.jsx)("td",{className:"border p-2 bg-light",children:"Tax Type"}),(0,P.jsxs)("td",{className:"border p-2",children:[(0,p.Qr)(l.IS_IGST,1)&&"IGST",(0,p.Qr)(l.IS_IGST,0)&&"GST"]}),(0,P.jsx)("td",{className:"border p-2 bg-light",children:"Sales Person"}),(0,P.jsx)("td",{className:"border p-2",children:l.Sales_Person_Name})]}),(0,P.jsxs)("tr",{children:[(0,P.jsx)("td",{className:"border p-2 bg-light",children:"Narration"}),(0,P.jsx)("td",{className:"border p-2",colSpan:5,children:l.Narration})]})]})})})}}):(0,P.jsx)(C.c,{editValues:H,loadingOn:l,loadingOff:a,reload:()=>{B((e=>!e))},switchScreen:le})})]}),Object.keys(M).length>0&&(0,P.jsx)(N.c,{orderDetails:null===M||void 0===M?void 0:M.orderDetails,orderProducts:null===M||void 0===M?void 0:M.orderProducts,download:!0,actionOpen:!0,clearDetails:()=>W({}),TitleText:"Sale Order"}),(0,P.jsxs)(c.c,{open:q,fullWidth:!0,maxWidth:"sm",children:[(0,P.jsx)(u.c,{children:"Delete"}),(0,P.jsx)(v.c,{children:(0,P.jsx)("div",{children:"Are You Want to Move the order Into the Sale Order Again"})}),(0,P.jsxs)(m.c,{children:[(0,P.jsx)(o.c,{onClick:ae,children:"close"}),(0,P.jsx)(o.c,{onClick:async()=>{Q&&((0,S.q)({address:"delivery/deliveryOrder",method:"DELETE",bodyData:{Order_Id:Q.So_No,Do_Id:Q.Do_Id}}).then((e=>{e.success?(F.m4.success(null===e||void 0===e?void 0:e.message),j()):F.m4.error(null===e||void 0===e?void 0:e.message)})).catch((e=>console.error(e))).finally((()=>a())),U(!1))},children:"Delete"})]})]}),(0,P.jsxs)(c.c,{open:Z.filters,onClose:ae,fullWidth:!0,maxWidth:"sm",children:[(0,P.jsx)(u.c,{children:"Filters"}),(0,P.jsx)(v.c,{children:(0,P.jsx)("div",{className:"table-responsive pb-4",children:(0,P.jsx)("table",{className:"table",children:(0,P.jsxs)("tbody",{children:[(0,P.jsxs)("tr",{children:[(0,P.jsx)("td",{style:{verticalAlign:"middle"},children:"Retailer"}),(0,P.jsx)("td",{children:(0,P.jsx)(_.cp,{value:{value:null===J||void 0===J?void 0:J.Retailer_Id,label:null===J||void 0===J?void 0:J.RetailerGet},onChange:e=>X((0,d.c)((0,d.c)({},J),{},{Retailer_Id:e.value,RetailerGet:e.label})),options:[{value:"",label:"ALL"},...R.map((e=>({value:null===e||void 0===e?void 0:e.Retailer_Id,label:null===e||void 0===e?void 0:e.Retailer_Name})))],styles:x.cF,isSearchable:!0,placeholder:"Retailer Name"})})]}),(0,P.jsxs)("tr",{children:[(0,P.jsx)("td",{style:{verticalAlign:"middle"},children:"Delivery Person"}),(0,P.jsx)("td",{children:(0,P.jsx)(_.cp,{value:{value:null===J||void 0===J?void 0:J.Delivery_Person_Id,label:null===J||void 0===J?void 0:J.Delivery_Person_Name},onChange:e=>X((0,d.c)((0,d.c)({},J),{},{Delivery_Person_Id:e.value,Delivery_Person_Name:e.label})),options:[{value:"",label:"ALL"},...w.map((e=>({value:null===e||void 0===e?void 0:e.UserId,label:null===e||void 0===e?void 0:e.Name})))],styles:x.cF,isSearchable:!0,placeholder:"Delivery Person Name"})})]}),(0,P.jsxs)("tr",{children:[(0,P.jsx)("td",{style:{verticalAlign:"middle"},children:"Created By"}),(0,P.jsx)("td",{children:(0,P.jsx)(_.cp,{value:{value:null===J||void 0===J?void 0:J.Created_by,label:null===J||void 0===J?void 0:J.CreatedByGet},onChange:e=>X((0,d.c)((0,d.c)({},J),{},{Created_by:e.value,CreatedByGet:e.label})),options:[{value:"",label:"ALL"},...V.map((e=>({value:null===e||void 0===e?void 0:e.UserId,label:null===e||void 0===e?void 0:e.Name})))],styles:x.cF,isSearchable:!0,placeholder:"Delivery Person Name"})})]}),(0,P.jsxs)("tr",{children:[(0,P.jsx)("td",{style:{verticalAlign:"middle"},children:"From"}),(0,P.jsx)("td",{children:(0,P.jsx)("input",{type:"date",value:J.Fromdate,onChange:e=>X((0,d.c)((0,d.c)({},J),{},{Fromdate:e.target.value})),className:"cus-inpt"})})]}),(0,P.jsxs)("tr",{children:[(0,P.jsx)("td",{style:{verticalAlign:"middle"},children:"To"}),(0,P.jsx)("td",{children:(0,P.jsx)("input",{type:"date",value:J.Todate,onChange:e=>X((0,d.c)((0,d.c)({},J),{},{Todate:e.target.value})),className:"cus-inpt"})})]}),(0,P.jsxs)("tr",{children:[(0,P.jsx)("td",{style:{verticalAlign:"middle"},children:"Canceled Order"}),(0,P.jsx)("td",{children:(0,P.jsxs)("select",{type:"date",value:J.Cancel_status,onChange:e=>X((0,d.c)((0,d.c)({},J),{},{Cancel_status:Number(e.target.value)})),className:"cus-inpt",children:[(0,P.jsx)("option",{value:1,children:"Show"}),(0,P.jsx)("option",{value:0,children:"Hide"})]})})]})]})})})}),(0,P.jsx)(m.c,{children:(0,P.jsx)(o.c,{onClick:ae,children:"close"})})]})]})};var R=a(51560);const L=e=>{let{loadingOn:l,loadingOff:a}=e;const D=(0,R.i6)(),[T,f]=(0,s.useState)([]),L=JSON.parse(localStorage.getItem("user")),[w,O]=(0,s.useState)([]),[V,G]=(0,s.useState)([]),[k,B]=(0,s.useState)([]),[H,E]=(0,s.useState)([]),[M,W]=(0,s.useState)(!0),[q,U]=(0,s.useState)({}),[Q,K]=(0,s.useState)({}),[z,Y]=(0,s.useState)(!1),[J,X]=(0,s.useState)([]),[Z,$]=(0,s.useState)([]),[ee,le]=(0,s.useState)(!1),[ae,de]=(0,s.useState)(!0),[se,ie]=(0,s.useState)([]),[re,te]=(0,s.useState)({Trip_ST_KM:"",Branch_Id:"",Vehicle_No:"",Trip_No:"",Trip_Date:"",StartTime:"",Created_By:"",GST_Inclusive:1,IS_IGST:0,Delivery_Person_Id:"",Delivery_Location:"",Alter_Id:"",Delivery_Status:""}),oe=null===L||void 0===L?void 0:L.UserId,ne=null===L||void 0===L?void 0:L.BranchId,ce=null===L||void 0===L?void 0:L.UserTypeId,[ue,ve]=(0,s.useState)(!1),he=()=>ve(!1),[me,_e]=(0,s.useState)(null),[xe,pe]=(0,s.useState)([]),[je,be]=(0,s.useState)([]),[ye,Se]=(0,s.useState)({Fromdate:(0,p.SO)(7),Todate:(0,p.Q7)(),Retailer_Id:"",RetailerGet:"ALL",Created_by:"",CreatedByGet:"ALL",Sales_Person_Id:"",SalsePersonGet:"ALL",Cancel_status:0,Route_Id:"",RoutesGet:"ALL",Area_Id:"",AreaGet:"ALL"}),[ge,Ce]=(0,s.useState)({Do_Date:(0,p.Q7)(),Vehicle_No:"",Trip_No:"",Trip_Date:(0,p.Q7)(),StartTime:"",Created_By:"",Delivery_Person_Id:"",Delivery_Location:"",Delivery_Time:"",Payment_Ref_No:"",Payment_Mode:"",Payment_Status:"",Narration:"",Alter_Id:"",Delivery_Status:""}),Ne=e=>{const{name:l,value:a}=e.target;Ce((e=>(0,d.c)((0,d.c)({},e),{},{[l]:a})))},[Ie,De]=(0,s.useState)({filters:!1,orderDetails:!1});(0,s.useEffect)((()=>{(0,S.q)({address:"sales/saleDelivery?Fromdate=".concat(null===ye||void 0===ye?void 0:ye.Fromdate,"&Todate=").concat(null===ye||void 0===ye?void 0:ye.Todate,"&Retailer_Id=").concat(null===ye||void 0===ye?void 0:ye.Retailer_Id,"&Sales_Person_Id=").concat(null===ye||void 0===ye?void 0:ye.Sales_Person_Id,"&Created_by=").concat(null===ye||void 0===ye?void 0:ye.Created_by,"&Cancel_status=").concat(null===ye||void 0===ye?void 0:ye.Cancel_status,"&Route_Id=").concat(null===ye||void 0===ye?void 0:ye.Route_Id,"&Area_Id=").concat(null===ye||void 0===ye?void 0:ye.Area_Id)}).then((e=>{e.success&&O(null===e||void 0===e?void 0:e.data)})).catch((e=>console.error(e)))}),[ye.Fromdate,null===ye||void 0===ye?void 0:ye.Todate,null===ye||void 0===ye?void 0:ye.Retailer_Id,null===ye||void 0===ye?void 0:ye.Sales_Person_Id,null===ye||void 0===ye?void 0:ye.Created_by,null===ye||void 0===ye?void 0:ye.Cancel_status,null===ye||void 0===ye?void 0:ye.Route_Id,null===ye||void 0===ye?void 0:ye.Area_Id,z]);(0,s.useEffect)((()=>{(0,S.q)({address:"masters/retailers/dropDown?Company_Id=".concat(null===L||void 0===L?void 0:L.Company_id)}).then((e=>{e.success&&G(e.data)})).catch((e=>console.error(e))),(0,S.q)({address:"masters/users/salesPerson/dropDown?Company_id=".concat(null===L||void 0===L?void 0:L.Company_id)}).then((e=>{e.success&&B(e.data)})).catch((e=>console.error(e))),(0,S.q)({address:"masters/user/dropDown?Company_id=".concat(null===L||void 0===L?void 0:L.Company_id)}).then((e=>{e.success&&E(e.data)})).catch((e=>console.error(e))),(0,S.q)({address:"masters/users/salesPerson/dropDown?Company_id=".concat(null===L||void 0===L?void 0:L.Company_id)}).then((e=>{e.success&&pe(e.data)})).catch((e=>console.error(e))),(0,S.q)({address:"masters/routes/dropdown?Company_id=".concat(null===L||void 0===L?void 0:L.Company_id)}).then((e=>{e.success&&X(e.data)})).catch((e=>console.error(e))),(0,S.q)({address:"masters/areas/dropdown?Company_id=".concat(null===L||void 0===L?void 0:L.Company_id)}).then((e=>{e.success&&$(e.data)})).catch((e=>console.error(e)))}),[]);const Te=[{Field_Name:"checkbox",ColumnHeader:"",isVisible:1,pointer:!0,isCustomCell:!0,Cell:e=>{let{row:l}=e;const a=T.some((e=>e.So_Id===l.So_Id));return(0,P.jsx)("input",{type:"checkbox",checked:a,onChange:()=>(e=>{const l=T.some((l=>l.So_Id===e.So_Id));f(l?T.filter((l=>l.So_Id!==e.So_Id)):[...T,e])})(l),style:{cursor:"pointer",transform:"scale(1.5)",width:"14px",height:"20px"}})}},{Field_Name:"So_Id",ColumnHeader:"Order ID",Fied_Data:"string",isVisible:1},{Field_Name:"Retailer_Name",ColumnHeader:"Customer",Fied_Data:"string",isVisible:1},{Field_Name:"So_Date",ColumnHeader:"Sale Order Date",Fied_Data:"date",isVisible:1,align:"center"},{Field_Name:"Total_Before_Tax",ColumnHeader:"Before Tax",Fied_Data:"number",isVisible:1,align:"center"},{Field_Name:"Total_Tax",ColumnHeader:"Tax",Fied_Data:"number",isVisible:1,align:"center"},{Field_Name:"Total_Invoice_value",ColumnHeader:"Invoice Value",Fied_Data:"number",isVisible:1,align:"center"},{ColumnHeader:"Status",isVisible:1,align:"center",isCustomCell:!0,Cell:e=>{var l,a;let{row:d}=e;const s=y.o.find((e=>e.id===Number(null===d||void 0===d?void 0:d.isConverted)));return(0,P.jsx)("span",{className:null!==(l="py-0 fw-bold px-2 rounded-4 fa-12 "+(null===s||void 0===s?void 0:s.color))&&void 0!==l?l:"bg-secondary text-white",children:null!==(a=null===s||void 0===s?void 0:s.label)&&void 0!==a?a:"Undefined"})}},{Field_Name:"Action",isVisible:1,isCustomCell:!0,Cell:e=>{let{row:l}=e;return(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(i.c,{title:"View Order",children:(0,P.jsx)(r.c,{onClick:()=>{K({orderDetails:l,orderProducts:null!==l&&void 0!==l&&l.Products_List?null===l||void 0===l?void 0:l.Products_List:[]})},color:"primary",size:"small",children:(0,P.jsx)(j.c,{className:"fa-16"})})}),(0,P.jsx)(i.c,{title:"Sales Delivery",children:(0,P.jsx)(r.c,{onClick:()=>{fe(),U((0,d.c)({},l))},size:"small",children:(0,P.jsx)(I.c,{className:"fa-16"})})})]})}}],fe=()=>{W(!M),U({})},Fe=()=>{De((0,d.c)((0,d.c)({},Ie),{},{filters:!1,orderDetails:!1})),U({})};return(0,P.jsxs)(P.Fragment,{children:[(0,P.jsxs)(t.c,{children:[(0,P.jsxs)("div",{className:"p-3 py-2 d-flex align-items-center justify-content-between",children:[(0,P.jsx)("h6",{className:"fa-18 m-0 p-0",children:M?"Sale Orders":(0,p.CY)(q)}),(0,P.jsxs)("div",{children:[(0,P.jsx)(i.c,{title:"Filters",children:(0,P.jsx)(r.c,{size:"small",onClick:()=>De((0,d.c)((0,d.c)({},Ie),{},{filters:!0})),children:(0,P.jsx)(b.c,{})})}),T.length>0&&M&&(0,P.jsx)(o.c,{variant:"outlined",onClick:()=>{D("/erp/sales/Tripsheet/Tripsheetcreation",{state:[...T]})},children:"Convert to Trip"})]})]}),(0,P.jsx)(n.c,{className:"p-0",children:M?(0,P.jsx)(g.cp,{dataArray:w,columns:Te,isExpendable:!0,tableMaxHeight:550,expandableComp:e=>{let{row:l}=e;return(0,P.jsx)(P.Fragment,{children:(0,P.jsx)("table",{className:"table",children:(0,P.jsxs)("tbody",{children:[(0,P.jsxs)("tr",{children:[(0,P.jsx)("td",{className:"border p-2 bg-light",children:"Branch"}),(0,P.jsx)("td",{className:"border p-2",children:l.Branch_Name}),(0,P.jsx)("td",{className:"border p-2 bg-light",children:"Sales Person"}),(0,P.jsx)("td",{className:"border p-2",children:l.Sales_Person_Name}),(0,P.jsx)("td",{className:"border p-2 bg-light",children:"Round off"}),(0,P.jsx)("td",{className:"border p-2",children:l.Round_off})]}),(0,P.jsxs)("tr",{children:[(0,P.jsx)("td",{className:"border p-2 bg-light",children:"Invoice Type"}),(0,P.jsxs)("td",{className:"border p-2",children:[(0,p.Qr)(l.GST_Inclusive,1)&&"Inclusive",(0,p.Qr)(l.GST_Inclusive,0)&&"Exclusive"]}),(0,P.jsx)("td",{className:"border p-2 bg-light",children:"Tax Type"}),(0,P.jsxs)("td",{className:"border p-2",children:[(0,p.Qr)(l.IS_IGST,1)&&"IGST",(0,p.Qr)(l.IS_IGST,0)&&"GST"]}),(0,P.jsx)("td",{className:"border p-2 bg-light",children:"Sales Person"}),(0,P.jsx)("td",{className:"border p-2",children:l.Sales_Person_Name})]}),(0,P.jsxs)("tr",{children:[(0,P.jsx)("td",{className:"border p-2 bg-light",children:"Narration"}),(0,P.jsx)("td",{className:"border p-2",colSpan:5,children:l.Narration})]})]})})})}}):ee?(0,P.jsx)(A,{editValues:q,loadingOn:l,loadingOff:a,reload:()=>{Y((e=>!e)),W((e=>!e))},switchScreen:()=>W(!0),onToggle:()=>{W((e=>!e)),le((e=>!e))}}):(0,P.jsx)(C.c,{editValues:q,loadingOn:l,loadingOff:a,reload:()=>{Y((e=>!e)),W((e=>!e))},switchScreen:()=>W(!0),editOn:!0})})]}),Object.keys(Q).length>0&&(0,P.jsx)(N.c,{orderDetails:null===Q||void 0===Q?void 0:Q.orderDetails,orderProducts:null===Q||void 0===Q?void 0:Q.orderProducts,download:!0,actionOpen:!0,clearDetails:()=>K({}),TitleText:"Sale Order"}),(0,P.jsxs)(c.c,{open:ue,onClose:he,fullWidth:!0,maxWidth:"sm",children:[(0,P.jsx)(u.c,{children:"Delivery Details"}),(0,P.jsx)(v.c,{children:(0,P.jsxs)("form",{children:[(0,P.jsx)("td",{style:{verticalAlign:"middle"},children:"Delivery Date"}),(0,P.jsx)(h.c,{fullWidth:!0,type:"date",name:"Do_Date",value:ge.Do_Date,onChange:Ne,InputLabelProps:{shrink:!0}}),(0,P.jsx)("label",{htmlFor:"delivery-person",children:"Delivery Person"}),(0,P.jsx)(_.cp,{id:"delivery-person",name:"deliveryPerson",value:me?{value:me.UserId,label:me.Name}:null,onChange:e=>{_e(e?{UserId:e.value,Name:e.label}:null)},options:[{value:"",label:"Select",isDisabled:!0},...(xe||[]).map((e=>({value:e.UserId,label:e.Name})))],styles:x.cF,isSearchable:!0,placeholder:"Sales Person Name"}),(0,P.jsx)(h.c,{fullWidth:!0,margin:"normal",label:"Vehicle Number",name:"Vehicle_No",value:ge.Vehicle_No,onChange:Ne}),(0,P.jsx)(h.c,{fullWidth:!0,margin:"normal",label:"Start KM",name:"Trip_ST_KM",value:ge.Trip_ST_KM,onChange:Ne}),(0,P.jsx)(h.c,{fullWidth:!0,margin:"normal",label:"Trip Date",type:"date",name:"Trip_Date",value:ge.Trip_Date,onChange:Ne}),(0,P.jsx)(h.c,{fullWidth:!0,margin:"normal",label:"Start Time",name:"StartTime",value:ge.StartTime,onChange:Ne})]})}),(0,P.jsxs)(m.c,{children:[(0,P.jsx)(o.c,{onClick:he,children:"Cancel"}),(0,P.jsx)(o.c,{onClick:async()=>{const e={Trip_ST_KM:ge.Trip_ST_KM||"",Branch_Id:ge.Branch_Id||"",Vehicle_No:ge.Vehicle_No||"",Trip_No:ge.Trip_No||"",StartTime:ge.StartTime||"",Delivery_Person_Id:(null===me||void 0===me?void 0:me.UserId)||"",Delivery_Location:ge.Delivery_Location||"",Alter_Id:ge.Alter_Id||"",Delivery_Status:ge.Delivery_Status||"",Cost_Center_Type_Id:ce},l=(null===te||void 0===te||te.Trip_ST_KM,(0,d.c)((0,d.c)({},ge),{},{DeliveryList:je,Product_Array:se,EmployeesInvolved:e,deliveryPerson:null===me||void 0===me?void 0:me.UserId,Do_Date:null===ge||void 0===ge?void 0:ge.Do_Date,Trip_Date:null===ge||void 0===ge?void 0:ge.Trip_Date,Vehicle_No:null===ge||void 0===ge?void 0:ge.Vehicle_No,Created_By:Number(oe),Branch_Id:ne,Involved_Emp_Id:null===me||void 0===me?void 0:me.UserId,Trip_ST_KM:null===ge||void 0===ge?void 0:ge.Trip_ST_KM,Vehicle_No:null===ge||void 0===ge?void 0:ge.Vehicle_No}));try{const e=await(0,S.q)({address:"delivery/deliveryOrderTrip",method:"POST",bodyData:l});return e.success?(F.m4.success(e.message),he(),!0):(F.m4.error("Failed to add Trip Data"),he(),!1)}catch(a){return console.error("Error during API call:",a),he(),!1}},children:"Submit"})]})]}),(0,P.jsxs)(c.c,{open:Ie.filters,onClose:Fe,fullWidth:!0,maxWidth:"sm",children:[(0,P.jsx)(u.c,{children:"Filters"}),(0,P.jsx)(v.c,{children:(0,P.jsx)("div",{className:"table-responsive pb-4",children:(0,P.jsx)("table",{className:"table",children:(0,P.jsxs)("tbody",{children:[(0,P.jsxs)("tr",{children:[(0,P.jsx)("td",{style:{verticalAlign:"middle"},children:"Retailer"}),(0,P.jsx)("td",{children:(0,P.jsx)(_.cp,{value:{value:null===ye||void 0===ye?void 0:ye.Retailer_Id,label:null===ye||void 0===ye?void 0:ye.RetailerGet},onChange:e=>Se((0,d.c)((0,d.c)({},ye),{},{Retailer_Id:e.value,RetailerGet:e.label})),options:[{value:"",label:"ALL"},...V.map((e=>({value:null===e||void 0===e?void 0:e.Retailer_Id,label:null===e||void 0===e?void 0:e.Retailer_Name})))],styles:x.cF,isSearchable:!0,placeholder:"Retailer Name"})})]}),(0,P.jsxs)("tr",{children:[(0,P.jsx)("td",{style:{verticalAlign:"middle"},children:"Salse Person"}),(0,P.jsx)("td",{children:(0,P.jsx)(_.cp,{value:{value:null===ye||void 0===ye?void 0:ye.Sales_Person_Id,label:null===ye||void 0===ye?void 0:ye.SalsePersonGet},onChange:e=>Se((0,d.c)((0,d.c)({},ye),{},{Sales_Person_Id:e.value,SalsePersonGet:e.label})),options:[{value:"",label:"ALL"},...k.map((e=>({value:null===e||void 0===e?void 0:e.UserId,label:null===e||void 0===e?void 0:e.Name})))],styles:x.cF,isSearchable:!0,placeholder:"Sales Person Name"})})]}),(0,P.jsxs)("tr",{children:[(0,P.jsx)("td",{style:{verticalAlign:"middle"},children:"Created By"}),(0,P.jsx)("td",{children:(0,P.jsx)(_.cp,{value:{value:null===ye||void 0===ye?void 0:ye.Created_by,label:null===ye||void 0===ye?void 0:ye.CreatedByGet},onChange:e=>Se((0,d.c)((0,d.c)({},ye),{},{Created_by:e.value,CreatedByGet:e.label})),options:[{value:"",label:"ALL"},...H.map((e=>({value:null===e||void 0===e?void 0:e.UserId,label:null===e||void 0===e?void 0:e.Name})))],styles:x.cF,isSearchable:!0,placeholder:"Sales Person Name"})})]}),(0,P.jsxs)("tr",{children:[(0,P.jsx)("td",{style:{verticalAlign:"middle"},children:"From"}),(0,P.jsx)("td",{children:(0,P.jsx)("input",{type:"date",value:ye.Fromdate,onChange:e=>Se((0,d.c)((0,d.c)({},ye),{},{Fromdate:e.target.value})),className:"cus-inpt"})})]}),(0,P.jsxs)("tr",{children:[(0,P.jsx)("td",{style:{verticalAlign:"middle"},children:"To"}),(0,P.jsx)("td",{children:(0,P.jsx)("input",{type:"date",value:ye.Todate,onChange:e=>Se((0,d.c)((0,d.c)({},ye),{},{Todate:e.target.value})),className:"cus-inpt"})})]}),(0,P.jsxs)("tr",{children:[(0,P.jsx)("td",{style:{verticalAlign:"middle"},children:"Canceled Order"}),(0,P.jsx)("td",{children:(0,P.jsxs)("select",{type:"date",value:ye.Cancel_status,onChange:e=>Se((0,d.c)((0,d.c)({},ye),{},{Cancel_status:Number(e.target.value)})),className:"cus-inpt",children:[(0,P.jsx)("option",{value:1,children:"Show"}),(0,P.jsx)("option",{value:0,children:"Hide"})]})})]}),(0,P.jsxs)("tr",{children:[(0,P.jsx)("td",{style:{verticalAlign:"middle"},children:"Routes"}),(0,P.jsx)("td",{children:(0,P.jsx)(_.cp,{value:{value:null===ye||void 0===ye?void 0:ye.Route_Id,label:null===ye||void 0===ye?void 0:ye.RoutesGet},onChange:e=>Se((0,d.c)((0,d.c)({},ye),{},{Route_Id:e.value,RoutesGet:e.label})),options:[{value:"",label:"ALL"},...J.map((e=>({value:null===e||void 0===e?void 0:e.Route_Id,label:null===e||void 0===e?void 0:e.Route_Name})))],styles:x.cF,isSearchable:!0,placeholder:"Route Name"})})]}),(0,P.jsxs)("tr",{children:[(0,P.jsx)("td",{style:{verticalAlign:"middle"},children:"Area"}),(0,P.jsx)("td",{children:(0,P.jsx)(_.cp,{value:{value:null===ye||void 0===ye?void 0:ye.Area_Id,label:null===ye||void 0===ye?void 0:ye.AreaGet},onChange:e=>Se((0,d.c)((0,d.c)({},ye),{},{Area_Id:e.value,AreaGet:e.label})),options:[{value:"",label:"ALL"},...Z.map((e=>({value:null===e||void 0===e?void 0:e.Area_Id,label:null===e||void 0===e?void 0:e.Area_Name})))],styles:x.cF,isSearchable:!0,placeholder:"Area Name"})})]})]})})})}),(0,P.jsx)(m.c,{children:(0,P.jsx)(o.c,{onClick:Fe,children:"close"})})]})]})}},80236:(e,l,a)=>{a.d(l,{o:()=>d});const d=[{id:0,label:"New",color:" bg-info text-white "},{id:1,label:"Verified",color:" bg-warning text-white "},{id:2,label:"Converted",color:" bg-success text-white "},{id:3,label:"Canceled",color:" bg-danger text-white "}]}}]);
//# sourceMappingURL=7624.f17ce218.chunk.js.map
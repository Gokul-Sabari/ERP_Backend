"use strict";(self.webpackChunkerp=self.webpackChunkerp||[]).push([[4080],{34080:(e,c,a)=>{a.r(c),a.d(c,{default:()=>y});var r=a(30800),s=a(69060),l=a(5548),t=a(82656),o=a(26773),n=a(4488),d=a(90048),i=a(89e3),u=a(56480),h=a(42136),p=a(86e3),m=a(45180),x=a(1908),j=a(13724),_=a(82496);const v={Voucher_Type_Id:"",Voucher_Type:"",Voucher_Code:"",Branch_Id:"",Branch_Name:"",Type:"",Voucher_Group_Id:"",Group_Name:""};const y=function(){const[e,c]=(0,s.useState)([]),[a,y]=(0,s.useState)(!1),[b,V]=(0,s.useState)(!1),[g,N]=(0,s.useState)(!1),[C,T]=(0,s.useState)(v),[f,I]=(0,s.useState)(!1),[B,G]=(0,s.useState)(""),[S,k]=(0,s.useState)([]),[w,D]=(0,s.useState)(""),[E,A]=(0,s.useState)(""),[z,O]=(0,s.useState)(""),[q,P]=(0,s.useState)([]),[M,H]=(0,s.useState)(""),F=JSON.parse(localStorage.getItem("user")),R=null===F||void 0===F?void 0:F.UserId;return(0,s.useEffect)((()=>{(0,x.q)({address:"masters/voucher"}).then((e=>{e.success&&c(e.data)})).catch((e=>console.error(e))),(0,x.q)({address:"masters/branch/dropDown"}).then((e=>{e.success&&k(e.data)})).catch((e=>console.error(e))),(0,x.q)({address:"masters/voucherGroup"}).then((e=>{e.success&&P(e.data)})).catch((e=>console.error(e)))}),[a]),(0,_.jsxs)(s.Fragment,{children:[(0,_.jsxs)("div",{className:"card",children:[(0,_.jsxs)("div",{className:"card-header bg-white fw-bold d-flex align-items-center justify-content-between",children:["Voucher Master",(0,_.jsx)("div",{className:"text-end",children:(0,_.jsx)(h.c,{className:"rounded-5 px-3 py-1 fa-13 btn-primary shadow",onClick:()=>N(!0),children:"Create Voucher"})})]}),(0,_.jsx)(j.cp,{dataArray:e,EnableSerialNumber:!0,isExpendable:!0,maxHeightOption:!0,columns:[(0,j.A5)("Voucher_Type","string","Voucher Type"),(0,j.A5)("Type","string","Type"),(0,j.A5)("BranchName","string","Branch Name"),(0,j.A5)("Voucher_Code","string","Voucher Code"),(0,j.A5)("Group_Name","string","Voucher Group"),{ColumnHeader:"Actions",isVisible:1,isCustomCell:!0,Cell:e=>{let{row:c}=e;return(0,_.jsxs)("td",{className:"fa-12",style:{minWidth:"80px"},children:[(0,_.jsx)(l.c,{onClick:()=>(e=>{I(!0),T({Voucher_Type_Id:e.Vocher_Type_Id,Voucher_Type:e.Voucher_Type,Branch_Id:e.Branch_Id,Voucher_Code:e.Voucher_Code,Type:e.Type,Voucher_Group_Id:e.Voucher_Group_Id}),D(e.Branch_Id),H(e.Voucher_Group_Id)})(c),size:"small",children:(0,_.jsx)(p.c,{className:"fa-in"})}),(0,_.jsx)(l.c,{onClick:()=>{V(!0),T({Voucher_Type_Id:c.Vocher_Type_Id})},size:"small",color:"error",children:(0,_.jsx)(m.c,{className:"fa-in "})})]})}}]})]}),(0,_.jsxs)(t.c,{open:g,onClose:()=>N(!1),"aria-labelledby":"create-dialog-title","aria-describedby":"create-dialog-description",children:[(0,_.jsx)(o.c,{id:"create-dialog-title",children:"Voucher Creation"}),(0,_.jsx)(n.c,{children:(0,_.jsxs)("div",{children:[(0,_.jsxs)("div",{className:"p-2",children:[(0,_.jsx)("label",{children:"Voucher Name"}),(0,_.jsx)("input",{type:"text",onChange:e=>G(e.target.value),placeholder:"",value:B,className:"cus-inpt"})]}),(0,_.jsxs)("div",{className:"p-2",children:[(0,_.jsx)("label",{children:"Branch"}),(0,_.jsxs)("select",{value:w,onChange:e=>D(e.target.value),className:"cus-inpt",children:[(0,_.jsx)("option",{value:"",children:"Select Branch"}),S.map((e=>(0,_.jsx)("option",{value:e.BranchId,children:e.BranchName},e.BranchId)))]})]}),(0,_.jsxs)("div",{className:"p-2",children:[(0,_.jsx)("label",{children:"Voucher Group"}),(0,_.jsxs)("select",{value:M,onChange:e=>H(e.target.value),className:"cus-inpt",children:[(0,_.jsx)("option",{value:"",children:"Select Voucher Group"}),q.map((e=>(0,_.jsx)("option",{value:e.Voucher_Group_Id,children:e.Group_Name},e.Voucher_Group_Id)))]})]}),(0,_.jsxs)("div",{className:"p-2",children:[(0,_.jsx)("label",{children:"Voucher Code"}),(0,_.jsx)("input",{type:"text",onChange:e=>O(e.target.value),placeholder:"",value:z,className:"cus-inpt"})]}),(0,_.jsxs)("div",{className:"p-2",children:[(0,_.jsx)("label",{children:"Type"}),(0,_.jsx)("input",{type:"text",onChange:e=>A(e.target.value),placeholder:"",value:E,className:"cus-inpt"})]})]})}),(0,_.jsxs)(d.c,{children:[(0,_.jsx)(i.c,{onClick:()=>N(!1),children:"Cancel"}),(0,_.jsx)(i.c,{onClick:()=>{w&&B&&E&&z&&M?(0,x.q)({address:"masters/voucher",method:"POST",bodyData:{Voucher_Type:B,Branch_Id:Number(w),Type:E,Voucher_Code:z,Voucher_Group_Id:Number(M),Created_By:R}}).then((e=>{e.success?(N(!1),y(!a),u.m4.success(e.message),G(""),D(""),A(""),O(""),H("")):u.m4.error(e.message)})).catch((e=>console.error(e))):u.m4.error("Please fill all fields")},color:"success",children:"CREATE"})]})]}),(0,_.jsxs)(t.c,{open:f,onClose:()=>I(!1),"aria-labelledby":"create-dialog-title","aria-describedby":"create-dialog-description",children:[(0,_.jsx)(o.c,{id:"create-dialog-title",children:"Edit Voucher"}),(0,_.jsxs)(n.c,{children:[(0,_.jsxs)("div",{className:"p-2",children:[(0,_.jsx)("label",{children:"Voucher Type"}),(0,_.jsx)("input",{type:"text",onChange:e=>T((0,r.c)((0,r.c)({},C),{},{Voucher_Type:e.target.value})),placeholder:C.Voucher_Type,value:C.Voucher_Type,className:"cus-inpt"})]}),(0,_.jsxs)("div",{className:"p-2",children:[(0,_.jsx)("label",{children:"Branch"}),(0,_.jsxs)("select",{value:w,onChange:e=>{D(e.target.value),T((0,r.c)((0,r.c)({},C),{},{Branch_Id:e.target.value}))},className:"cus-inpt",children:[(0,_.jsx)("option",{value:"",children:"Select Branch"}),S.map((e=>(0,_.jsx)("option",{value:e.BranchId,children:e.BranchName},e.BranchId)))]})]}),(0,_.jsxs)("div",{className:"p-2",children:[(0,_.jsx)("label",{children:"Voucher Group"}),(0,_.jsxs)("select",{value:M,onChange:e=>{H(e.target.value),T((0,r.c)((0,r.c)({},C),{},{Voucher_Group_Id:e.target.value}))},className:"cus-inpt",children:[(0,_.jsx)("option",{value:"",children:"Select Voucher Group"}),q.map((e=>(0,_.jsx)("option",{value:e.Voucher_Group_Id,children:e.Group_Name},e.Voucher_Group_Id)))]})]}),(0,_.jsxs)("div",{className:"p-2",children:[(0,_.jsx)("label",{children:"Voucher Code"}),(0,_.jsx)("input",{type:"text",onChange:e=>T((0,r.c)((0,r.c)({},C),{},{Voucher_Code:e.target.value})),placeholder:C.Voucher_Code,value:C.Voucher_Code,className:"cus-inpt"})]}),(0,_.jsxs)("div",{className:"p-2",children:[(0,_.jsx)("label",{children:"Type"}),(0,_.jsx)("input",{type:"text",onChange:e=>T((0,r.c)((0,r.c)({},C),{},{Type:e.target.value})),placeholder:C.Type,value:C.Type,className:"cus-inpt"})]})]}),(0,_.jsxs)(d.c,{children:[(0,_.jsx)(i.c,{onClick:()=>I(!1),children:"Cancel"}),(0,_.jsx)(i.c,{onClick:()=>{(0,x.q)({address:"masters/voucher",method:"PUT",bodyData:{Vocher_Type_Id:C.Voucher_Type_Id,Voucher_Type:C.Voucher_Type,Branch_Id:C.Branch_Id,Voucher_Code:C.Voucher_Code,Type:C.Type,Voucher_Group_Id:C.Voucher_Group_Id,Alter_By:R}}).then((e=>{e.success?(u.m4.success(e.message),y(!a),I(!1)):u.m4.error(e.message)})).catch((e=>console.error(e)))},color:"success",children:"Update"})]})]}),(0,_.jsxs)(t.c,{open:b,onClose:()=>V(!1),"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[(0,_.jsx)(o.c,{id:"alert-dialog-title",children:"Confirmation"}),(0,_.jsx)(n.c,{children:(0,_.jsx)("b",{children:"Do you want to delete the Voucher?"})}),(0,_.jsxs)(d.c,{children:[(0,_.jsx)(i.c,{onClick:()=>V(!1),children:"Cancel"}),(0,_.jsx)(i.c,{onClick:()=>{(0,x.q)({address:"masters/voucher",method:"DELETE",bodyData:{Vocher_Type_Id:C.Voucher_Type_Id}}).then((e=>{e.success?(y(!a),V(!1),u.m4.success("Voucher Type deleted successfully!")):u.m4.error("Failed to delete voucher: "+e.message)})).catch((e=>{console.error(e),u.m4.error("Error deleting voucher")}))},autoFocus:!0,color:"error",children:"Delete"})]})]})]})}},45180:(e,c,a)=>{a.d(c,{c:()=>l});var r=a(27664),s=a(82496);const l=(0,r.c)((0,s.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"}),"Delete")},86e3:(e,c,a)=>{a.d(c,{c:()=>l});var r=a(27664),s=a(82496);const l=(0,r.c)((0,s.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"}),"Edit")},16344:(e,c,a)=>{a.d(c,{cV:()=>t,cp:()=>n});var r=a(69060),s=a(82496);const l=["as","disabled"];function t(e){let{tagName:c,disabled:a,href:r,target:s,rel:l,role:t,onClick:o,tabIndex:n=0,type:d}=e;c||(c=null!=r||null!=s||null!=l?"a":"button");const i={tagName:c};if("button"===c)return[{type:d||"button",disabled:a},i];const u=e=>{(a||"a"===c&&function(e){return!e||"#"===e.trim()}(r))&&e.preventDefault(),a?e.stopPropagation():null==o||o(e)};return"a"===c&&(r||(r="#"),a&&(r=void 0)),[{role:null!=t?t:"button",disabled:void 0,tabIndex:a?void 0:n,href:r,target:"a"===c?s:void 0,"aria-disabled":a||void 0,rel:"a"===c?l:void 0,onClick:u,onKeyDown:e=>{" "===e.key&&(e.preventDefault(),u(e))}},i]}const o=r.forwardRef(((e,c)=>{let{as:a,disabled:r}=e,o=function(e,c){if(null==e)return{};var a,r,s={},l=Object.keys(e);for(r=0;r<l.length;r++)a=l[r],c.indexOf(a)>=0||(s[a]=e[a]);return s}(e,l);const[n,{tagName:d}]=t(Object.assign({tagName:a,disabled:r},o));return(0,s.jsx)(d,Object.assign({},o,n,{ref:c}))}));o.displayName="Button";const n=o},42136:(e,c,a)=>{a.d(c,{c:()=>p});var r=a(30800),s=a(31024),l=a(264),t=a.n(l),o=a(69060),n=a(16344),d=a(83576),i=a(82496);const u=["as","bsPrefix","variant","size","active","disabled","className"],h=o.forwardRef(((e,c)=>{let{as:a,bsPrefix:l,variant:o="primary",size:h,active:p=!1,disabled:m=!1,className:x}=e,j=(0,s.c)(e,u);const _=(0,d.Ky)(l,"btn"),[v,{tagName:y}]=(0,n.cV)((0,r.c)({tagName:a,disabled:m},j)),b=y;return(0,i.jsx)(b,(0,r.c)((0,r.c)((0,r.c)({},v),j),{},{ref:c,disabled:m,className:t()(x,_,p&&"active",o&&"".concat(_,"-").concat(o),h&&"".concat(_,"-").concat(h),j.href&&m&&"disabled")}))}));h.displayName="Button";const p=h}}]);
//# sourceMappingURL=4080.0f792e16.chunk.js.map
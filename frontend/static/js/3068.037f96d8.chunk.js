"use strict";(self.webpackChunkerp=self.webpackChunkerp||[]).push([[3068],{60687:(e,t,s)=>{s.r(t),s.d(t,{default:()=>u});var a=s(69060),r=s(41459),n=s(46864),c=s(43692),o=s(84436),l=s(39308),d=s(1908),i=s(82496);const u=()=>{const[e,t]=(0,a.useState)([]),[s,u]=(0,a.useState)(!0),[x,h]=(0,a.useState)({zero:!1,inm:"",date:(0,l.Q7)()});(0,a.useEffect)((()=>{t([]),(0,d.q)({address:`reports/itemGroup/stockInfo/grouped?reqDate=${x.date}`}).then((e=>{e.success?t(e.data):t([])})).catch((e=>console.error(e)))}),[x.date]);const m=(0,a.useMemo)((()=>null!==e?e.map((e=>{const t=e.product_details.filter((e=>String(e.Group_Name).toLowerCase().includes(x.inm.toLowerCase())));return{...e,product_details:t}})):[]),[e,x.inm]),p=e=>{let{rows:t}=e;const[s,c]=(0,a.useState)(!1),[o,d]=(0,a.useState)(!0),u=(0,l.dq)(null===t||void 0===t?void 0:t.product_details);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("tr",{children:[(0,i.jsx)("td",{className:"border fa-13 text-center",children:(0,i.jsx)("button",{onClick:()=>c(!s),className:"icon-btn",children:s?(0,i.jsx)(r.c,{sx:{fontSize:"inherit"}}):(0,i.jsx)(n.c,{sx:{fontSize:"inherit"}})})}),(0,i.jsxs)("td",{className:"fa-13 text-center bg-light",children:[t.Stock_Group,(0,i.jsxs)("span",{className:"text-danger",children:[" (",t.product_details.length,")"]})]}),(0,i.jsx)("td",{className:"fa-13 text-end text-primary",children:(0,l.SA)(t.Bal_Qty/1e3)}),(0,i.jsx)("td",{className:"fa-13 text-end text-primary bg-light",children:(0,l.SA)(t.CL_Rate)}),(0,i.jsx)("td",{className:"fa-13 text-end text-primary",onClick:()=>d(!o),children:o?(0,l.SA)(t.Stock_Value/1e5):(0,l.SA)(t.Stock_Value)}),(0,i.jsx)("td",{className:"fa-13 text-end text-primary bg-light",children:(0,l.SA)(t.Bal_Qty)})]}),s&&(0,i.jsx)("tr",{children:(0,i.jsx)("td",{colSpan:6,className:"px-0 py-2",children:(0,i.jsxs)("table",{className:"table mb-0",children:[(0,i.jsx)("thead",{children:(0,i.jsx)("tr",{children:["SNo","INM","Quantity","Rate","Value (\u20b9)"].map(((e,t)=>(0,i.jsx)("th",{className:"fa-13 border text-center",children:e},t)))})}),(0,i.jsx)("tbody",{children:null===u||void 0===u?void 0:u.map(((e,t)=>(0,i.jsxs)("tr",{children:[(0,i.jsx)("td",{className:"fa-13 bg-light",children:t+1}),(0,i.jsx)("td",{className:"fa-13",children:e.Group_Name}),(0,i.jsx)("td",{className:"fa-13 text-end bg-light",children:(0,l.SA)(e.Bal_Qty)}),(0,i.jsx)("td",{className:"fa-13 text-end",children:(0,l.SA)(e.CL_Rate)}),(0,i.jsx)("td",{className:"fa-13 text-end fw-bold bg-light",children:(0,l.SA)(e.Stock_Value)})]},t)))})]})})})]})},j=(0,a.useMemo)((()=>m.map(((e,t)=>(0,i.jsx)(p,{rows:e},t)))),[m,x.zero]),f=m.reduce(((e,t)=>(0,l.Q5)(e,null===t||void 0===t?void 0:t.Stock_Value)),0);return(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)(c.c,{children:[(0,i.jsxs)("div",{className:"px-3 py-2 d-flex justify-content-between align-items-center fw-bold text-dark",style:{backgroundColor:"#eae0cc"},children:[(0,i.jsx)("span",{}),(0,i.jsx)("span",{children:(0,i.jsx)("input",{type:"search",className:"cus-inpt ps-3 w-100 rounded-5 border-0",value:x.inm,placeholder:"Search",onChange:e=>{h({...x,inm:e.target.value})}})})]}),(0,i.jsxs)("div",{className:"d-flex justify-content-between align-items-center px-3 py-2",style:{boxShadow:"none"},children:[(0,i.jsx)("input",{type:"date",className:"cus-inpt w-auto ps-3 border rounded-5",value:x.date,onChange:e=>{h({...x,date:e.target.value})}}),(0,i.jsx)("h6",{children:(0,i.jsxs)("span",{className:"text-primary fw-bold",onClick:()=>u(!s),children:["\u20b9",s?(0,l.SA)(f/1e5)+" (L)":(0,l.SA)(f)]})})]}),(0,i.jsx)(o.c,{className:"overflow-scroll pt-0",style:{maxHeight:"75vh"},children:(0,i.jsxs)("table",{className:"table",children:[(0,i.jsx)("thead",{children:(0,i.jsx)("tr",{children:["-","Group Name","Tonnage","Rate","Value (L)","Quantity"].map(((e,t)=>(0,i.jsx)("th",{className:"tble-hed-stick text-center fa-14 border",children:e},t)))})}),(0,i.jsx)("tbody",{children:j})]})})]})})}},84436:(e,t,s)=>{s.d(t,{c:()=>j});var a=s(45072),r=s(95656),n=s(69060),c=s(79736),o=s(21412),l=s(12556),d=s(49836),i=s(10099),u=s(33448);function x(e){return(0,u.cp)("MuiCardContent",e)}(0,i.c)("MuiCardContent",["root"]);var h=s(82496);const m=["className","component"],p=(0,l.cp)("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(e,t)=>t.root})((()=>({padding:16,"&:last-child":{paddingBottom:24}}))),j=n.forwardRef((function(e,t){const s=(0,d.C)({props:e,name:"MuiCardContent"}),{className:n,component:l="div"}=s,i=(0,r.c)(s,m),u=(0,a.c)({},s,{component:l}),j=(e=>{const{classes:t}=e;return(0,o.c)({root:["root"]},x,t)})(u);return(0,h.jsx)(p,(0,a.c)({as:l,className:(0,c.c)(j.root,n),ownerState:u,ref:t},i))}))},43692:(e,t,s)=>{s.d(t,{c:()=>f});var a=s(45072),r=s(95656),n=s(69060),c=s(79736),o=s(21412),l=s(12556),d=s(49836),i=s(85624),u=s(10099),x=s(33448);function h(e){return(0,x.cp)("MuiCard",e)}(0,u.c)("MuiCard",["root"]);var m=s(82496);const p=["className","raised"],j=(0,l.cp)(i.c,{name:"MuiCard",slot:"Root",overridesResolver:(e,t)=>t.root})((()=>({overflow:"hidden"}))),f=n.forwardRef((function(e,t){const s=(0,d.C)({props:e,name:"MuiCard"}),{className:n,raised:l=!1}=s,i=(0,r.c)(s,p),u=(0,a.c)({},s,{raised:l}),x=(e=>{const{classes:t}=e;return(0,o.c)({root:["root"]},h,t)})(u);return(0,m.jsx)(j,(0,a.c)({className:(0,c.c)(x.root,n),elevation:l?8:void 0,ref:t,ownerState:u},i))}))}}]);
//# sourceMappingURL=3068.037f96d8.chunk.js.map
"use strict";(self.webpackChunkerp=self.webpackChunkerp||[]).push([[1728],{11728:(e,s,c)=>{c.r(s),c.d(s,{default:()=>_});var a=c(69060),t=c(44380),l=c(5548),r=c(82656),n=c(26773),o=c(4488),i=c(21420),d=c(93996),u=c(90048),m=c(4016),h=c(89e3),p=c(56480),x=c(42136),j=c(57704),f=c(86e3),v=c(45180),b=c(1908),A=c(13724),C=c(82496);const N={Acc_Id:"",Account_name:"",Account_Alias_Name:"",Group_Id:""};const _=function(){const[e,s]=(0,a.useState)(!1),[c,_]=(0,a.useState)(!1),[g,y]=(0,a.useState)(!1),[w,I]=(0,a.useState)(N),[S,k]=(0,a.useState)(!1),[M,P]=(0,a.useState)([]),[F,G]=(0,a.useState)([]),[R,T]=(0,a.useState)([]),[V,q]=(0,a.useState)(""),z=JSON.parse(localStorage.getItem("user")),E=null===z||void 0===z?void 0:z.UserId;return(0,a.useEffect)((()=>{(0,b.q)({address:"masters/accountMaster"}).then((e=>{e.success&&(P(e.data),G(e.data))})).catch((e=>console.error(e)))}),[e]),(0,a.useEffect)((()=>{(0,b.q)({address:"masters/account/dropdown"}).then((e=>{e.success&&T(e.data)})).catch((e=>console.error(e)))}),[]),(0,a.useEffect)((()=>{if(""===V.trim())G(M);else{const e=M.filter((e=>e.Account_name.toLowerCase().includes(V.toLowerCase())||e.Account_Alias_Name.toLowerCase().includes(V.toLowerCase())||e.Group_Name.toLowerCase().includes(V.toLowerCase())));G(e)}}),[V,M]),(0,C.jsxs)(C.Fragment,{children:[(0,C.jsxs)("div",{className:"card",children:[(0,C.jsxs)("div",{className:"card-header bg-white fw-bold d-flex align-items-center justify-content-between",children:["Account Master",(0,C.jsxs)("div",{className:"d-flex align-items-center gap-3",children:[(0,C.jsx)("div",{style:{width:"300px"},children:(0,C.jsx)(t.c,{fullWidth:!0,size:"small",variant:"outlined",placeholder:"Search accounts...",value:V,onChange:e=>q(e.target.value),InputProps:{startAdornment:(0,C.jsx)(j.c,{fontSize:"small",sx:{mr:1}}),style:{height:"40px"}}})}),(0,C.jsx)(x.c,{variant:"contained",size:"small",className:"rounded-1 btn-primary",onClick:()=>{y(!0),I(N)},sx:{textTransform:"none",fontWeight:500,px:2,height:"40px"},children:"Create Account Master"})]})]}),(0,C.jsx)(A.cp,{dataArray:F,EnableSerialNumber:!0,maxHeightOption:!0,columns:[(0,A.A5)("Account_name","string","Account Name"),(0,A.A5)("Account_Alias_Name","string","Alias Name"),(0,A.A5)("Group_Name","string","Group"),{ColumnHeader:"Actions",isVisible:1,isCustomCell:!0,Cell:e=>{let{row:s}=e;return(0,C.jsxs)("td",{style:{minWidth:"80px"},children:[(0,C.jsx)(l.c,{onClick:()=>(e=>{I({Acc_Id:e.Acc_Id,Account_name:e.Account_name,Account_Alias_Name:e.Account_Alias_Name,Group_Id:e.Group_Id}),k(!0)})(s),size:"small",children:(0,C.jsx)(f.c,{})}),(0,C.jsx)(l.c,{onClick:()=>{_(!0),I({Acc_Id:s.Acc_Id})},size:"small",color:"error",children:(0,C.jsx)(v.c,{})})]})}}]})]}),(0,C.jsxs)(r.c,{open:g,onClose:()=>y(!1),children:[(0,C.jsx)(n.c,{children:"Account Master Creation"}),(0,C.jsxs)(o.c,{children:[(0,C.jsxs)("div",{className:"p-2",children:[(0,C.jsx)("label",{children:"Account Name*"}),(0,C.jsx)("input",{type:"text",value:w.Account_name,onChange:e=>I({...w,Account_name:e.target.value}),className:"cus-inpt",placeholder:"Enter Account Name"})]}),(0,C.jsxs)("div",{className:"p-2",children:[(0,C.jsx)("label",{children:"Account Alias Name"}),(0,C.jsx)("input",{type:"text",placeholder:"Alias Name",value:w.Account_Alias_Name,onChange:e=>I({...w,Account_Alias_Name:e.target.value}),className:"cus-inpt"})]}),(0,C.jsxs)("div",{className:"p-2",children:[(0,C.jsx)("label",{children:"Group Name*"}),(0,C.jsx)(i.c,{labelId:"group-select-label",value:w.Group_Id,label:"Group",onChange:e=>I({...w,Group_Id:e.target.value}),fullWidth:!0,children:R.map((e=>(0,C.jsx)(d.c,{value:e.Value,children:e.label},e.Value)))})]})]}),(0,C.jsxs)(u.c,{children:[(0,C.jsx)(h.c,{onClick:()=>y(!1),children:"Cancel"}),(0,C.jsx)(h.c,{onClick:()=>{const{Account_name:c,Group_Id:a}=w;c&&a?(0,b.q)({address:"masters/accountMaster",method:"POST",bodyData:{...w,Created_By:E}}).then((c=>{c.success?(p.m4.success("Account Master created successfully!"),y(!1),I(N),s(!e)):p.m4.error(c.message)})).catch((e=>console.error(e))):p.m4.error("Please fill all required fields.")},color:"success",children:"Create"})]})]}),(0,C.jsxs)(r.c,{open:S,onClose:()=>k(!1),children:[(0,C.jsx)(n.c,{children:"Edit Account"}),(0,C.jsxs)(o.c,{children:[(0,C.jsxs)("div",{className:"p-2",children:[(0,C.jsx)("label",{children:"Account Name*"}),(0,C.jsx)("input",{type:"text",value:w.Account_name,onChange:e=>I({...w,Account_name:e.target.value}),className:"cus-inpt"})]}),(0,C.jsxs)("div",{className:"p-2",children:[(0,C.jsx)("label",{children:"Alias Name"}),(0,C.jsx)("input",{type:"text",value:w.Account_Alias_Name,onChange:e=>I({...w,Account_Alias_Name:e.target.value}),className:"cus-inpt"})]}),(0,C.jsxs)("div",{className:"p-2",children:[(0,C.jsx)("label",{children:"Group Name*"}),(0,C.jsx)(m.c,{fullWidth:!0,children:(0,C.jsxs)(i.c,{labelId:"group-edit-select-label",value:w.Group_Id,displayEmpty:!0,onChange:e=>I({...w,Group_Id:e.target.value}),children:[(0,C.jsx)(d.c,{disabled:!0,value:"",children:"Select Group"}),R.map((e=>(0,C.jsx)(d.c,{value:e.Value,children:e.label},e.Value)))]})})]})]}),(0,C.jsxs)(u.c,{children:[(0,C.jsx)(h.c,{onClick:()=>k(!1),children:"Cancel"}),(0,C.jsx)(h.c,{onClick:()=>{const{Acc_Id:c,Account_name:a,Group_Id:t}=w;c&&a&&t?(0,b.q)({address:"masters/accountMaster",method:"PUT",bodyData:{...w,Alter_By:E}}).then((c=>{c.success?(p.m4.success("Account updated successfully!"),k(!1),I(N),s(!e)):p.m4.error(c.message)})).catch((e=>console.error(e))):p.m4.error("All required fields must be filled.")},color:"success",children:"Update"})]})]}),(0,C.jsxs)(r.c,{open:c,onClose:()=>_(!1),children:[(0,C.jsx)(n.c,{children:"Confirmation"}),(0,C.jsx)(o.c,{children:(0,C.jsx)("b",{children:"Do you want to delete this account?"})}),(0,C.jsxs)(u.c,{children:[(0,C.jsx)(h.c,{onClick:()=>_(!1),children:"Cancel"}),(0,C.jsx)(h.c,{onClick:()=>{(0,b.q)({address:"masters/accountMaster",method:"DELETE",bodyData:{Acc_Id:w.Acc_Id}}).then((c=>{c.success?(p.m4.success("Account deleted successfully!"),s(!e),_(!1)):p.m4.error(c.message)})).catch((e=>console.error(e)))},color:"error",autoFocus:!0,children:"Delete"})]})]})]})}},45180:(e,s,c)=>{c.d(s,{c:()=>l});var a=c(27664),t=c(82496);const l=(0,a.c)((0,t.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"}),"Delete")},86e3:(e,s,c)=>{c.d(s,{c:()=>l});var a=c(27664),t=c(82496);const l=(0,a.c)((0,t.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"}),"Edit")},57704:(e,s,c)=>{c.d(s,{c:()=>l});var a=c(27664),t=c(82496);const l=(0,a.c)((0,t.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"}),"Search")},44380:(e,s,c)=>{c.d(s,{c:()=>y});var a=c(45072),t=c(95656),l=c(69060),r=c(79736),n=c(21412),o=c(55080),i=c(12556),d=c(49836),u=c(62440),m=c(30584),h=c(25594),p=c(60204),x=c(4016),j=c(10212),f=c(21420),v=c(10099),b=c(33448);function A(e){return(0,b.cp)("MuiTextField",e)}(0,v.c)("MuiTextField",["root"]);var C=c(82496);const N=["autoComplete","autoFocus","children","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","id","InputLabelProps","inputProps","InputProps","inputRef","label","maxRows","minRows","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","select","SelectProps","type","value","variant"],_={standard:u.c,filled:m.c,outlined:h.c},g=(0,i.cp)(x.c,{name:"MuiTextField",slot:"Root",overridesResolver:(e,s)=>s.root})({}),y=l.forwardRef((function(e,s){const c=(0,d.C)({props:e,name:"MuiTextField"}),{autoComplete:l,autoFocus:i=!1,children:u,className:m,color:h="primary",defaultValue:x,disabled:v=!1,error:b=!1,FormHelperTextProps:y,fullWidth:w=!1,helperText:I,id:S,InputLabelProps:k,inputProps:M,InputProps:P,inputRef:F,label:G,maxRows:R,minRows:T,multiline:V=!1,name:q,onBlur:z,onChange:E,onFocus:L,placeholder:D,required:W=!1,rows:B,select:O=!1,SelectProps:H,type:$,value:U,variant:K="outlined"}=c,J=(0,t.c)(c,N),Q=(0,a.c)({},c,{autoFocus:i,color:h,disabled:v,error:b,fullWidth:w,multiline:V,required:W,select:O,variant:K}),X=(e=>{const{classes:s}=e;return(0,n.c)({root:["root"]},A,s)})(Q);const Y={};"outlined"===K&&(k&&"undefined"!==typeof k.shrink&&(Y.notched=k.shrink),Y.label=G),O&&(H&&H.native||(Y.id=void 0),Y["aria-describedby"]=void 0);const Z=(0,o.c)(S),ee=I&&Z?`${Z}-helper-text`:void 0,se=G&&Z?`${Z}-label`:void 0,ce=_[K],ae=(0,C.jsx)(ce,(0,a.c)({"aria-describedby":ee,autoComplete:l,autoFocus:i,defaultValue:x,fullWidth:w,multiline:V,name:q,rows:B,maxRows:R,minRows:T,type:$,value:U,id:Z,inputRef:F,onBlur:z,onChange:E,onFocus:L,placeholder:D,inputProps:M},Y,P));return(0,C.jsxs)(g,(0,a.c)({className:(0,r.c)(X.root,m),disabled:v,error:b,fullWidth:w,ref:s,required:W,color:h,variant:K,ownerState:Q},J,{children:[null!=G&&""!==G&&(0,C.jsx)(p.c,(0,a.c)({htmlFor:Z,id:se},k,{children:G})),O?(0,C.jsx)(f.c,(0,a.c)({"aria-describedby":ee,id:Z,labelId:se,value:U,input:ae},H,{children:u})):ae,I&&(0,C.jsx)(j.c,(0,a.c)({id:ee},y,{children:I}))]}))}))},16344:(e,s,c)=>{c.d(s,{cV:()=>r,cp:()=>o});var a=c(69060),t=c(82496);const l=["as","disabled"];function r(e){let{tagName:s,disabled:c,href:a,target:t,rel:l,role:r,onClick:n,tabIndex:o=0,type:i}=e;s||(s=null!=a||null!=t||null!=l?"a":"button");const d={tagName:s};if("button"===s)return[{type:i||"button",disabled:c},d];const u=e=>{(c||"a"===s&&function(e){return!e||"#"===e.trim()}(a))&&e.preventDefault(),c?e.stopPropagation():null==n||n(e)};return"a"===s&&(a||(a="#"),c&&(a=void 0)),[{role:null!=r?r:"button",disabled:void 0,tabIndex:c?void 0:o,href:a,target:"a"===s?t:void 0,"aria-disabled":c||void 0,rel:"a"===s?l:void 0,onClick:u,onKeyDown:e=>{" "===e.key&&(e.preventDefault(),u(e))}},d]}const n=a.forwardRef(((e,s)=>{let{as:c,disabled:a}=e,n=function(e,s){if(null==e)return{};var c,a,t={},l=Object.keys(e);for(a=0;a<l.length;a++)c=l[a],s.indexOf(c)>=0||(t[c]=e[c]);return t}(e,l);const[o,{tagName:i}]=r(Object.assign({tagName:c,disabled:a},n));return(0,t.jsx)(i,Object.assign({},n,o,{ref:s}))}));n.displayName="Button";const o=n},42136:(e,s,c)=>{c.d(s,{c:()=>d});var a=c(264),t=c.n(a),l=c(69060),r=c(16344),n=c(83576),o=c(82496);const i=l.forwardRef(((e,s)=>{let{as:c,bsPrefix:a,variant:l="primary",size:i,active:d=!1,disabled:u=!1,className:m,...h}=e;const p=(0,n.Ky)(a,"btn"),[x,{tagName:j}]=(0,r.cV)({tagName:c,disabled:u,...h}),f=j;return(0,o.jsx)(f,{...x,...h,ref:s,disabled:u,className:t()(m,p,d&&"active",l&&`${p}-${l}`,i&&`${p}-${i}`,h.href&&u&&"disabled")})}));i.displayName="Button";const d=i}}]);
//# sourceMappingURL=1728.7e6994f4.chunk.js.map
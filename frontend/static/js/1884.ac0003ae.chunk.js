"use strict";(self.webpackChunkerp=self.webpackChunkerp||[]).push([[1884],{1884:(e,r,t)=>{t.r(r),t.d(r,{default:()=>j});var o=t(30800),a=t(69060),l=t(5548),s=t(44380),c=t(82656),n=t(26773),i=t(4488),d=t(90048),u=t(56880),p=t(89e3),h=t(56480),m=t(42136),x=t(86e3),f=t(45180),v=t(57704),b=t(1908),g=t(13724),P=t(82496);const j=function(){const[e,r]=(0,a.useState)([]),[t,j]=(0,a.useState)(!1),[y,C]=(0,a.useState)({Group_Name:""}),[w,G]=(0,a.useState)(null),[N,S]=(0,a.useState)(!1),[_,F]=(0,a.useState)(null),[k,I]=(0,a.useState)(!1),[R,z]=(0,a.useState)(""),[T,D]=(0,a.useState)(!1),[E,M]=(0,a.useState)(!1),W=JSON.parse(localStorage.getItem("user")),q=null===W||void 0===W?void 0:W.UserId,L=null===W||void 0===W?void 0:W.Company_id;(0,a.useEffect)((()=>{V()}),[k]);const V=async()=>{try{const e=await(0,b.q)({address:"masters/proGroup"});e.success&&r(e.data)}catch(e){console.error(e),h.m4.error("Failed to fetch Product groups")}},B=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;G(e),C(e?(0,o.c)({},e):{Pro_Group:""}),j(!0)},O=()=>{j(!1),G(null),C({Pro_Group:""})},A=e.filter((e=>e.Pro_Group.toLowerCase().includes(R.toLowerCase()))),H=[(0,g.A5)("Pro_Group","string","Product Group"),{ColumnHeader:"Actions",align:"center",isVisible:!0,isCustomCell:!0,Cell:e=>{let{row:r}=e;return(0,P.jsxs)(a.Fragment,{children:[(0,P.jsx)(l.c,{size:"small",onClick:()=>B(r),children:(0,P.jsx)(x.c,{fontSize:"small"})}),(0,P.jsx)(l.c,{size:"small",color:"error",onClick:()=>{return e=r.Pro_Group_Id,F(e),void S(!0);var e},children:(0,P.jsx)(f.c,{fontSize:"small"})})]})}}];return(0,P.jsxs)(P.Fragment,{children:[(0,P.jsxs)("div",{className:"card",children:[(0,P.jsxs)("div",{className:"card-header bg-white fw-bold d-flex align-items-center justify-content-between",children:["Product Group",(0,P.jsxs)("div",{className:"d-flex align-items-center",children:[(0,P.jsx)("div",{className:"d-flex justify-content-end",children:(0,P.jsx)("div",{className:"p-2",style:{width:"300px"},children:(0,P.jsxs)("div",{className:"d-flex align-items-center gap-2",children:[(0,P.jsx)(v.c,{}),(0,P.jsx)(s.c,{fullWidth:!0,variant:"outlined",placeholder:"Search Product group...",value:R,onChange:e=>z(e.target.value),size:"small",InputProps:{style:{height:"40px"}}})]})})}),(0,P.jsx)(m.c,{className:"rounded-1 btn-primary ms-2",onClick:()=>B(),children:"Create Product Group"})]})]}),(0,P.jsx)(g.cp,{dataArray:A,columns:H,EnableSerialNumber:!0,isExpendable:!0,maxHeightOption:!0})]}),(0,P.jsxs)(c.c,{open:t,onClose:O,maxWidth:"sm",fullWidth:!0,children:[(0,P.jsx)(n.c,{children:w?"Edit Product Group":"Create Product Group"}),(0,P.jsx)(i.c,{children:(0,P.jsx)(s.c,{autoFocus:!0,margin:"dense",label:"Group Name",fullWidth:!0,variant:"outlined",value:y.Pro_Group||"",onChange:e=>C((0,o.c)((0,o.c)({},y),{},{Pro_Group:e.target.value})),InputProps:{style:{height:"56px"}},InputLabelProps:{style:{backgroundColor:"white",padding:"0 4px"}}})}),(0,P.jsxs)(d.c,{children:[(0,P.jsx)(p.c,{onClick:O,disabled:T,children:"Cancel"}),(0,P.jsx)(p.c,{onClick:async()=>{var e;if(null!==(e=y.Pro_Group)&&void 0!==e&&e.trim()){D(!0);try{const e=w?"PUT":"POST",r=await(0,b.q)({address:"masters/proGroup",method:e,bodyData:w?(0,o.c)((0,o.c)({},y),{},{Pro_Group_Id:w.Pro_Group_Id,Company_Id:L,Alter_By:q}):{Pro_Group:y.Pro_Group,Company_Id:L,Created_By:q}});r.success?(h.m4.success("Product Group ".concat(w?"updated":"created"," successfully")),O(),I(!k)):h.m4.error(r.message||"Failed to ".concat(w?"update":"create"," Product group"))}catch(r){console.error(r),h.m4.error("An error occurred while saving")}finally{D(!1)}}else h.m4.error("Group Name is required")},color:"primary",variant:"contained",disabled:T,children:T?"Processing...":w?"Update":"Save"})]})]}),(0,P.jsxs)(c.c,{open:N,onClose:()=>!E&&S(!1),children:[(0,P.jsx)(n.c,{children:"Confirm Deletion"}),(0,P.jsx)(i.c,{children:(0,P.jsx)(u.c,{children:"Are you sure you want to delete this Product group?"})}),(0,P.jsxs)(d.c,{children:[(0,P.jsx)(p.c,{onClick:()=>S(!1),disabled:E,children:"Cancel"}),(0,P.jsx)(p.c,{onClick:async()=>{M(!0),console.log("deleted",_);try{const e=await(0,b.q)({address:"masters/proGroup",method:"DELETE",bodyData:{Pro_Group_Id:_}});e.success?(h.m4.success("Product Group deleted successfully"),I(!k)):h.m4.error(e.message||"Failed to delete Product group")}catch(e){console.error(e),h.m4.error("Error deleting Product group")}finally{M(!1),S(!1)}},color:"error",variant:"contained",disabled:E,children:E?"Deleting...":"Delete"})]})]})]})}},45180:(e,r,t)=>{t.d(r,{c:()=>l});var o=t(27664),a=t(82496);const l=(0,o.c)((0,a.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"}),"Delete")},86e3:(e,r,t)=>{t.d(r,{c:()=>l});var o=t(27664),a=t(82496);const l=(0,o.c)((0,a.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"}),"Edit")},57704:(e,r,t)=>{t.d(r,{c:()=>l});var o=t(27664),a=t(82496);const l=(0,o.c)((0,a.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"}),"Search")},44380:(e,r,t)=>{t.d(r,{c:()=>G});var o=t(45072),a=t(95656),l=t(69060),s=t(79736),c=t(21412),n=t(55080),i=t(12556),d=t(49836),u=t(62440),p=t(30584),h=t(25594),m=t(60204),x=t(4016),f=t(10212),v=t(21420),b=t(10099),g=t(33448);function P(e){return(0,g.cp)("MuiTextField",e)}(0,b.c)("MuiTextField",["root"]);var j=t(82496);const y=["autoComplete","autoFocus","children","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","id","InputLabelProps","inputProps","InputProps","inputRef","label","maxRows","minRows","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","select","SelectProps","type","value","variant"],C={standard:u.c,filled:p.c,outlined:h.c},w=(0,i.cp)(x.c,{name:"MuiTextField",slot:"Root",overridesResolver:(e,r)=>r.root})({}),G=l.forwardRef((function(e,r){const t=(0,d.C)({props:e,name:"MuiTextField"}),{autoComplete:l,autoFocus:i=!1,children:u,className:p,color:h="primary",defaultValue:x,disabled:b=!1,error:g=!1,FormHelperTextProps:G,fullWidth:N=!1,helperText:S,id:_,InputLabelProps:F,inputProps:k,InputProps:I,inputRef:R,label:z,maxRows:T,minRows:D,multiline:E=!1,name:M,onBlur:W,onChange:q,onFocus:L,placeholder:V,required:B=!1,rows:O,select:A=!1,SelectProps:H,type:U,value:K,variant:J="outlined"}=t,Q=(0,a.c)(t,y),X=(0,o.c)({},t,{autoFocus:i,color:h,disabled:b,error:g,fullWidth:N,multiline:E,required:B,select:A,variant:J}),Y=(e=>{const{classes:r}=e;return(0,c.c)({root:["root"]},P,r)})(X);const Z={};"outlined"===J&&(F&&"undefined"!==typeof F.shrink&&(Z.notched=F.shrink),Z.label=z),A&&(H&&H.native||(Z.id=void 0),Z["aria-describedby"]=void 0);const $=(0,n.c)(_),ee=S&&$?"".concat($,"-helper-text"):void 0,re=z&&$?"".concat($,"-label"):void 0,te=C[J],oe=(0,j.jsx)(te,(0,o.c)({"aria-describedby":ee,autoComplete:l,autoFocus:i,defaultValue:x,fullWidth:N,multiline:E,name:M,rows:O,maxRows:T,minRows:D,type:U,value:K,id:$,inputRef:R,onBlur:W,onChange:q,onFocus:L,placeholder:V,inputProps:k},Z,I));return(0,j.jsxs)(w,(0,o.c)({className:(0,s.c)(Y.root,p),disabled:b,error:g,fullWidth:N,ref:r,required:B,color:h,variant:J,ownerState:X},Q,{children:[null!=z&&""!==z&&(0,j.jsx)(m.c,(0,o.c)({htmlFor:$,id:re},F,{children:z})),A?(0,j.jsx)(v.c,(0,o.c)({"aria-describedby":ee,id:$,labelId:re,value:K,input:oe},H,{children:u})):oe,S&&(0,j.jsx)(f.c,(0,o.c)({id:ee},G,{children:S}))]}))}))},16344:(e,r,t)=>{t.d(r,{cV:()=>s,cp:()=>n});var o=t(69060),a=t(82496);const l=["as","disabled"];function s(e){let{tagName:r,disabled:t,href:o,target:a,rel:l,role:s,onClick:c,tabIndex:n=0,type:i}=e;r||(r=null!=o||null!=a||null!=l?"a":"button");const d={tagName:r};if("button"===r)return[{type:i||"button",disabled:t},d];const u=e=>{(t||"a"===r&&function(e){return!e||"#"===e.trim()}(o))&&e.preventDefault(),t?e.stopPropagation():null==c||c(e)};return"a"===r&&(o||(o="#"),t&&(o=void 0)),[{role:null!=s?s:"button",disabled:void 0,tabIndex:t?void 0:n,href:o,target:"a"===r?a:void 0,"aria-disabled":t||void 0,rel:"a"===r?l:void 0,onClick:u,onKeyDown:e=>{" "===e.key&&(e.preventDefault(),u(e))}},d]}const c=o.forwardRef(((e,r)=>{let{as:t,disabled:o}=e,c=function(e,r){if(null==e)return{};var t,o,a={},l=Object.keys(e);for(o=0;o<l.length;o++)t=l[o],r.indexOf(t)>=0||(a[t]=e[t]);return a}(e,l);const[n,{tagName:i}]=s(Object.assign({tagName:t,disabled:o},c));return(0,a.jsx)(i,Object.assign({},c,n,{ref:r}))}));c.displayName="Button";const n=c},42136:(e,r,t)=>{t.d(r,{c:()=>h});var o=t(30800),a=t(31024),l=t(264),s=t.n(l),c=t(69060),n=t(16344),i=t(83576),d=t(82496);const u=["as","bsPrefix","variant","size","active","disabled","className"],p=c.forwardRef(((e,r)=>{let{as:t,bsPrefix:l,variant:c="primary",size:p,active:h=!1,disabled:m=!1,className:x}=e,f=(0,a.c)(e,u);const v=(0,i.Ky)(l,"btn"),[b,{tagName:g}]=(0,n.cV)((0,o.c)({tagName:t,disabled:m},f)),P=g;return(0,d.jsx)(P,(0,o.c)((0,o.c)((0,o.c)({},b),f),{},{ref:r,disabled:m,className:s()(x,v,h&&"active",c&&"".concat(v,"-").concat(c),p&&"".concat(v,"-").concat(p),f.href&&m&&"disabled")}))}));p.displayName="Button";const h=p}}]);
//# sourceMappingURL=1884.ac0003ae.chunk.js.map
"use strict";(self.webpackChunkerp=self.webpackChunkerp||[]).push([[9964,3692,1312],{62344:(e,a,l)=>{l.d(a,{o$:()=>o,o5:()=>i,cF:()=>t,iI:()=>d});var r=l(30800);const s=l.p+"static/media/smt.aa4d4f940bbebff07a57.png",d={table:{style:{width:"auto",backgroundColor:"transparent"}},rows:{style:{backgroundColor:"transparent"}},headCells:{style:{backgroundColor:"#6b9080f8",color:"white",fontSize:"14px"}}},t={control:(e,a)=>(0,r.c)((0,r.c)({},e),{},{height:"45px",background:"rgba(255, 255, 255, 0.322)"}),menu:(e,a)=>(0,r.c)((0,r.c)({},e),{},{zIndex:9999}),menuPortal:e=>(0,r.c)((0,r.c)({},e),{},{zIndex:9999}),groupHeading:e=>(0,r.c)((0,r.c)({},e),{},{backgroundColor:"#f5f5f5",color:"#333",fontWeight:"bold",fontSize:"14px",padding:"8px 12px",borderBottom:"1px solid #ddd",textTransform:"uppercase"}),option:(e,a)=>(0,r.c)((0,r.c)({},e),{},{backgroundColor:a.isSelected?"#2684FF":a.isFocused?"#E2ECF9":"white",color:a.isSelected?"white":"#333",padding:"10px 12px"})},o=[{id:1,headname:"Menu ID",variant:"head",align:"left",width:100},{id:2,headname:"MenuName"},{id:3,headname:"Read Rights"},{id:4,headname:"Add Rights"},{id:5,headname:"Edit Rights"},{id:6,headname:"Delete Rights"},{id:7,headname:"Print Rights"},{id:8,headname:"Action"}],i=[{dataBase:1,name:"SHANKAR TRADERS",business:"Wholesale Merchant in Dhall",address:"32, Chitrakara Street, Madurai - 01 <br /> Bill of Supply -Disclaimer Affidavlt Field Extemped",logo:s,gstin:"33AADFS6973R1ZD",phone:"984-313-1353, 984-335-5166",fssai:"12418012000818",bankAccount:"0021 5032 0885 122",ifsc:"TMBL0000002"},{dataBase:2,name:"SMT AGRO PRODUCTS",business:"",address:"H.O: 153, Chitrakara Street, 2nd Floor, Madurai -01 <br /> G.O: 746 Puliyur, Sayanapuram, Svga <br /> Bill of Supply -Disclaimer Affidavlt Field Extemped",logo:s,gstin:"33ACMFS3420Q1ZQ",phone:"0452-4371625",fssai:"12418012000818",bankAccount:"0025 3031 0875 947",ifsc:"TMBL0000002"},{dataBase:3,name:"BHAVANI TRADERS",business:"",address:"H.O: 152-A, Chitrakara Street, Madurai -01 <br /> G.O: 30/1-Rajman Nagar, Chintamani Main Road, Mdu-01 <br /> Tax Invoice",logo:s,gstin:"33AAEFB6728J1ZG",phone:"958-559-7641, 958-559-7614",fssai:"12418012000670",bankAccount:"0021 5005 0800 309",ifsc:"TMBL0000002"}]},72128:(e,a,l)=>{l.r(a),l.d(a,{default:()=>N});var r=l(30800),s=l(69060),d=l(1908),t=l(43692),o=l(5548),i=l(82656),c=l(26773),n=l(4488),u=l(90048),v=l(89e3),h=l(40656),m=l(62344),x=l(39308),g=l(61988),p=l(27664),b=l(82496);const f=(0,p.c)((0,b.jsx)("path",{d:"M19 8H5c-1.66 0-3 1.34-3 3v6h4v4h12v-4h4v-6c0-1.66-1.34-3-3-3m-3 11H8v-5h8zm3-7c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1m-1-9H6v4h12z"}),"Print");var j=l(57704),y=l(33452),D=l(56480);const N=e=>{let{loadingOn:a,loadingOff:l}=e;const[p,N]=(0,s.useState)([]),A=(0,s.useRef)(null),[S,C]=(0,s.useState)({broker:{value:"",label:"Select Broker"},ledger:{value:"",label:"Select Ledger"},customersArray:[],refresh:!1,filterDialog:!1,dueDays:0,reqDate:(0,x.Q7)()});(0,s.useEffect)((()=>{(0,d.q)({address:"userModule/customer/lol/dropDown"}).then((e=>{e.success&&C((a=>(0,r.c)((0,r.c)({},a),{},{customersArray:(0,x.wN)(e.data)})))})).catch((e=>console.error(e)))}),[]),(0,s.useEffect)((()=>{var e,r,s;N([]);const t=(null===S||void 0===S||null===(e=S.broker)||void 0===e?void 0:e.value)||"",o=(0,x.Q$)(null===S||void 0===S||null===(r=S.ledger)||void 0===r?void 0:r.value)?[{Ledger_Tally_Id:null===S||void 0===S||null===(s=S.ledger)||void 0===s?void 0:s.value}]:t?(0,x.wN)(null===S||void 0===S?void 0:S.customersArray).filter((e=>(0,x.m2)(null===e||void 0===e?void 0:e.Actual_Party_Name_with_Brokers,t))).map((e=>({Ledger_Tally_Id:null===e||void 0===e?void 0:e.Ledger_Tally_Id}))):[],i=(0,x.wN)(o),c=null===S||void 0===S?void 0:S.reqDate;return 0===i?D.m4.error("Select any Ledger or Broker"):c?void(0,d.q)({address:"userModule/customer/paymentInvoiceList/filters",loadingOn:a,loadingOff:l,method:"POST",bodyData:{ledgerId:i,reqDate:c}}).then((e=>{e.success&&N(e.data)})).catch((e=>console.error(e))):D.m4.error("Enter Till Date")}),[S.refresh]);const _=(0,s.useMemo)((()=>(0,x.wN)(p).map((e=>{const a=(0,x.gH)(null!==e&&void 0!==e&&e.invoice_date?(0,x._g)(null===e||void 0===e?void 0:e.invoice_date,S.reqDate):"");return(0,r.c)((0,r.c)({},e),{},{dueDays:a,showDueDay:!S.dueDays||S.dueDays<=a})})).sort(((e,a)=>a.dueDays-e.dueDays))),[p,S.dueDays,S.reqDate]),k=(0,s.useMemo)((()=>p.reduce(((e,a)=>(0,x.Q5)(e,null===a||void 0===a?void 0:a.Bal_Amount)),0)),[p]),w=(0,s.useMemo)((()=>p.filter((e=>{const a=(0,x.gH)(null!==e&&void 0!==e&&e.invoice_date?(0,x._g)(null===e||void 0===e?void 0:e.invoice_date,S.reqDate):"");return!S.dueDays||S.dueDays<=a})).reduce(((e,a)=>(0,x.Q5)(e,null===a||void 0===a?void 0:a.Bal_Amount)),0)),[p,S.dueDays,S.reqDate]),M=(0,s.useMemo)((()=>{const e=(0,x.wN)(S.customersArray).map((e=>null===e||void 0===e?void 0:e.Actual_Party_Name_with_Brokers));return[...new Set(e)].map((e=>({value:e,label:e})))}),[S.customersArray]),B=(0,y.useReactToPrint)({content:()=>A.current}),T=()=>{C((e=>(0,r.c)((0,r.c)({},e),{},{filterDialog:!1})))};return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)(t.c,{children:[(0,b.jsxs)("div",{className:"p-2 px-3 d-flex align-items-center flex-wrap",children:[(0,b.jsx)("h6",{className:" flex-grow-1 m-0",children:"Pending Invoices"}),(0,b.jsx)(o.c,{size:"small",onClick:()=>C((e=>(0,r.c)((0,r.c)({},e),{},{filterDialog:!0}))),children:(0,b.jsx)(g.c,{className:"fa-20"})}),(0,b.jsx)(o.c,{size:"small",onClick:B,disabled:0===(null===p||void 0===p?void 0:p.length),children:(0,b.jsx)(f,{className:"fa-20"})})]}),(0,b.jsx)("hr",{className:"m-2"}),(0,b.jsx)("div",{className:"table-responsive",ref:A,children:(0,b.jsxs)("table",{className:"table table-bordered fa-11",children:[(0,b.jsxs)("thead",{children:[(0,b.jsx)("tr",{children:(0,b.jsxs)("td",{colSpan:6,className:"fw-bold text-center fa-15",children:[S.ledger.value?S.ledger.label:S.broker.label," - Till ",(0,x.uy)(S.reqDate).replaceAll("/","-")]})}),(0,b.jsx)("tr",{children:["Sno","Date","Ref.No","Concern","Pending Amount","Overdue by days"].map(((e,a)=>(0,b.jsx)("th",{children:e},a)))})]}),(0,b.jsxs)("tbody",{children:[_.map(((e,a)=>{const l=!!S.dueDays&&S.dueDays<=(0,x.gH)(null===e||void 0===e?void 0:e.dueDays);return(0,b.jsxs)("tr",{className:"\n                                            ".concat(l?" fw-bold text-primary ":""),children:[(0,b.jsx)("td",{children:a+1}),(0,b.jsx)("td",{children:null!==e&&void 0!==e&&e.invoice_date?(0,x.o$)(null===e||void 0===e?void 0:e.invoice_date):"-"}),(0,b.jsx)("td",{children:null===e||void 0===e?void 0:e.invoice_no}),(0,b.jsx)("td",{children:null===e||void 0===e?void 0:e.Bill_Company}),(0,b.jsxs)("td",{children:["\u20b9",(0,x.SA)(null===e||void 0===e?void 0:e.Bal_Amount)]}),(0,b.jsx)("td",{className:null!==e&&void 0!==e&&e.showDueDay?"":" text-white ",children:null===e||void 0===e?void 0:e.dueDays})]},a)})),(0,b.jsxs)("tr",{className:"fw-bold",children:[(0,b.jsx)("td",{colSpan:4,className:" text-center",children:"TOTAL"}),(0,b.jsxs)("td",{children:["\u20b9",(0,x.SA)(k),"/-"]}),(0,b.jsxs)("td",{children:["\u20b9",(0,x.SA)(w),"/-"]})]})]})]})})]}),(0,b.jsxs)(i.c,{open:S.filterDialog,onClose:T,maxWidth:"sm",fullWidth:!0,children:[(0,b.jsx)(c.c,{children:"Filters"}),(0,b.jsx)(n.c,{children:(0,b.jsx)("div",{className:"table-responsive",children:(0,b.jsx)("table",{className:"table m-0 table-borderless",children:(0,b.jsxs)("tbody",{children:[(0,b.jsxs)("tr",{children:[(0,b.jsx)("td",{className:"vctr",children:"Broker"}),(0,b.jsx)("td",{className:"vctr",children:(0,b.jsx)(h.cp,{value:null===S||void 0===S?void 0:S.broker,onChange:e=>C((0,r.c)((0,r.c)({},S),{},{broker:e})),options:[{value:"",label:"ALL Brokers"},...M],styles:m.cF,menuPortalTarget:document.body,isSearchable:!0,placeholder:"Broker Name"})})]}),(0,b.jsxs)("tr",{children:[(0,b.jsx)("td",{className:"vctr",children:"Customer"}),(0,b.jsx)("td",{className:"vctr",children:(0,b.jsx)(h.cp,{value:null===S||void 0===S?void 0:S.ledger,onChange:e=>C((0,r.c)((0,r.c)({},S),{},{ledger:e})),options:[{value:"",label:"Select",isDisabled:!0},...S.broker.value?(0,x.wN)(S.customersArray).filter((e=>(0,x.m2)(e.Actual_Party_Name_with_Brokers,S.broker.value))).map((e=>({value:null===e||void 0===e?void 0:e.Ledger_Tally_Id,label:null===e||void 0===e?void 0:e.Ledger_Name}))):(0,x.wN)(S.customersArray).map((e=>({value:null===e||void 0===e?void 0:e.Ledger_Tally_Id,label:null===e||void 0===e?void 0:e.Ledger_Name})))],styles:m.cF,menuPortalTarget:document.body,isSearchable:!0,placeholder:"Customer Name"})})]}),(0,b.jsxs)("tr",{children:[(0,b.jsx)("td",{className:"vctr",children:"Till Date"}),(0,b.jsx)("td",{className:"vctr",children:(0,b.jsx)("input",{type:"date",className:"cus-inpt p-2",value:S.reqDate?S.reqDate:"",onChange:e=>C((a=>(0,r.c)((0,r.c)({},a),{},{reqDate:e.target.value})))})})]}),(0,b.jsxs)("tr",{children:[(0,b.jsx)("td",{className:"vctr",children:"Due Days"}),(0,b.jsx)("td",{className:"vctr",children:(0,b.jsx)("input",{type:"number",className:"cus-inpt p-2",value:S.dueDays?S.dueDays:"",onChange:e=>C((a=>(0,r.c)((0,r.c)({},a),{},{dueDays:(0,x.gH)(e.target.value)})))})})]})]})})})}),(0,b.jsxs)(u.c,{children:[(0,b.jsx)(v.c,{variant:"outlined",onClick:T,color:"error",children:"Close"}),(0,b.jsx)(v.c,{variant:"outlined",onClick:()=>C((e=>(0,r.c)((0,r.c)({},e),{},{refresh:!e.refresh,filterDialog:!1}))),startIcon:(0,b.jsx)(j.c,{}),disabled:!S.broker.value&&!S.ledger.value,children:"Search"})]})]})]})}},61988:(e,a,l)=>{l.d(a,{c:()=>d});var r=l(27664),s=l(82496);const d=(0,r.c)((0,s.jsx)("path",{d:"M4.25 5.61C6.27 8.2 10 13 10 13v6c0 .55.45 1 1 1h2c.55 0 1-.45 1-1v-6s3.72-4.8 5.74-7.39c.51-.66.04-1.61-.79-1.61H5.04c-.83 0-1.3.95-.79 1.61"}),"FilterAlt")},57704:(e,a,l)=>{l.d(a,{c:()=>d});var r=l(27664),s=l(82496);const d=(0,r.c)((0,s.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"}),"Search")},43692:(e,a,l)=>{l.d(a,{c:()=>p});var r=l(45072),s=l(95656),d=l(69060),t=l(79736),o=l(21412),i=l(12556),c=l(49836),n=l(85624),u=l(10099),v=l(33448);function h(e){return(0,v.cp)("MuiCard",e)}(0,u.c)("MuiCard",["root"]);var m=l(82496);const x=["className","raised"],g=(0,i.cp)(n.c,{name:"MuiCard",slot:"Root",overridesResolver:(e,a)=>a.root})((()=>({overflow:"hidden"}))),p=d.forwardRef((function(e,a){const l=(0,c.C)({props:e,name:"MuiCard"}),{className:d,raised:i=!1}=l,n=(0,s.c)(l,x),u=(0,r.c)({},l,{raised:i}),v=(e=>{const{classes:a}=e;return(0,o.c)({root:["root"]},h,a)})(u);return(0,m.jsx)(g,(0,r.c)({className:(0,t.c)(v.root,d),elevation:i?8:void 0,ref:a,ownerState:u},n))}))}}]);
//# sourceMappingURL=9964.7650f960.chunk.js.map
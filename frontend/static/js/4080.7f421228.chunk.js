"use strict";(self.webpackChunkerp=self.webpackChunkerp||[]).push([[4080],{34080:(e,a,s)=>{s.r(a),s.d(a,{default:()=>v});var c=s(69060),r=s(5548),l=s(82656),t=s(26773),n=s(4488),d=s(90048),o=s(89e3),i=s(56480),h=s(42136),u=s(86e3),p=s(45180),x=s(1908),m=s(13724),y=s(82496);const j={Voucher_Type_Id:"",Voucher_Type:"",Voucher_Code:"",Branch_Id:"",Branch_Name:"",Type:""};const v=function(){const[e,a]=(0,c.useState)([]),[s,v]=(0,c.useState)(!1),[b,g]=(0,c.useState)(!1),[C,_]=(0,c.useState)(!1),[V,N]=(0,c.useState)(j),[T,f]=(0,c.useState)(!1),[B,I]=(0,c.useState)(""),[k,S]=(0,c.useState)([]),[w,D]=(0,c.useState)(""),[E,A]=(0,c.useState)(""),[z,O]=(0,c.useState)(""),q=JSON.parse(localStorage.getItem("user")),M=null===q||void 0===q?void 0:q.UserId;return(0,c.useEffect)((()=>{(0,x.q)({address:"masters/voucher"}).then((e=>{e.success&&a(e.data)})).catch((e=>console.error(e))),(0,x.q)({address:"masters/branch/dropDown"}).then((e=>{e.success&&S(e.data)})).catch((e=>console.error(e)))}),[s]),(0,y.jsxs)(c.Fragment,{children:[(0,y.jsxs)("div",{className:"card",children:[(0,y.jsxs)("div",{className:"card-header bg-white fw-bold d-flex align-items-center justify-content-between",children:["Voucher Master",(0,y.jsx)("div",{className:"text-end",children:(0,y.jsx)(h.c,{className:"rounded-5 px-3 py-1 fa-13 btn-primary shadow",onClick:()=>_(!0),children:"Create Voucher"})})]}),(0,y.jsx)(m.cp,{dataArray:e,EnableSerialNumber:!0,isExpendable:!0,maxHeightOption:!0,columns:[(0,m.A5)("Voucher_Type","string","Voucher Type"),(0,m.A5)("Type","string","Type"),(0,m.A5)("BranchName","string","Branch Name"),(0,m.A5)("Voucher_Code","string","Voucher Code"),{ColumnHeader:"Actions",isVisible:1,isCustomCell:!0,Cell:e=>{let{row:a}=e;return(0,y.jsxs)("td",{className:"fa-12",style:{minWidth:"80px"},children:[(0,y.jsx)(r.c,{onClick:()=>(e=>{f(!0),N({Voucher_Type_Id:e.Vocher_Type_Id,Voucher_Type:e.Voucher_Type,Branch_Id:e.Branch_Id,Voucher_Code:e.Voucher_Code,Type:e.Type}),D(e.Branch_Id)})(a),size:"small",children:(0,y.jsx)(u.c,{className:"fa-in"})}),(0,y.jsx)(r.c,{onClick:()=>{g(!0),N({Voucher_Type_Id:a.Vocher_Type_Id})},size:"small",color:"error",children:(0,y.jsx)(p.c,{className:"fa-in "})})]})}}]})]}),(0,y.jsxs)(l.c,{open:C,onClose:()=>_(!1),"aria-labelledby":"create-dialog-title","aria-describedby":"create-dialog-description",children:[(0,y.jsx)(t.c,{id:"create-dialog-title",children:"Voucher Creation"}),(0,y.jsx)(n.c,{children:(0,y.jsxs)("div",{children:[(0,y.jsxs)("div",{className:"p-2",children:[(0,y.jsx)("label",{children:"Voucher Name"}),(0,y.jsx)("input",{type:"text",onChange:e=>I(e.target.value),placeholder:"",value:B,className:"cus-inpt"})]}),(0,y.jsxs)("div",{className:"p-2",children:[(0,y.jsx)("label",{children:"Branch"}),(0,y.jsxs)("select",{value:w,onChange:e=>D(e.target.value),className:"cus-inpt",children:[(0,y.jsx)("option",{value:"",children:"Select Branch"}),k.map((e=>(0,y.jsx)("option",{value:e.BranchId,children:e.BranchName},e.BranchId)))]})]}),(0,y.jsxs)("div",{className:"p-2",children:[(0,y.jsx)("label",{children:"Voucher Code"}),(0,y.jsx)("input",{type:"text",onChange:e=>O(e.target.value),placeholder:"",value:z,className:"cus-inpt"})]}),(0,y.jsxs)("div",{className:"p-2",children:[(0,y.jsx)("label",{children:"Type"}),(0,y.jsx)("input",{type:"text",onChange:e=>A(e.target.value),placeholder:"",value:E,className:"cus-inpt"})]})]})}),(0,y.jsxs)(d.c,{children:[(0,y.jsx)(o.c,{onClick:()=>_(!1),children:"Cancel"}),(0,y.jsx)(o.c,{onClick:()=>{w&&B&&E&&z?(0,x.q)({address:"masters/voucher",method:"POST",bodyData:{Voucher_Type:B,Branch_Id:Number(w),Type:E,Voucher_Code:z,Created_By:M}}).then((e=>{e.success?(_(!1),v(!s),i.m4.success(e.message),I(""),D(""),A(""),O("")):i.m4.error(e.message)})).catch((e=>console.error(e))):i.m4.error("Please fill all fields")},color:"success",children:"CREATE"})]})]}),(0,y.jsxs)(l.c,{open:T,onClose:()=>f(!1),"aria-labelledby":"create-dialog-title","aria-describedby":"create-dialog-description",children:[(0,y.jsx)(t.c,{id:"create-dialog-title",children:"Edit Voucher"}),(0,y.jsxs)(n.c,{children:[(0,y.jsxs)("div",{className:"p-2",children:[(0,y.jsx)("label",{children:"Voucher Type"}),(0,y.jsx)("input",{type:"text",onChange:e=>N({...V,Voucher_Type:e.target.value}),placeholder:V.Voucher_Type,value:V.Voucher_Type,className:"cus-inpt"})]}),(0,y.jsxs)("div",{className:"p-2",children:[(0,y.jsx)("label",{children:"Branch"}),(0,y.jsxs)("select",{value:w,onChange:e=>{D(e.target.value),N({...V,Branch_Id:e.target.value})},className:"cus-inpt",children:[(0,y.jsx)("option",{value:"",children:"Select Branch"}),k.map((e=>(0,y.jsx)("option",{value:e.BranchId,children:e.BranchName},e.BranchId)))]})]}),(0,y.jsxs)("div",{className:"p-2",children:[(0,y.jsx)("label",{children:"Voucher Code"}),(0,y.jsx)("input",{type:"text",onChange:e=>N({...V,Voucher_Code:e.target.value}),placeholder:V.Voucher_Code,value:V.Voucher_Code,className:"cus-inpt"})]}),(0,y.jsxs)("div",{className:"p-2",children:[(0,y.jsx)("label",{children:"Type"}),(0,y.jsx)("input",{type:"text",onChange:e=>N({...V,Type:e.target.value}),placeholder:V.Type,value:V.Type,className:"cus-inpt"})]})]}),(0,y.jsxs)(d.c,{children:[(0,y.jsx)(o.c,{onClick:()=>f(!1),children:"Cancel"}),(0,y.jsx)(o.c,{onClick:()=>{(0,x.q)({address:"masters/voucher",method:"PUT",bodyData:{Vocher_Type_Id:V.Voucher_Type_Id,Voucher_Type:V.Voucher_Type,Branch_Id:V.Branch_Id,Voucher_Code:V.Voucher_Code,Type:V.Type,Alter_By:M}}).then((e=>{e.success?(i.m4.success(e.message),v(!s),f(!1)):i.m4.error(e.message)})).catch((e=>console.error(e)))},color:"success",children:"Update"})]})]}),(0,y.jsxs)(l.c,{open:b,onClose:()=>g(!1),"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[(0,y.jsx)(t.c,{id:"alert-dialog-title",children:"Confirmation"}),(0,y.jsx)(n.c,{children:(0,y.jsx)("b",{children:"Do you want to delete the Voucher?"})}),(0,y.jsxs)(d.c,{children:[(0,y.jsx)(o.c,{onClick:()=>g(!1),children:"Cancel"}),(0,y.jsx)(o.c,{onClick:()=>{(0,x.q)({address:"masters/voucher",method:"DELETE",bodyData:{Vocher_Type_Id:V.Voucher_Type_Id}}).then((e=>{e.success?(v(!s),g(!1),i.m4.success("Voucher Type deleted successfully!")):i.m4.error("Failed to delete voucher: "+e.message)})).catch((e=>{console.error(e),i.m4.error("Error deleting voucher")}))},autoFocus:!0,color:"error",children:"Delete"})]})]})]})}},45180:(e,a,s)=>{s.d(a,{c:()=>l});var c=s(27664),r=s(82496);const l=(0,c.c)((0,r.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"}),"Delete")},86e3:(e,a,s)=>{s.d(a,{c:()=>l});var c=s(27664),r=s(82496);const l=(0,c.c)((0,r.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"}),"Edit")},16344:(e,a,s)=>{s.d(a,{cV:()=>t,cp:()=>d});var c=s(69060),r=s(82496);const l=["as","disabled"];function t(e){let{tagName:a,disabled:s,href:c,target:r,rel:l,role:t,onClick:n,tabIndex:d=0,type:o}=e;a||(a=null!=c||null!=r||null!=l?"a":"button");const i={tagName:a};if("button"===a)return[{type:o||"button",disabled:s},i];const h=e=>{(s||"a"===a&&function(e){return!e||"#"===e.trim()}(c))&&e.preventDefault(),s?e.stopPropagation():null==n||n(e)};return"a"===a&&(c||(c="#"),s&&(c=void 0)),[{role:null!=t?t:"button",disabled:void 0,tabIndex:s?void 0:d,href:c,target:"a"===a?r:void 0,"aria-disabled":s||void 0,rel:"a"===a?l:void 0,onClick:h,onKeyDown:e=>{" "===e.key&&(e.preventDefault(),h(e))}},i]}const n=c.forwardRef(((e,a)=>{let{as:s,disabled:c}=e,n=function(e,a){if(null==e)return{};var s,c,r={},l=Object.keys(e);for(c=0;c<l.length;c++)s=l[c],a.indexOf(s)>=0||(r[s]=e[s]);return r}(e,l);const[d,{tagName:o}]=t(Object.assign({tagName:s,disabled:c},n));return(0,r.jsx)(o,Object.assign({},n,d,{ref:a}))}));n.displayName="Button";const d=n},42136:(e,a,s)=>{s.d(a,{c:()=>i});var c=s(264),r=s.n(c),l=s(69060),t=s(16344),n=s(83576),d=s(82496);const o=l.forwardRef(((e,a)=>{let{as:s,bsPrefix:c,variant:l="primary",size:o,active:i=!1,disabled:h=!1,className:u,...p}=e;const x=(0,n.Ky)(c,"btn"),[m,{tagName:y}]=(0,t.cV)({tagName:s,disabled:h,...p}),j=y;return(0,d.jsx)(j,{...m,...p,ref:a,disabled:h,className:r()(u,x,i&&"active",l&&`${x}-${l}`,o&&`${x}-${o}`,p.href&&h&&"disabled")})}));o.displayName="Button";const i=o}}]);
//# sourceMappingURL=4080.7f421228.chunk.js.map
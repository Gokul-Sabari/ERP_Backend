"use strict";(self.webpackChunkerp=self.webpackChunkerp||[]).push([[1996,3692],{1996:(e,t,a)=>{a.r(t),a.d(t,{default:()=>N});var s=a(69060),c=a(30800),i=a(39308),n=a(56480),o=a(89e3),r=a(84436),l=a(3358),d=a(82656),m=a(26773),h=a(4488),u=a(90048),p=a(27664),x=a(82496);const g=(0,p.c)((0,x.jsx)("path",{d:"M5 20h14v-2H5zm0-10h4v6h6v-6h4l-7-7z"}),"Upload");var j=a(77536),f=a(1908),v=a(79476);const w=()=>{const{contextObj:e}=(0,s.useContext)(j.a),[t,a]=(0,s.useState)([]),[p,w]=(0,s.useState)(!1),b={image:"",dialog:!1},[C,N]=(0,s.useState)(b);(0,s.useEffect)((()=>{(0,f.q)({address:"dataEntry/inwardActivity"}).then((e=>a(e.data))).catch((e=>console.error(e)))}),[p]);const y=()=>{N(b)};return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)("div",{className:"p-3 pt-0 fa-16 fw-bold d-flex justify-content-between align-items-center",children:[(0,x.jsx)("span",{children:"Inward Activities"}),(0,i.Qr)(null===e||void 0===e?void 0:e.Add_Rights,1)&&(0,x.jsx)(o.c,{variant:"outlined",onClick:()=>N((e=>(0,c.c)((0,c.c)({},e),{},{dialog:!0}))),startIcon:(0,x.jsx)(g,{}),children:"Upload Image"})]}),(0,x.jsx)(r.c,{children:(null===t||void 0===t?void 0:t.length)>0&&(null===t||void 0===t?void 0:t.map(((e,t)=>(0,x.jsxs)("div",{children:[(0,x.jsxs)("h5",{children:["Updated At: ",(0,x.jsx)("span",{className:"text-muted",children:(null===e||void 0===e?void 0:e.modifiedTime)&&(0,i.ao)(null===e||void 0===e?void 0:e.modifiedTime)})]}),(0,x.jsx)(l.c,{title:"Click image to Download",children:(0,x.jsx)("img",{src:null===e||void 0===e?void 0:e.url,alt:"img",onClick:()=>(async e=>{try{const t=await fetch(e),a=await t.blob(),s=URL.createObjectURL(a),c=document.createElement("a");c.href=s,c.download="Inward_Activity_Image_"+(0,i.ao)(),c.click(),URL.revokeObjectURL(s)}catch(t){console.error("Failed to create object URL:",t)}})(null===e||void 0===e?void 0:e.url),style:{maxWidth:"100%",maxHeight:700,marginTop:10,cursor:"pointer"}})})]},t))))}),(0,x.jsxs)(d.c,{open:C.dialog,onClose:y,fullWidth:!0,maxWidth:"lg",children:[(0,x.jsx)(m.c,{children:"Upload Inward Activity"}),(0,x.jsxs)(h.c,{children:[(0,x.jsx)("textarea",{type:"file",className:"drag-and-drop mt-2",onPaste:async e=>{const t=e.clipboardData.items;for(const a of t)if(a.type.startsWith("image/")){const e=a.getAsFile();N((t=>(0,c.c)((0,c.c)({},t),{},{image:e})));break}},placeholder:"Paste Excel Rows...",rows:4}),(0,x.jsxs)("div",{className:" d-flex align-items-center my-2",children:[(0,x.jsx)("hr",{className:"w-100"}),(0,x.jsx)("span",{className:"px-4",children:"OR"}),(0,x.jsx)("hr",{className:"w-100"})]}),(0,x.jsxs)("label",{className:"w-100",children:["Select File To Upload ( ",[".jpg",".jpeg",".png",".gif",".bmp",".tiff",".webp"].join(", ")," )"]}),(0,x.jsx)("input",{type:"file",className:"cus-inpt mt-2",style:{backgroundColor:"#eaf4fe",borderColor:"#66afe9"},onChange:e=>N((t=>(0,c.c)((0,c.c)({},t),{},{image:e.target.files[0]}))),accept:"image/*"}),C.image&&(0,x.jsx)("img",{src:URL.createObjectURL(C.image),alt:"Pasted",style:{maxWidth:"100%",maxHeight:700,marginTop:10}})]}),(0,x.jsxs)(u.c,{children:[(0,x.jsx)(o.c,{onClick:y,children:"cancel"}),(0,x.jsx)(o.c,{onClick:()=>{const e=new FormData;e.append("image",C.image),null!==C&&void 0!==C&&C.image&&fetch("".concat(v.c,"dataEntry/inwardActivity"),{method:"POST",body:e}).then((e=>e.json())).then((e=>{e.success?(n.m4.success(e.message),y(),w(!p)):n.m4.error(e.message)})).catch((e=>console.error(e)))},className:"",variant:"outlined",children:"submit"})]})]})]})},b=()=>{const{contextObj:e}=(0,s.useContext)(j.a),[t,a]=(0,s.useState)([]),[p,w]=(0,s.useState)(!1),b={image:"",dialog:!1},[C,N]=(0,s.useState)(b);(0,s.useEffect)((()=>{(0,f.q)({address:"dataEntry/machineOutern"}).then((e=>a(e.data))).catch((e=>console.error(e)))}),[p]);const y=()=>{N(b)};return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)("div",{className:"p-3 pt-0 fa-16 fw-bold d-flex justify-content-between align-items-center",children:[(0,x.jsx)("span",{children:"Machine Outern Activities"}),(0,i.Qr)(null===e||void 0===e?void 0:e.Add_Rights,1)&&(0,x.jsx)(o.c,{variant:"outlined",onClick:()=>N((e=>(0,c.c)((0,c.c)({},e),{},{dialog:!0}))),startIcon:(0,x.jsx)(g,{}),children:"Upload Image"})]}),(0,x.jsx)(r.c,{children:(null===t||void 0===t?void 0:t.length)>0&&(null===t||void 0===t?void 0:t.map(((e,t)=>(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)("h5",{children:["Updated At: ",(0,x.jsx)("span",{className:"text-muted",children:(null===e||void 0===e?void 0:e.modifiedTime)&&(0,i.ao)(null===e||void 0===e?void 0:e.modifiedTime)})]}),(0,x.jsx)(l.c,{title:"Click image to Download",children:(0,x.jsx)("img",{src:null===e||void 0===e?void 0:e.url,alt:"img",onClick:()=>(async e=>{try{const t=await fetch(e),a=await t.blob(),s=URL.createObjectURL(a),c=document.createElement("a");c.href=s,c.download="pasted-image.png",c.click(),URL.revokeObjectURL(s)}catch(t){console.error("Failed to create object URL:",t)}})(e),style:{maxWidth:"100%",maxHeight:700,marginTop:10,cursor:"pointer"}},t)})]}))))}),(0,x.jsxs)(d.c,{open:C.dialog,onClose:y,fullWidth:!0,maxWidth:"lg",children:[(0,x.jsx)(m.c,{children:"Upload MachineOutern Activity"}),(0,x.jsxs)(h.c,{children:[(0,x.jsx)("textarea",{type:"file",className:"drag-and-drop mt-2",onPaste:async e=>{const t=e.clipboardData.items;for(const a of t)if(a.type.startsWith("image/")){const e=a.getAsFile();N((t=>(0,c.c)((0,c.c)({},t),{},{image:e})));break}},placeholder:"Paste Excel Rows...",rows:4}),(0,x.jsxs)("div",{className:" d-flex align-items-center my-2",children:[(0,x.jsx)("hr",{className:"w-100"}),(0,x.jsx)("span",{className:"px-4",children:"OR"}),(0,x.jsx)("hr",{className:"w-100"})]}),(0,x.jsxs)("label",{className:"w-100",children:["Select File To Upload ( ",[".jpg",".jpeg",".png",".gif",".bmp",".tiff",".webp"].join(", ")," )"]}),(0,x.jsx)("input",{type:"file",className:"cus-inpt mt-2",style:{backgroundColor:"#eaf4fe",borderColor:"#66afe9"},onChange:e=>N((t=>(0,c.c)((0,c.c)({},t),{},{image:e.target.files[0]}))),accept:"image/*"}),C.image&&(0,x.jsx)("img",{src:URL.createObjectURL(C.image),alt:"Pasted",style:{maxWidth:"100%",maxHeight:700,marginTop:10}})]}),(0,x.jsxs)(u.c,{children:[(0,x.jsx)(o.c,{onClick:y,children:"cancel"}),(0,x.jsx)(o.c,{onClick:()=>{const e=new FormData;e.append("image",C.image),null!==C&&void 0!==C&&C.image&&fetch("".concat(v.c,"dataEntry/machineOutern"),{method:"POST",body:e}).then((e=>e.json())).then((e=>{e.success?(n.m4.success(e.message),y(),w(!p)):n.m4.error(e.message)})).catch((e=>console.error(e)))},className:"",variant:"outlined",children:"submit"})]})]})]})};var C=a(43692);const N=()=>{const[e,t]=(0,s.useState)("INWARD");return(0,x.jsx)(x.Fragment,{children:(0,x.jsxs)(C.c,{children:[(0,x.jsxs)("div",{className:"p-2 fa-16 fw-bold d-flex justify-content-between align-items-center",children:[(0,x.jsx)("span",{className:"text-primary text-uppercase ps-3",children:"file Uploads"}),(0,x.jsx)("select",{className:"cus-inpt w-auto",value:e,onChange:e=>t(e.target.value),children:["INWARD","MACHINE OUTERN"].map(((e,t)=>(0,x.jsx)("option",{value:e,children:e},t)))})]}),(0,x.jsx)("hr",{className:"mt-0"}),(e=>{switch(e){case"INWARD":return(0,x.jsx)(w,{});case"MACHINE OUTERN":return(0,x.jsx)(b,{});default:return(0,x.jsx)(x.Fragment,{})}})(e)]})})}},84436:(e,t,a)=>{a.d(t,{c:()=>g});var s=a(45072),c=a(95656),i=a(69060),n=a(79736),o=a(21412),r=a(12556),l=a(49836),d=a(10099),m=a(33448);function h(e){return(0,m.cp)("MuiCardContent",e)}(0,d.c)("MuiCardContent",["root"]);var u=a(82496);const p=["className","component"],x=(0,r.cp)("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(e,t)=>t.root})((()=>({padding:16,"&:last-child":{paddingBottom:24}}))),g=i.forwardRef((function(e,t){const a=(0,l.C)({props:e,name:"MuiCardContent"}),{className:i,component:r="div"}=a,d=(0,c.c)(a,p),m=(0,s.c)({},a,{component:r}),g=(e=>{const{classes:t}=e;return(0,o.c)({root:["root"]},h,t)})(m);return(0,u.jsx)(x,(0,s.c)({as:r,className:(0,n.c)(g.root,i),ownerState:m,ref:t},d))}))},43692:(e,t,a)=>{a.d(t,{c:()=>j});var s=a(45072),c=a(95656),i=a(69060),n=a(79736),o=a(21412),r=a(12556),l=a(49836),d=a(85624),m=a(10099),h=a(33448);function u(e){return(0,h.cp)("MuiCard",e)}(0,m.c)("MuiCard",["root"]);var p=a(82496);const x=["className","raised"],g=(0,r.cp)(d.c,{name:"MuiCard",slot:"Root",overridesResolver:(e,t)=>t.root})((()=>({overflow:"hidden"}))),j=i.forwardRef((function(e,t){const a=(0,l.C)({props:e,name:"MuiCard"}),{className:i,raised:r=!1}=a,d=(0,c.c)(a,x),m=(0,s.c)({},a,{raised:r}),h=(e=>{const{classes:t}=e;return(0,o.c)({root:["root"]},u,t)})(m);return(0,p.jsx)(g,(0,s.c)({className:(0,n.c)(h.root,i),elevation:r?8:void 0,ref:t,ownerState:m},d))}))}}]);
//# sourceMappingURL=1996.45b0f877.chunk.js.map
"use strict";(self.webpackChunkerp=self.webpackChunkerp||[]).push([[1728],{11728:(e,c,s)=>{s.r(c),s.d(c,{default:()=>g});var a=s(30800),t=s(69060),l=s(44380),r=s(5548),n=s(82656),o=s(26773),i=s(4488),d=s(21420),u=s(93996),m=s(90048),h=s(4016),p=s(89e3),x=s(56480),v=s(42136),b=s(57704),f=s(86e3),j=s(45180),A=s(1908),N=s(13724),C=s(82496);const _={Acc_Id:"",Account_name:"",Account_Alias_Name:"",Group_Id:""};const g=function(){const[e,c]=(0,t.useState)(!1),[s,g]=(0,t.useState)(!1),[y,w]=(0,t.useState)(!1),[I,S]=(0,t.useState)(_),[k,P]=(0,t.useState)(!1),[M,F]=(0,t.useState)([]),[G,R]=(0,t.useState)([]),[z,T]=(0,t.useState)([]),[V,q]=(0,t.useState)(""),E=JSON.parse(localStorage.getItem("user")),L=null===E||void 0===E?void 0:E.UserId;return(0,t.useEffect)((()=>{(0,A.q)({address:"masters/accountMaster"}).then((e=>{e.success&&(F(e.data),R(e.data))})).catch((e=>console.error(e)))}),[e]),(0,t.useEffect)((()=>{(0,A.q)({address:"masters/account/dropdown"}).then((e=>{e.success&&T(e.data)})).catch((e=>console.error(e)))}),[]),(0,t.useEffect)((()=>{if(""===V.trim())R(M);else{const e=M.filter((e=>e.Account_name.toLowerCase().includes(V.toLowerCase())||e.Account_Alias_Name.toLowerCase().includes(V.toLowerCase())||e.Group_Name.toLowerCase().includes(V.toLowerCase())));R(e)}}),[V,M]),(0,C.jsxs)(C.Fragment,{children:[(0,C.jsxs)("div",{className:"card",children:[(0,C.jsxs)("div",{className:"card-header bg-white fw-bold d-flex align-items-center justify-content-between",children:["Account Master",(0,C.jsxs)("div",{className:"d-flex align-items-center gap-3",children:[(0,C.jsx)("div",{style:{width:"300px"},children:(0,C.jsx)(l.c,{fullWidth:!0,size:"small",variant:"outlined",placeholder:"Search accounts...",value:V,onChange:e=>q(e.target.value),InputProps:{startAdornment:(0,C.jsx)(b.c,{fontSize:"small",sx:{mr:1}}),style:{height:"40px"}}})}),(0,C.jsx)(v.c,{variant:"contained",size:"small",className:"rounded-1 btn-primary",onClick:()=>{w(!0),S(_)},sx:{textTransform:"none",fontWeight:500,px:2,height:"40px"},children:"Create Account Master"})]})]}),(0,C.jsx)(N.cp,{dataArray:G,EnableSerialNumber:!0,maxHeightOption:!0,columns:[(0,N.A5)("Account_name","string","Account Name"),(0,N.A5)("Account_Alias_Name","string","Alias Name"),(0,N.A5)("Group_Name","string","Group"),{ColumnHeader:"Actions",isVisible:1,isCustomCell:!0,Cell:e=>{let{row:c}=e;return(0,C.jsxs)("td",{style:{minWidth:"80px"},children:[(0,C.jsx)(r.c,{onClick:()=>(e=>{S({Acc_Id:e.Acc_Id,Account_name:e.Account_name,Account_Alias_Name:e.Account_Alias_Name,Group_Id:e.Group_Id}),P(!0)})(c),size:"small",children:(0,C.jsx)(f.c,{})}),(0,C.jsx)(r.c,{onClick:()=>{g(!0),S({Acc_Id:c.Acc_Id})},size:"small",color:"error",children:(0,C.jsx)(j.c,{})})]})}}]})]}),(0,C.jsxs)(n.c,{open:y,onClose:()=>w(!1),children:[(0,C.jsx)(o.c,{children:"Account Master Creation"}),(0,C.jsxs)(i.c,{children:[(0,C.jsxs)("div",{className:"p-2",children:[(0,C.jsx)("label",{children:"Account Name*"}),(0,C.jsx)("input",{type:"text",value:I.Account_name,onChange:e=>S((0,a.c)((0,a.c)({},I),{},{Account_name:e.target.value})),className:"cus-inpt",placeholder:"Enter Account Name"})]}),(0,C.jsxs)("div",{className:"p-2",children:[(0,C.jsx)("label",{children:"Account Alias Name"}),(0,C.jsx)("input",{type:"text",placeholder:"Alias Name",value:I.Account_Alias_Name,onChange:e=>S((0,a.c)((0,a.c)({},I),{},{Account_Alias_Name:e.target.value})),className:"cus-inpt"})]}),(0,C.jsxs)("div",{className:"p-2",children:[(0,C.jsx)("label",{children:"Group Name*"}),(0,C.jsx)(d.c,{labelId:"group-select-label",value:I.Group_Id,label:"Group",onChange:e=>S((0,a.c)((0,a.c)({},I),{},{Group_Id:e.target.value})),fullWidth:!0,children:z.map((e=>(0,C.jsx)(u.c,{value:e.Value,children:e.label},e.Value)))})]})]}),(0,C.jsxs)(m.c,{children:[(0,C.jsx)(p.c,{onClick:()=>w(!1),children:"Cancel"}),(0,C.jsx)(p.c,{onClick:()=>{const{Account_name:s,Group_Id:t}=I;s&&t?(0,A.q)({address:"masters/accountMaster",method:"POST",bodyData:(0,a.c)((0,a.c)({},I),{},{Created_By:L})}).then((s=>{s.success?(x.m4.success("Account Master created successfully!"),w(!1),S(_),c(!e)):x.m4.error(s.message)})).catch((e=>console.error(e))):x.m4.error("Please fill all required fields.")},color:"success",children:"Create"})]})]}),(0,C.jsxs)(n.c,{open:k,onClose:()=>P(!1),children:[(0,C.jsx)(o.c,{children:"Edit Account"}),(0,C.jsxs)(i.c,{children:[(0,C.jsxs)("div",{className:"p-2",children:[(0,C.jsx)("label",{children:"Account Name*"}),(0,C.jsx)("input",{type:"text",value:I.Account_name,onChange:e=>S((0,a.c)((0,a.c)({},I),{},{Account_name:e.target.value})),className:"cus-inpt"})]}),(0,C.jsxs)("div",{className:"p-2",children:[(0,C.jsx)("label",{children:"Alias Name"}),(0,C.jsx)("input",{type:"text",value:I.Account_Alias_Name,onChange:e=>S((0,a.c)((0,a.c)({},I),{},{Account_Alias_Name:e.target.value})),className:"cus-inpt"})]}),(0,C.jsxs)("div",{className:"p-2",children:[(0,C.jsx)("label",{children:"Group Name*"}),(0,C.jsx)(h.c,{fullWidth:!0,children:(0,C.jsxs)(d.c,{labelId:"group-edit-select-label",value:I.Group_Id,displayEmpty:!0,onChange:e=>S((0,a.c)((0,a.c)({},I),{},{Group_Id:e.target.value})),children:[(0,C.jsx)(u.c,{disabled:!0,value:"",children:"Select Group"}),z.map((e=>(0,C.jsx)(u.c,{value:e.Value,children:e.label},e.Value)))]})})]})]}),(0,C.jsxs)(m.c,{children:[(0,C.jsx)(p.c,{onClick:()=>P(!1),children:"Cancel"}),(0,C.jsx)(p.c,{onClick:()=>{const{Acc_Id:s,Account_name:t,Group_Id:l}=I;s&&t&&l?(0,A.q)({address:"masters/accountMaster",method:"PUT",bodyData:(0,a.c)((0,a.c)({},I),{},{Alter_By:L})}).then((s=>{s.success?(x.m4.success("Account updated successfully!"),P(!1),S(_),c(!e)):x.m4.error(s.message)})).catch((e=>console.error(e))):x.m4.error("All required fields must be filled.")},color:"success",children:"Update"})]})]}),(0,C.jsxs)(n.c,{open:s,onClose:()=>g(!1),children:[(0,C.jsx)(o.c,{children:"Confirmation"}),(0,C.jsx)(i.c,{children:(0,C.jsx)("b",{children:"Do you want to delete this account?"})}),(0,C.jsxs)(m.c,{children:[(0,C.jsx)(p.c,{onClick:()=>g(!1),children:"Cancel"}),(0,C.jsx)(p.c,{onClick:()=>{(0,A.q)({address:"masters/accountMaster",method:"DELETE",bodyData:{Acc_Id:I.Acc_Id}}).then((s=>{s.success?(x.m4.success("Account deleted successfully!"),c(!e),g(!1)):x.m4.error(s.message)})).catch((e=>console.error(e)))},color:"error",autoFocus:!0,children:"Delete"})]})]})]})}},45180:(e,c,s)=>{s.d(c,{c:()=>l});var a=s(27664),t=s(82496);const l=(0,a.c)((0,t.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"}),"Delete")},86e3:(e,c,s)=>{s.d(c,{c:()=>l});var a=s(27664),t=s(82496);const l=(0,a.c)((0,t.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"}),"Edit")},57704:(e,c,s)=>{s.d(c,{c:()=>l});var a=s(27664),t=s(82496);const l=(0,a.c)((0,t.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"}),"Search")},44380:(e,c,s)=>{s.d(c,{c:()=>y});var a=s(45072),t=s(95656),l=s(69060),r=s(79736),n=s(21412),o=s(55080),i=s(12556),d=s(49836),u=s(62440),m=s(30584),h=s(25594),p=s(60204),x=s(4016),v=s(10212),b=s(21420),f=s(10099),j=s(33448);function A(e){return(0,j.cp)("MuiTextField",e)}(0,f.c)("MuiTextField",["root"]);var N=s(82496);const C=["autoComplete","autoFocus","children","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","id","InputLabelProps","inputProps","InputProps","inputRef","label","maxRows","minRows","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","select","SelectProps","type","value","variant"],_={standard:u.c,filled:m.c,outlined:h.c},g=(0,i.cp)(x.c,{name:"MuiTextField",slot:"Root",overridesResolver:(e,c)=>c.root})({}),y=l.forwardRef((function(e,c){const s=(0,d.C)({props:e,name:"MuiTextField"}),{autoComplete:l,autoFocus:i=!1,children:u,className:m,color:h="primary",defaultValue:x,disabled:f=!1,error:j=!1,FormHelperTextProps:y,fullWidth:w=!1,helperText:I,id:S,InputLabelProps:k,inputProps:P,InputProps:M,inputRef:F,label:G,maxRows:R,minRows:z,multiline:T=!1,name:V,onBlur:q,onChange:E,onFocus:L,placeholder:D,required:W=!1,rows:B,select:O=!1,SelectProps:H,type:U,value:K,variant:J="outlined"}=s,Q=(0,t.c)(s,C),X=(0,a.c)({},s,{autoFocus:i,color:h,disabled:f,error:j,fullWidth:w,multiline:T,required:W,select:O,variant:J}),Y=(e=>{const{classes:c}=e;return(0,n.c)({root:["root"]},A,c)})(X);const Z={};"outlined"===J&&(k&&"undefined"!==typeof k.shrink&&(Z.notched=k.shrink),Z.label=G),O&&(H&&H.native||(Z.id=void 0),Z["aria-describedby"]=void 0);const $=(0,o.c)(S),ee=I&&$?"".concat($,"-helper-text"):void 0,ce=G&&$?"".concat($,"-label"):void 0,se=_[J],ae=(0,N.jsx)(se,(0,a.c)({"aria-describedby":ee,autoComplete:l,autoFocus:i,defaultValue:x,fullWidth:w,multiline:T,name:V,rows:B,maxRows:R,minRows:z,type:U,value:K,id:$,inputRef:F,onBlur:q,onChange:E,onFocus:L,placeholder:D,inputProps:P},Z,M));return(0,N.jsxs)(g,(0,a.c)({className:(0,r.c)(Y.root,m),disabled:f,error:j,fullWidth:w,ref:c,required:W,color:h,variant:J,ownerState:X},Q,{children:[null!=G&&""!==G&&(0,N.jsx)(p.c,(0,a.c)({htmlFor:$,id:ce},k,{children:G})),O?(0,N.jsx)(b.c,(0,a.c)({"aria-describedby":ee,id:$,labelId:ce,value:K,input:ae},H,{children:u})):ae,I&&(0,N.jsx)(v.c,(0,a.c)({id:ee},y,{children:I}))]}))}))},16344:(e,c,s)=>{s.d(c,{cV:()=>r,cp:()=>o});var a=s(69060),t=s(82496);const l=["as","disabled"];function r(e){let{tagName:c,disabled:s,href:a,target:t,rel:l,role:r,onClick:n,tabIndex:o=0,type:i}=e;c||(c=null!=a||null!=t||null!=l?"a":"button");const d={tagName:c};if("button"===c)return[{type:i||"button",disabled:s},d];const u=e=>{(s||"a"===c&&function(e){return!e||"#"===e.trim()}(a))&&e.preventDefault(),s?e.stopPropagation():null==n||n(e)};return"a"===c&&(a||(a="#"),s&&(a=void 0)),[{role:null!=r?r:"button",disabled:void 0,tabIndex:s?void 0:o,href:a,target:"a"===c?t:void 0,"aria-disabled":s||void 0,rel:"a"===c?l:void 0,onClick:u,onKeyDown:e=>{" "===e.key&&(e.preventDefault(),u(e))}},d]}const n=a.forwardRef(((e,c)=>{let{as:s,disabled:a}=e,n=function(e,c){if(null==e)return{};var s,a,t={},l=Object.keys(e);for(a=0;a<l.length;a++)s=l[a],c.indexOf(s)>=0||(t[s]=e[s]);return t}(e,l);const[o,{tagName:i}]=r(Object.assign({tagName:s,disabled:a},n));return(0,t.jsx)(i,Object.assign({},n,o,{ref:c}))}));n.displayName="Button";const o=n},42136:(e,c,s)=>{s.d(c,{c:()=>h});var a=s(30800),t=s(31024),l=s(264),r=s.n(l),n=s(69060),o=s(16344),i=s(83576),d=s(82496);const u=["as","bsPrefix","variant","size","active","disabled","className"],m=n.forwardRef(((e,c)=>{let{as:s,bsPrefix:l,variant:n="primary",size:m,active:h=!1,disabled:p=!1,className:x}=e,v=(0,t.c)(e,u);const b=(0,i.Ky)(l,"btn"),[f,{tagName:j}]=(0,o.cV)((0,a.c)({tagName:s,disabled:p},v)),A=j;return(0,d.jsx)(A,(0,a.c)((0,a.c)((0,a.c)({},f),v),{},{ref:c,disabled:p,className:r()(x,b,h&&"active",n&&"".concat(b,"-").concat(n),m&&"".concat(b,"-").concat(m),v.href&&p&&"disabled")}))}));m.displayName="Button";const h=m}}]);
//# sourceMappingURL=1728.2068387b.chunk.js.map
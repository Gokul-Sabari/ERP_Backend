"use strict";(self.webpackChunkerp=self.webpackChunkerp||[]).push([[3068,3692,1312],{60687:(e,t,s)=>{s.r(t),s.d(t,{default:()=>x});var a=s(30800),r=s(69060),c=s(41459),n=s(46864),o=s(43692),l=s(84436),d=s(39308),i=s(1908),u=s(82496);const x=()=>{const[e,t]=(0,r.useState)([]),[s,x]=(0,r.useState)(!0),[h,m]=(0,r.useState)({zero:!1,inm:"",date:(0,d.Q7)()});(0,r.useEffect)((()=>{t([]),(0,i.q)({address:"reports/itemGroup/stockInfo/grouped?reqDate=".concat(h.date)}).then((e=>{e.success?t(e.data):t([])})).catch((e=>console.error(e)))}),[h.date]);const p=(0,r.useMemo)((()=>null!==e?e.map((e=>{const t=e.product_details.filter((e=>String(e.Group_Name).toLowerCase().includes(h.inm.toLowerCase())));return(0,a.c)((0,a.c)({},e),{},{product_details:t})})):[]),[e,h.inm]),j=e=>{let{rows:t}=e;const[s,a]=(0,r.useState)(!1),[o,l]=(0,r.useState)(!0),i=(0,d.dq)(null===t||void 0===t?void 0:t.product_details);return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("tr",{children:[(0,u.jsx)("td",{className:"border fa-13 text-center",children:(0,u.jsx)("button",{onClick:()=>a(!s),className:"icon-btn",children:s?(0,u.jsx)(c.c,{sx:{fontSize:"inherit"}}):(0,u.jsx)(n.c,{sx:{fontSize:"inherit"}})})}),(0,u.jsxs)("td",{className:"fa-13 text-center bg-light",children:[t.Stock_Group,(0,u.jsxs)("span",{className:"text-danger",children:[" (",t.product_details.length,")"]})]}),(0,u.jsx)("td",{className:"fa-13 text-end text-primary",children:(0,d.SA)(t.Bal_Qty/1e3)}),(0,u.jsx)("td",{className:"fa-13 text-end text-primary bg-light",children:(0,d.SA)(t.CL_Rate)}),(0,u.jsx)("td",{className:"fa-13 text-end text-primary",onClick:()=>l(!o),children:o?(0,d.SA)(t.Stock_Value/1e5):(0,d.SA)(t.Stock_Value)}),(0,u.jsx)("td",{className:"fa-13 text-end text-primary bg-light",children:(0,d.SA)(t.Bal_Qty)})]}),s&&(0,u.jsx)("tr",{children:(0,u.jsx)("td",{colSpan:6,className:"px-0 py-2",children:(0,u.jsxs)("table",{className:"table mb-0",children:[(0,u.jsx)("thead",{children:(0,u.jsx)("tr",{children:["SNo","INM","Quantity","Rate","Value (\u20b9)"].map(((e,t)=>(0,u.jsx)("th",{className:"fa-13 border text-center",children:e},t)))})}),(0,u.jsx)("tbody",{children:null===i||void 0===i?void 0:i.map(((e,t)=>(0,u.jsxs)("tr",{children:[(0,u.jsx)("td",{className:"fa-13 bg-light",children:t+1}),(0,u.jsx)("td",{className:"fa-13",children:e.Group_Name}),(0,u.jsx)("td",{className:"fa-13 text-end bg-light",children:(0,d.SA)(e.Bal_Qty)}),(0,u.jsx)("td",{className:"fa-13 text-end",children:(0,d.SA)(e.CL_Rate)}),(0,u.jsx)("td",{className:"fa-13 text-end fw-bold bg-light",children:(0,d.SA)(e.Stock_Value)})]},t)))})]})})})]})},f=(0,r.useMemo)((()=>p.map(((e,t)=>(0,u.jsx)(j,{rows:e},t)))),[p,h.zero]),N=p.reduce(((e,t)=>(0,d.Q5)(e,null===t||void 0===t?void 0:t.Stock_Value)),0);return(0,u.jsx)(u.Fragment,{children:(0,u.jsxs)(o.c,{children:[(0,u.jsxs)("div",{className:"px-3 py-2 d-flex justify-content-between align-items-center fw-bold text-dark",style:{backgroundColor:"#eae0cc"},children:[(0,u.jsx)("span",{}),(0,u.jsx)("span",{children:(0,u.jsx)("input",{type:"search",className:"cus-inpt ps-3 w-100 rounded-5 border-0",value:h.inm,placeholder:"Search",onChange:e=>{m((0,a.c)((0,a.c)({},h),{},{inm:e.target.value}))}})})]}),(0,u.jsxs)("div",{className:"d-flex justify-content-between align-items-center px-3 py-2",style:{boxShadow:"none"},children:[(0,u.jsx)("input",{type:"date",className:"cus-inpt w-auto ps-3 border rounded-5",value:h.date,onChange:e=>{m((0,a.c)((0,a.c)({},h),{},{date:e.target.value}))}}),(0,u.jsx)("h6",{children:(0,u.jsxs)("span",{className:"text-primary fw-bold",onClick:()=>x(!s),children:["\u20b9",s?(0,d.SA)(N/1e5)+" (L)":(0,d.SA)(N)]})})]}),(0,u.jsx)(l.c,{className:"overflow-scroll pt-0",style:{maxHeight:"75vh"},children:(0,u.jsxs)("table",{className:"table",children:[(0,u.jsx)("thead",{children:(0,u.jsx)("tr",{children:["-","Group Name","Tonnage","Rate","Value (L)","Quantity"].map(((e,t)=>(0,u.jsx)("th",{className:"tble-hed-stick text-center fa-14 border",children:e},t)))})}),(0,u.jsx)("tbody",{children:f})]})})]})})}},84436:(e,t,s)=>{s.d(t,{c:()=>j});var a=s(45072),r=s(95656),c=s(69060),n=s(79736),o=s(21412),l=s(12556),d=s(49836),i=s(10099),u=s(33448);function x(e){return(0,u.cp)("MuiCardContent",e)}(0,i.c)("MuiCardContent",["root"]);var h=s(82496);const m=["className","component"],p=(0,l.cp)("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(e,t)=>t.root})((()=>({padding:16,"&:last-child":{paddingBottom:24}}))),j=c.forwardRef((function(e,t){const s=(0,d.C)({props:e,name:"MuiCardContent"}),{className:c,component:l="div"}=s,i=(0,r.c)(s,m),u=(0,a.c)({},s,{component:l}),j=(e=>{const{classes:t}=e;return(0,o.c)({root:["root"]},x,t)})(u);return(0,h.jsx)(p,(0,a.c)({as:l,className:(0,n.c)(j.root,c),ownerState:u,ref:t},i))}))},43692:(e,t,s)=>{s.d(t,{c:()=>f});var a=s(45072),r=s(95656),c=s(69060),n=s(79736),o=s(21412),l=s(12556),d=s(49836),i=s(85624),u=s(10099),x=s(33448);function h(e){return(0,x.cp)("MuiCard",e)}(0,u.c)("MuiCard",["root"]);var m=s(82496);const p=["className","raised"],j=(0,l.cp)(i.c,{name:"MuiCard",slot:"Root",overridesResolver:(e,t)=>t.root})((()=>({overflow:"hidden"}))),f=c.forwardRef((function(e,t){const s=(0,d.C)({props:e,name:"MuiCard"}),{className:c,raised:l=!1}=s,i=(0,r.c)(s,p),u=(0,a.c)({},s,{raised:l}),x=(e=>{const{classes:t}=e;return(0,o.c)({root:["root"]},h,t)})(u);return(0,m.jsx)(j,(0,a.c)({className:(0,n.c)(x.root,c),elevation:l?8:void 0,ref:t,ownerState:u},i))}))}}]);
//# sourceMappingURL=3068.0c768220.chunk.js.map
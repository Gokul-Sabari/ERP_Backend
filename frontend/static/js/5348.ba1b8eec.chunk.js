"use strict";(self.webpackChunkerp=self.webpackChunkerp||[]).push([[5348],{62344:(e,a,t)=>{t.d(a,{o$:()=>i,o5:()=>n,cF:()=>d,iI:()=>o,_8:()=>r});const l=t.p+"static/media/smt.aa4d4f940bbebff07a57.png",o={table:{style:{width:"auto",backgroundColor:"transparent"}},rows:{style:{backgroundColor:"transparent"}},headCells:{style:{backgroundColor:"#6b9080f8",color:"white",fontSize:"14px"}}},d={menu:(e,a)=>({...e,zIndex:9999}),menuPortal:e=>({...e,zIndex:9999}),groupHeading:e=>({...e,backgroundColor:"#f5f5f5",color:"#333",fontWeight:"bold",fontSize:"14px",padding:"8px 12px",borderBottom:"1px solid #ddd",textTransform:"uppercase"}),option:(e,a)=>({...e,backgroundColor:a.isSelected?"#2684FF":a.isFocused?"#E2ECF9":"white",color:a.isSelected?"white":"#333",padding:"10px 12px"})},i=[{id:1,headname:"Menu ID",variant:"head",align:"left",width:100},{id:2,headname:"MenuName"},{id:3,headname:"Read Rights"},{id:4,headname:"Add Rights"},{id:5,headname:"Edit Rights"},{id:6,headname:"Delete Rights"},{id:7,headname:"Print Rights"},{id:8,headname:"Action"}],n=[{dataBase:1,name:"SHANKAR TRADERS",business:"Wholesale Merchant in Dhall",address:"32, Chitrakara Street, Madurai - 01 <br /> Bill of Supply -Disclaimer Affidavlt Field Extemped",logo:l,gstin:"33AADFS6973R1ZD",phone:"984-313-1353, 984-335-5166",fssai:"12418012000818",bankAccount:"0021 5032 0885 122",ifsc:"TMBL0000002"},{dataBase:2,name:"SMT AGRO PRODUCTS",business:"",address:"H.O: 153, Chitrakara Street, 2nd Floor, Madurai -01 <br /> G.O: 746 Puliyur, Sayanapuram, Svga <br /> Bill of Supply -Disclaimer Affidavlt Field Extemped",logo:l,gstin:"33ACMFS3420Q1ZQ",phone:"0452-4371625",fssai:"12418012000818",bankAccount:"0025 3031 0875 947",ifsc:"TMBL0000002"},{dataBase:3,name:"BHAVANI TRADERS",business:"",address:"H.O: 152-A, Chitrakara Street, Madurai -01 <br /> G.O: 30/1-Rajman Nagar, Chintamani Main Road, Mdu-01 <br /> Tax Invoice",logo:l,gstin:"33AAEFB6728J1ZG",phone:"958-559-7641, 958-559-7614",fssai:"12418012000670",bankAccount:"0021 5005 0800 309",ifsc:"TMBL0000002"}],r=[{name:"PURCHASE_ORDER"},{name:"PURCHASE_INVOICE"},{name:"SALE_ORDER"},{name:"SALE_INVOICE"},{name:"JOURNAL"},{name:"STOCK_JOURNAL"},{name:"PAYMENT"},{name:"RECEIPT"},{name:"CONTRA"}]},5268:(e,a,t)=>{t.r(a),t.d(a,{default:()=>f});var l=t(3358),o=t(5548),d=t(82656),i=t(26773),n=t(4488),r=t(90048),s=t(89e3),c=t(39308),u=t(1908),m=t(13724),h=t(99852),v=t(69060),p=t(61988),g=t(57704),A=t(51560),_=t(62344),x=t(82496);const b={Fromdate:(0,c.Q7)(),Todate:(0,c.Q7)()},R={voucherType:[],retailers:[],collectionType:[],paymentStatus:[],collectedBy:[]},f=e=>{let{loadingOn:a,loadingOff:t}=e;const f=(0,A.i6)(),C=(0,A.IT)(),S=new URLSearchParams((0,A.IT)().search),T=JSON.parse(localStorage.getItem("user")),[y,F]=(0,v.useState)([]),[j,I]=(0,v.useState)(R),[N,E]=(0,v.useState)({Fromdate:b.Fromdate,Todate:b.Todate,fetchFrom:b.Fromdate,fetchTo:b.Todate,Retailer_Id:"",Retailer_Name:"ALL",Area_Id:"",Area_Name:"ALL",Route_Id:"",RoutesGet:"ALL",filterDialog:!1,refresh:!1}),[D,L]=(0,v.useState)([]),[P,M]=(0,v.useState)([]),[O,k]=(0,v.useState)([]);(0,v.useEffect)((()=>{(0,u.q)({address:"receipt/filterValues"}).then((e=>{var a;e.success&&I({voucherType:(0,c.dq)(null===e||void 0===e||null===(a=e.others)||void 0===a?void 0:a.voucherType)})})).catch((e=>console.error(e)))}),[]),(0,v.useEffect)((()=>{(0,u.q)({address:`masters/retailers/dropDown?Company_Id=${null===T||void 0===T?void 0:T.Company_id}`}).then((e=>{e.success&&L(e.data)})).catch((e=>console.error(e))),(0,u.q)({address:`masters/areas/dropdown?Company_Id=${null===T||void 0===T?void 0:T.Company_id}`}).then((e=>{e.success&&M(e.data)})).catch((e=>console.error(e))),(0,u.q)({address:`masters/routes/dropdown?Company_id=${null===T||void 0===T?void 0:T.Company_id}`}).then((e=>{e.success&&k(e.data)})).catch((e=>console.error(e)))}),[null===T||void 0===T?void 0:T.Company_id]),(0,v.useEffect)((()=>{a&&a(),(0,u.q)({address:`receipt/outstanding?Fromdate=${null===N||void 0===N?void 0:N.fetchFrom}&Todate=${null===N||void 0===N?void 0:N.fetchTo}&Retailer_Id=${N.Retailer_Id}&Area_Id=${N.Area_Id}&Route_Id=${N.Route_Id}`}).then((e=>{e.success&&F(e.data)})).finally((()=>{t&&t()})).catch((e=>console.error(e)))}),[null===N||void 0===N?void 0:N.fetchFrom,null===N||void 0===N?void 0:N.fetchTo,null===N||void 0===N?void 0:N.refresh]),(0,v.useEffect)((()=>{const e={Fromdate:S.get("Fromdate")&&(0,c.e8)(S.get("Fromdate"))?S.get("Fromdate"):b.Fromdate,Todate:S.get("Todate")&&(0,c.e8)(S.get("Todate"))?S.get("Todate"):b.Todate};E((a=>({...a,fetchFrom:e.Fromdate,fetchTo:e.Todate})))}),[C.search]);const B=()=>{E((e=>({...e,filterDialog:!1})))},w=(0,v.useMemo)((()=>y.reduce(((e,a)=>(0,c.Q5)(e,null===a||void 0===a?void 0:a.Closing_Balance)),0)),[y]);return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(m.cp,{title:"Receipts",ButtonArea:(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(l.c,{title:"Filters",children:(0,x.jsx)(o.c,{size:"small",onClick:()=>E({...N,filterDialog:!0}),children:(0,x.jsx)(p.c,{})})}),(0,c.gH)(w)>0&&(0,x.jsxs)("h6",{className:"m-0 text-end text-muted px-3",children:["Total: ",w]})]}),EnableSerialNumber:!0,dataArray:y,headerFontSizePx:14,bodyFontSizePx:13,columns:[(0,m.A5)("Retailer_Name","string","Retailer_Name"),(0,m.A5)("Opening_Pending_Amount","string","Opening_Pending_Amount"),(0,m.A5)("Current_Invoice_Value","string","Current_Invoice_Value"),(0,m.A5)("Current_Collected_Amount","string","Current_Collected_Amount"),(0,m.A5)("Closing_Balance","number","Closing_Balance")],isExpendable:!1,expandableComp:e=>{let{row:a}=e;return(0,x.jsx)("div",{className:"py-2",children:(0,x.jsx)(m.cp,{disablePagination:!0,headerFontSizePx:13,bodyFontSizePx:12,dataArray:Array.isArray(null===a||void 0===a?void 0:a.Receipts)?null===a||void 0===a?void 0:a.Receipts:[],columns:[(0,m.A5)("Do_Inv_No","string","Delivery Invoice Number"),(0,m.A5)("Do_Date","date","Delivery Date"),(0,m.A5)("collected_amount","number","Receipt Amount"),(0,m.A5)("total_receipt_amount","number","Total Receipt"),(0,m.A5)("Total_Invoice_value","number","Invoice Value"),{isVisible:1,ColumnHeader:"Pending Amount",isCustomCell:!0,Cell:e=>{let{row:a}=e;return(0,c.od)(null===a||void 0===a?void 0:a.bill_amount,null===a||void 0===a?void 0:a.total_receipt_amount)}}]})})}}),(0,x.jsxs)(d.c,{open:N.filterDialog,onClose:B,fullWidth:!0,maxWidth:"md",children:[(0,x.jsx)(i.c,{children:"Filters"}),(0,x.jsx)(n.c,{children:(0,x.jsx)("div",{className:"table-responsive pb-4",children:(0,x.jsx)("table",{className:"table",children:(0,x.jsxs)("tbody",{children:[(0,x.jsxs)("tr",{children:[(0,x.jsx)("td",{style:{verticalAlign:"middle"},children:"From"}),(0,x.jsx)("td",{children:(0,x.jsx)("input",{type:"date",value:N.Fromdate,onChange:e=>E({...N,Fromdate:e.target.value}),className:"cus-inpt"})}),(0,x.jsx)("td",{style:{verticalAlign:"middle"},children:"To"}),(0,x.jsx)("td",{children:(0,x.jsx)("input",{type:"date",value:N.Todate,onChange:e=>E({...N,Todate:e.target.value}),className:"cus-inpt"})})]}),(0,x.jsxs)("tr",{children:[(0,x.jsx)("td",{style:{verticalAlign:"middle"},children:"Retailer"}),(0,x.jsx)("td",{colSpan:3,children:(0,x.jsx)(h.cp,{value:{value:N.Retailer_Id,label:N.Retailer_Name},onChange:e=>E((a=>({...a,Retailer_Id:(null===e||void 0===e?void 0:e.value)||"",Retailer_Name:(null===e||void 0===e?void 0:e.label)||""}))),options:[{value:"",label:"ALL"},...D.map((e=>({value:null===e||void 0===e?void 0:e.Retailer_Id,label:null===e||void 0===e?void 0:e.Retailer_Name})))],menuPortalTarget:document.body,styles:_.cF,isSearchable:!0,placeholder:"Select Retailer",maxMenuHeight:300})})]}),(0,x.jsxs)("tr",{children:[(0,x.jsx)("td",{style:{verticalAlign:"middle"},children:"Area"}),(0,x.jsx)("td",{colSpan:3,children:(0,x.jsx)(h.cp,{value:{value:N.Area_Id,label:N.Area_Name},onChange:e=>E((a=>({...a,Area_Id:(null===e||void 0===e?void 0:e.value)||"",Area_Name:(null===e||void 0===e?void 0:e.label)||""}))),options:[{value:"",label:"ALL"},...P.map((e=>({value:null===e||void 0===e?void 0:e.Area_Id,label:null===e||void 0===e?void 0:e.Area_Name})))],menuPortalTarget:document.body,styles:_.cF,isSearchable:!0,placeholder:"Select Area",maxMenuHeight:300})})]}),(0,x.jsxs)("tr",{children:[(0,x.jsx)("td",{style:{verticalAlign:"middle"},children:"Routes"}),(0,x.jsx)("td",{colSpan:3,children:(0,x.jsx)(h.cp,{value:{value:null===N||void 0===N?void 0:N.Route_Id,label:null===N||void 0===N?void 0:N.RoutesGet},onChange:e=>E({...N,Route_Id:e.value,RoutesGet:e.label}),options:[{value:"",label:"ALL"},...O.map((e=>({value:null===e||void 0===e?void 0:e.Route_Id,label:null===e||void 0===e?void 0:e.Route_Name})))],menuPortalTarget:document.body,styles:_.cF,isSearchable:!0,placeholder:"Route",maxMenuHeight:300})})]})]})})})}),(0,x.jsxs)(r.c,{children:[(0,x.jsx)(s.c,{onClick:B,children:"close"}),(0,x.jsx)(s.c,{onClick:()=>{(e=>{const a=new URLSearchParams(e);f(`?${a.toString()}`,{replace:!0})})({Fromdate:null===N||void 0===N?void 0:N.Fromdate,Todate:null===N||void 0===N?void 0:N.Todate}),E((e=>({...e,refresh:!e.refresh}))),B()},startIcon:(0,x.jsx)(g.c,{}),variant:"outlined",children:"Search"})]})]})]})}},61988:(e,a,t)=>{t.d(a,{c:()=>d});var l=t(27664),o=t(82496);const d=(0,l.c)((0,o.jsx)("path",{d:"M4.25 5.61C6.27 8.2 10 13 10 13v6c0 .55.45 1 1 1h2c.55 0 1-.45 1-1v-6s3.72-4.8 5.74-7.39c.51-.66.04-1.61-.79-1.61H5.04c-.83 0-1.3.95-.79 1.61"}),"FilterAlt")},57704:(e,a,t)=>{t.d(a,{c:()=>d});var l=t(27664),o=t(82496);const d=(0,l.c)((0,o.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"}),"Search")}}]);
//# sourceMappingURL=5348.ba1b8eec.chunk.js.map
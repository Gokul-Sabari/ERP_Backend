"use strict";(self.webpackChunkerp=self.webpackChunkerp||[]).push([[9709],{59709:(e,l,a)=>{a.r(l),a.d(l,{default:()=>_});var o=a(69060),t=a(39308),i=a(13724),n=a(1908),r=a(71448),c=a(52924),d=a(44380),s=a(43692),u=a(3358),h=a(5548),v=a(82656),m=a(26773),p=a(4488),x=a(90048),g=a(89e3),f=a(68424),b=a(39504),j=a(74912),y=a(10728),N=a(76491),C=a(61988),F=a(57704),k=a(51560);const S=e=>{const l=(0,i.A5)("Purticular","string","Ledger"),a=(0,i.A5)("total_invoice_value","number","Invoice Value"),o=(0,i.A5)("ModuleID","string","InvoiceNo"),t=(0,i.A5)("EventDate","date","Date"),n=(0,i.A5)("VoucherName","string","Voucher"),r=(0,i.A5)("DebitLedger","string","Debit A/c"),c=(0,i.A5)("DebitAmt","number","Debit (\u20b9)"),d=(0,i.A5)("CreditLedger","string","Credit A/c"),s=(0,i.A5)("CreditAmt","number","Credit (\u20b9)");switch(e){case"PurchaseOrder":case"PurchaseInvoice":case"SaleOrder":case"SalesInvoice":return[o,t,n,l,a];case"StockJournal":return[o,t,n];case"Journal":case"Payment":case"Receipt":case"Contra":return[o,t,n,r,c,d,s];default:return[]}};var M=a(82496);const w=(0,M.jsx)(f.c,{fontSize:"small"}),z=(0,M.jsx)(b.c,{fontSize:"small"}),_=e=>{let{loadingOn:l,loadingOff:a}=e;const f=(0,k.IT)().state,b=(0,t.gV)().user,[_,V]=(0,o.useState)([]),[D,P]=(0,o.useState)({}),[T,I]=(0,o.useState)([]),[O,A]=(0,o.useState)({Fromdate:(0,t.Q7)(),Todate:(0,t.Q7)(),ModuleName:"PurchaseOrder",Voucher_Type:null,filterDialog:!1,dynamicFilters:!1,refresh:!1,disablePagination:!1,searchText:""});(0,o.useEffect)((()=>{null!==O&&void 0!==O&&O.ModuleName&&(l&&l(),V([]),(0,n.q)({address:`dashboard/dayBook/${String(null===O||void 0===O?void 0:O.ModuleName).toLowerCase()}?Fromdate=${null===O||void 0===O?void 0:O.Fromdate}&Todate=${null===O||void 0===O?void 0:O.Todate}`,headers:{Db:null===b||void 0===b?void 0:b.Company_id}}).then((e=>{e.success&&V(e.data)})).catch((e=>console.error(e))).finally((()=>{a&&a()})))}),[null===O||void 0===O?void 0:O.refresh]),(0,o.useEffect)((()=>{if((0,t.CY)(f)){const e=(0,t.e8)(null===f||void 0===f?void 0:f.Fromdate)?(0,t.Q7)(f.Fromdate):(0,t.Q7)(),l=(0,t.e8)(null===f||void 0===f?void 0:f.Todate)?(0,t.Q7)(f.Todate):(0,t.Q7)(),a=null!==f&&void 0!==f&&f.ModuleName?null===f||void 0===f?void 0:f.ModuleName:null,o=null!==f&&void 0!==f&&f.Voucher_Type?null===f||void 0===f?void 0:f.Voucher_Type:null;A((t=>({...t,Fromdate:e,Todate:l,ModuleName:a,Voucher_Type:o,refresh:!t.refresh})))}}),[f]);const B=(0,o.useMemo)((()=>null!==O&&void 0!==O&&O.Voucher_Type?_.filter((e=>0===String(e.VoucherName).localeCompare(O.Voucher_Type))):_),[null===O||void 0===O?void 0:O.Voucher_Type,_.length]),R=(0,o.useMemo)((()=>[...new Set(null===_||void 0===_?void 0:_.map((e=>null===e||void 0===e?void 0:e.VoucherName)))].map((e=>({value:e,label:e})))),[_]);(0,o.useEffect)((()=>{H()}),[D]);const $=(e,l)=>{P((a=>({...a,[e]:l})))},H=()=>{let e=[..._];const l=null!==O&&void 0!==O&&O.ModuleName?S(O.ModuleName):[];for(const o of l)if(D[o.Field_Name])if("range"===D[o.Field_Name].type){const{min:l,max:a}=D[o.Field_Name];e=e.filter((e=>{const t=e[o.Field_Name];return(void 0===l||t>=l)&&(void 0===a||t<=a)}))}else if("date"===D[o.Field_Name].type){const{start:l,end:a}=D[o.Field_Name].value;e=e.filter((e=>{const t=new Date(e[o.Field_Name]);return(void 0===l||t>=new Date(l))&&(void 0===a||t<=new Date(a))}))}else if(Array.isArray(D[o.Field_Name])){var a;e=(null===(a=D[o.Field_Name])||void 0===a?void 0:a.length)>0?e.filter((e=>D[o.Field_Name].includes(e[o.Field_Name].toLowerCase().trim()))):e}I(e)},L=e=>{const{Field_Name:l,Fied_Data:a}=e;var o,t,i,n,s,u,h,v,m,p;if("number"===a)return(0,M.jsxs)("div",{className:"d-flex justify-content-between px-2",children:[(0,M.jsx)("input",{placeholder:"Min",type:"number",className:"bg-light border-0 m-1 p-1 w-50",value:null!==(o=null===(t=D[l])||void 0===t?void 0:t.min)&&void 0!==o?o:"",onChange:e=>$(l,{type:"range",...D[l],min:e.target.value?parseFloat(e.target.value):void 0})}),(0,M.jsx)("input",{placeholder:"Max",type:"number",className:"bg-light border-0 m-1 p-1 w-50",value:null!==(i=null===(n=D[l])||void 0===n?void 0:n.max)&&void 0!==i?i:"",onChange:e=>$(l,{type:"range",...D[l],max:e.target.value?parseFloat(e.target.value):void 0})})]});if("date"===a)return(0,M.jsxs)("div",{className:"d-flex justify-content-between px-2",children:[(0,M.jsx)("input",{placeholder:"Start Date",type:"date",className:"bg-light border-0 m-1 p-1 w-50",value:null!==(s=null===(u=D[l])||void 0===u||null===(h=u.value)||void 0===h?void 0:h.start)&&void 0!==s?s:"",onChange:e=>{var a;return $(l,{type:"date",value:{...null===(a=D[l])||void 0===a?void 0:a.value,start:e.target.value||void 0}})}}),(0,M.jsx)("input",{placeholder:"End Date",type:"date",className:"bg-light border-0 m-1 p-1 w-50",value:null!==(v=null===(m=D[l])||void 0===m||null===(p=m.value)||void 0===p?void 0:p.end)&&void 0!==v?v:"",onChange:e=>{var a;return $(l,{type:"date",value:{...null===(a=D[l])||void 0===a?void 0:a.value,end:e.target.value||void 0}})}})]});if("string"===a){const e=[...new Set(B.map((e=>{var a,o;return null===(a=e[l])||void 0===a||null===(o=a.toLowerCase())||void 0===o?void 0:o.trim()})))];return(0,M.jsx)(r.c,{multiple:!0,id:`${l}-filter`,options:e,disableCloseOnSelect:!0,getOptionLabel:e=>e,value:D[l]||[],onChange:(e,a)=>$(l,a),renderOption:(e,l,a)=>{let{selected:o}=a;return(0,M.jsxs)("li",{...e,children:[(0,M.jsx)(c.c,{icon:w,checkedIcon:z,style:{marginRight:8},checked:o}),l]})},isOptionEqualToValue:(e,l)=>e===l,renderInput:e=>(0,M.jsx)(d.c,{...e,label:l,placeholder:`Select ${null===l||void 0===l?void 0:l.replace(/_/g," ")}`})})}};return(0,M.jsxs)(M.Fragment,{children:[(0,M.jsxs)("div",{className:"row flex-md-row-reverse",children:[(0,M.jsx)("div",{className:"col-xxl-2 col-lg-3 col-md-4 d-none d-md-block",children:(0,M.jsxs)(s.c,{children:[(0,M.jsxs)("div",{className:"d-flex align-items-center py-1 px-2",children:[(0,M.jsx)("h5",{className:"flex-grow-1 ",children:"Filters"}),(0,M.jsx)(u.c,{title:"Clear Filters",children:(0,M.jsx)(h.c,{size:"small",onClick:()=>P({}),children:(0,M.jsx)(j.c,{})})})]}),(0,M.jsxs)("div",{styl:{maxHeight:"70vh",overflow:"auto"},children:[S(O.ModuleName).map(((e,l)=>{var a;return((0,t.Qr)(null===e||void 0===e?void 0:e.Defult_Display,1)||(0,t.Qr)(null===e||void 0===e?void 0:e.isVisible,1))&&(0,M.jsxs)("div",{className:"py-3 px-3 hov-bg border-bottom",children:[(0,M.jsx)("label",{className:"mt-2 mb-1",children:null===e||void 0===e||null===(a=e.Field_Name)||void 0===a?void 0:a.replace(/_/g," ")}),L(e)]},l)})),(0,M.jsx)("br",{})]})]})}),(0,M.jsx)("div",{className:"col-xxl-10 col-lg-9 col-md-8",children:(0,M.jsx)(i.cp,{title:(null===O||void 0===O?void 0:O.ModuleName)+" - "+(null!==O&&void 0!==O&&O.Voucher_Type?null===O||void 0===O?void 0:O.Voucher_Type:"All Vouchers"),dataArray:Object.keys(D).length>0?T:B,columns:null!==O&&void 0!==O&&O.ModuleName?S(O.ModuleName):[],PDFPrintOption:!0,ExcelPrintOption:!0,EnableSerialNumber:!0,maxHeightOption:!0,disablePagination:O.disablePagination,MenuButtons:[{name:"Pagination",icon:O.disablePagination?(0,M.jsx)(y.c,{fontSize:"small"}):(0,M.jsx)(N.c,{fontSize:"small",color:"primary"}),onclick:()=>A((e=>({...e,disablePagination:!e.disablePagination})))},{name:"Filters",icon:(0,M.jsx)(C.c,{fontSize:"small",color:"primary"}),onclick:()=>A((e=>({...e,filterDialog:!0})))}],ButtonArea:(0,M.jsx)(M.Fragment,{children:(0,M.jsx)(u.c,{title:"Dynamic Filters",children:(0,M.jsx)(h.c,{onClick:()=>A((e=>({...e,dynamicFilters:!0}))),size:"small",className:"d-md-none d-inline",children:(0,M.jsx)(C.c,{})})})})})})]}),(0,M.jsxs)(v.c,{open:O.filterDialog,onClose:()=>A((e=>({...e,filterDialog:!1}))),maxWidth:"sm",fullWidth:!0,children:[(0,M.jsx)(m.c,{children:"Filters"}),(0,M.jsx)(p.c,{children:(0,M.jsx)("div",{className:"table-responsive",children:(0,M.jsx)("table",{className:"table fa-14 table-borderless",children:(0,M.jsxs)("tbody",{children:[(0,M.jsxs)("tr",{children:[(0,M.jsx)("td",{children:"From Date"}),(0,M.jsx)("td",{children:(0,M.jsx)("input",{type:"date",value:O.Fromdate,onChange:e=>A({...O,Fromdate:e.target.value}),className:"cus-inpt p-1"})})]}),(0,M.jsxs)("tr",{children:[(0,M.jsx)("td",{children:"To Date"}),(0,M.jsx)("td",{children:(0,M.jsx)("input",{type:"date",value:O.Todate,onChange:e=>A({...O,Todate:e.target.value}),className:"cus-inpt p-1"})})]}),(0,M.jsxs)("tr",{children:[(0,M.jsx)("td",{children:"Module"}),(0,M.jsx)("td",{children:(0,M.jsx)("select",{className:"cus-inpt p-1",value:O.ModuleName?O.ModuleName:"",onChange:e=>{A((l=>({...l,ModuleName:e.target.value,refresh:!l.refresh,Voucher_Type:null,filterDialog:!1}))),P({})},children:["PurchaseOrder","PurchaseInvoice","SaleOrder","SalesInvoice","StockJournal","Journal","Payment","Receipt","Contra"].map(((e,l)=>(0,M.jsx)("option",{value:e,children:e},l)))})})]}),(0,M.jsxs)("tr",{children:[(0,M.jsx)("td",{children:"Voucher"}),(0,M.jsx)("td",{children:(0,M.jsxs)("select",{className:"cus-inpt p-1",value:null!==O&&void 0!==O&&O.Voucher_Type?O.Voucher_Type:"",onChange:e=>A((l=>({...l,Voucher_Type:e.target.value,filterDialog:!1}))),children:[(0,M.jsx)("option",{value:"",children:"All Vouchers"}),R.map(((e,l)=>(0,M.jsx)("option",{value:e.value,children:e.label},l)))]})})]})]})})})}),(0,M.jsxs)(x.c,{children:[(0,M.jsx)(g.c,{size:"small",onClick:()=>A((e=>({...e,filterDialog:!1}))),children:"Close"}),(0,M.jsx)(g.c,{onClick:()=>{A((e=>({...e,refresh:!e.refresh,filterDialog:!1})))},variant:"outlined",size:"small",startIcon:(0,M.jsx)(F.c,{}),children:"Search"})]})]}),(0,M.jsxs)(v.c,{open:null===O||void 0===O?void 0:O.dynamicFilters,onClose:()=>A((e=>({...e,dynamicFilters:!1}))),fullWidth:!0,maxWidth:"sm",children:[(0,M.jsxs)(p.c,{children:[(0,M.jsxs)("h5",{className:"d-flex justify-content-between px-2",children:["Filters",(0,M.jsx)(u.c,{title:"Clear Filters",children:(0,M.jsx)(h.c,{size:"small",onClick:()=>A({}),children:(0,M.jsx)(j.c,{})})})]}),(0,M.jsxs)("div",{className:"border rounded-3 ",style:{maxHeight:"70vh",overflow:"auto"},children:[(null!==O&&void 0!==O&&O.ModuleName?S(O.ModuleName):[]).map(((e,l)=>{var a;return((0,t.Qr)(null===e||void 0===e?void 0:e.Defult_Display,1)||(0,t.Qr)(null===e||void 0===e?void 0:e.isVisible,1))&&(0,M.jsxs)("div",{className:"py-3 px-3 hov-bg border-bottom",children:[(0,M.jsx)("label",{className:"mt-2 mb-1",children:null===e||void 0===e||null===(a=e.Field_Name)||void 0===a?void 0:a.replace(/_/g," ")}),L(e)]},l)})),(0,M.jsx)("br",{})]})]}),(0,M.jsx)(x.c,{children:(0,M.jsx)(g.c,{onClick:()=>A((e=>({...e,dynamicFilters:!1}))),color:"error",children:"close"})})]})]})}},39504:(e,l,a)=>{a.d(l,{c:()=>i});var o=a(27664),t=a(82496);const i=(0,o.c)((0,t.jsx)("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2m-9 14-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8z"}),"CheckBox")},68424:(e,l,a)=>{a.d(l,{c:()=>i});var o=a(27664),t=a(82496);const i=(0,o.c)((0,t.jsx)("path",{d:"M19 5v14H5V5zm0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2"}),"CheckBoxOutlineBlank")},61988:(e,l,a)=>{a.d(l,{c:()=>i});var o=a(27664),t=a(82496);const i=(0,o.c)((0,t.jsx)("path",{d:"M4.25 5.61C6.27 8.2 10 13 10 13v6c0 .55.45 1 1 1h2c.55 0 1-.45 1-1v-6s3.72-4.8 5.74-7.39c.51-.66.04-1.61-.79-1.61H5.04c-.83 0-1.3.95-.79 1.61"}),"FilterAlt")},74912:(e,l,a)=>{a.d(l,{c:()=>i});var o=a(27664),t=a(82496);const i=(0,o.c)((0,t.jsx)("path",{d:"M19.79 5.61C20.3 4.95 19.83 4 19 4H6.83l7.97 7.97zM2.81 2.81 1.39 4.22 10 13v6c0 .55.45 1 1 1h2c.55 0 1-.45 1-1v-2.17l5.78 5.78 1.41-1.41z"}),"FilterAltOff")},57704:(e,l,a)=>{a.d(l,{c:()=>i});var o=a(27664),t=a(82496);const i=(0,o.c)((0,t.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"}),"Search")},52924:(e,l,a)=>{a.d(l,{c:()=>w});var o=a(95656),t=a(45072),i=a(69060),n=a(79736),r=a(21412),c=a(13344),d=a(90608),s=a(27664),u=a(82496);const h=(0,s.c)((0,u.jsx)("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank"),v=(0,s.c)((0,u.jsx)("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox"),m=(0,s.c)((0,u.jsx)("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}),"IndeterminateCheckBox");var p=a(55832),x=a(49836),g=a(12556),f=a(43424),b=a(10099),j=a(33448);function y(e){return(0,j.cp)("MuiCheckbox",e)}const N=(0,b.c)("MuiCheckbox",["root","checked","disabled","indeterminate","colorPrimary","colorSecondary","sizeSmall","sizeMedium"]),C=["checkedIcon","color","icon","indeterminate","indeterminateIcon","inputProps","size","className"],F=(0,g.cp)(d.c,{shouldForwardProp:e=>(0,f.c)(e)||"classes"===e,name:"MuiCheckbox",slot:"Root",overridesResolver:(e,l)=>{const{ownerState:a}=e;return[l.root,a.indeterminate&&l.indeterminate,l[`size${(0,p.c)(a.size)}`],"default"!==a.color&&l[`color${(0,p.c)(a.color)}`]]}})((e=>{let{theme:l,ownerState:a}=e;return(0,t.c)({color:(l.vars||l).palette.text.secondary},!a.disableRipple&&{"&:hover":{backgroundColor:l.vars?`rgba(${"default"===a.color?l.vars.palette.action.activeChannel:l.vars.palette[a.color].mainChannel} / ${l.vars.palette.action.hoverOpacity})`:(0,c.W4)("default"===a.color?l.palette.action.active:l.palette[a.color].main,l.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"default"!==a.color&&{[`&.${N.checked}, &.${N.indeterminate}`]:{color:(l.vars||l).palette[a.color].main},[`&.${N.disabled}`]:{color:(l.vars||l).palette.action.disabled}})})),k=(0,u.jsx)(v,{}),S=(0,u.jsx)(h,{}),M=(0,u.jsx)(m,{}),w=i.forwardRef((function(e,l){var a,c;const d=(0,x.C)({props:e,name:"MuiCheckbox"}),{checkedIcon:s=k,color:h="primary",icon:v=S,indeterminate:m=!1,indeterminateIcon:g=M,inputProps:f,size:b="medium",className:j}=d,N=(0,o.c)(d,C),w=m?g:v,z=m?g:s,_=(0,t.c)({},d,{color:h,indeterminate:m,size:b}),V=(e=>{const{classes:l,indeterminate:a,color:o,size:i}=e,n={root:["root",a&&"indeterminate",`color${(0,p.c)(o)}`,`size${(0,p.c)(i)}`]},c=(0,r.c)(n,y,l);return(0,t.c)({},l,c)})(_);return(0,u.jsx)(F,(0,t.c)({type:"checkbox",inputProps:(0,t.c)({"data-indeterminate":m},f),icon:i.cloneElement(w,{fontSize:null!=(a=w.props.fontSize)?a:b}),checkedIcon:i.cloneElement(z,{fontSize:null!=(c=z.props.fontSize)?c:b}),ownerState:_,ref:l,className:(0,n.c)(V.root,j)},N,{classes:V}))}))},90608:(e,l,a)=>{a.d(l,{c:()=>y});var o=a(95656),t=a(45072),i=a(69060),n=a(79736),r=a(21412),c=a(55832),d=a(12556),s=a(43424),u=a(61124),h=a(29972),v=a(33440),m=a(10099),p=a(33448);function x(e){return(0,p.cp)("PrivateSwitchBase",e)}(0,m.c)("PrivateSwitchBase",["root","checked","disabled","input","edgeStart","edgeEnd"]);var g=a(82496);const f=["autoFocus","checked","checkedIcon","className","defaultChecked","disabled","disableFocusRipple","edge","icon","id","inputProps","inputRef","name","onBlur","onChange","onFocus","readOnly","required","tabIndex","type","value"],b=(0,d.cp)(v.c)((e=>{let{ownerState:l}=e;return(0,t.c)({padding:9,borderRadius:"50%"},"start"===l.edge&&{marginLeft:"small"===l.size?-3:-12},"end"===l.edge&&{marginRight:"small"===l.size?-3:-12})})),j=(0,d.cp)("input",{shouldForwardProp:s.c})({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}),y=i.forwardRef((function(e,l){const{autoFocus:a,checked:i,checkedIcon:d,className:s,defaultChecked:v,disabled:m,disableFocusRipple:p=!1,edge:y=!1,icon:N,id:C,inputProps:F,inputRef:k,name:S,onBlur:M,onChange:w,onFocus:z,readOnly:_,required:V=!1,tabIndex:D,type:P,value:T}=e,I=(0,o.c)(e,f),[O,A]=(0,u.c)({controlled:i,default:Boolean(v),name:"SwitchBase",state:"checked"}),B=(0,h.c)();let R=m;B&&"undefined"===typeof R&&(R=B.disabled);const $="checkbox"===P||"radio"===P,H=(0,t.c)({},e,{checked:O,disabled:R,disableFocusRipple:p,edge:y}),L=(e=>{const{classes:l,checked:a,disabled:o,edge:t}=e,i={root:["root",a&&"checked",o&&"disabled",t&&`edge${(0,c.c)(t)}`],input:["input"]};return(0,r.c)(i,x,l)})(H);return(0,g.jsxs)(b,(0,t.c)({component:"span",className:(0,n.c)(L.root,s),centerRipple:!0,focusRipple:!p,disabled:R,tabIndex:null,role:void 0,onFocus:e=>{z&&z(e),B&&B.onFocus&&B.onFocus(e)},onBlur:e=>{M&&M(e),B&&B.onBlur&&B.onBlur(e)},ownerState:H,ref:l},I,{children:[(0,g.jsx)(j,(0,t.c)({autoFocus:a,checked:i,defaultChecked:v,className:L.input,disabled:R,id:$?C:void 0,name:S,onChange:e=>{if(e.nativeEvent.defaultPrevented)return;const l=e.target.checked;A(l),w&&w(e,l)},readOnly:_,ref:k,required:V,ownerState:H,tabIndex:D,type:P},"checkbox"===P&&void 0===T?{}:{value:T},F)),O?d:N]}))}))}}]);
//# sourceMappingURL=9709.2d70e561.chunk.js.map
"use strict";(self.webpackChunkerp=self.webpackChunkerp||[]).push([[2147],{42147:(e,t,a)=>{a.r(t),a.d(t,{default:()=>p});var d=a(30800),l=a(69060),n=a(89e3),o=a(13724),i=a(51560),r=a(1908),c=a(39308),s=a(86e3),u=a(27664),m=a(82496);const _=(0,u.c)((0,m.jsx)("path",{d:"M23 8c0 1.1-.9 2-2 2-.18 0-.35-.02-.51-.07l-3.56 3.55c.05.16.07.34.07.52 0 1.1-.9 2-2 2s-2-.9-2-2c0-.18.02-.36.07-.52l-2.55-2.55c-.16.05-.34.07-.52.07s-.36-.02-.52-.07l-4.55 4.56c.05.16.07.33.07.51 0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2c.18 0 .35.02.51.07l4.56-4.55C8.02 9.36 8 9.18 8 9c0-1.1.9-2 2-2s2 .9 2 2c0 .18-.02.36-.07.52l2.55 2.55c.16-.05.34-.07.52-.07s.36.02.52.07l3.55-3.56C19.02 8.35 19 8.18 19 8c0-1.1.9-2 2-2s2 .9 2 2"}),"Timeline");var b=a(99608);const v={Fromdate:(0,c.Q7)(),Todate:(0,c.Q7)()},p=e=>{let{loadingOn:t,loadingOff:a,AddRights:u,EditRights:p,DeleteRights:y}=e;const[A,E]=(0,l.useState)({Fromdate:(0,c.Q7)(),Todate:(0,c.Q7)(),DebitAccount:{value:"",label:"ALL"},CreditAccount:{value:"",label:"ALL"},refresh:!1}),[T,g]=(0,l.useState)(!1),[h,C]=(0,l.useState)([]),j=(0,i.i6)(),F=(0,i.IT)(),R=F.state,S=new URLSearchParams((0,i.IT)().search);(0,l.useEffect)((()=>{const e={Fromdate:S.get("Fromdate")&&(0,c.e8)(S.get("Fromdate"))?S.get("Fromdate"):v.Fromdate,Todate:S.get("Todate")&&(0,c.e8)(S.get("Todate"))?S.get("Todate"):v.Todate};E((t=>(0,d.c)((0,d.c)({},t),{},{Fromdate:e.Fromdate,Todate:e.Todate})))}),[F.search]),(0,l.useEffect)((()=>{const e=null!==R&&void 0!==R&&R.Fromdate&&(0,c.e8)(null===R||void 0===R?void 0:R.Fromdate)?(0,c.Q7)(null===R||void 0===R?void 0:R.Fromdate):null,t=null!==R&&void 0!==R&&R.Todate&&(0,c.e8)(null===R||void 0===R?void 0:R.Todate)?(0,c.Q7)(null===R||void 0===R?void 0:R.Todate):null;e&&t&&(f({Fromdate:e,Todate:t}),E((e=>(0,d.c)((0,d.c)({},e),{},{Fromdate:(0,c.Q7)(R.Fromdate),Todate:R.Todate}))),g((e=>!e)))}),[R]),(0,l.useEffect)((()=>{const e=A.Fromdate,d=A.Todate;(0,r.q)({address:"payment/paymentMaster?Fromdate=".concat(e,"&Todate=").concat(d),loadingOff:a,loadingOn:t}).then((e=>{e.success&&C(e.data)})).catch((e=>console.error(e)))}),[T]);const f=e=>{const t=new URLSearchParams(e);j("?".concat(t.toString()),{replace:!0})},x=(0,l.useMemo)((()=>h.reduce(((e,t)=>(0,c.Q5)(e,null===t||void 0===t?void 0:t.debit_amount)),0)),[h]);return(0,m.jsx)(m.Fragment,{children:(0,m.jsx)(o.cp,{title:"Payments",headerFontSizePx:12,bodyFontSizePx:12,ButtonArea:(0,m.jsxs)(m.Fragment,{children:[u&&(0,m.jsx)(n.c,{onClick:()=>j("create"),variant:"outlined",children:"Add"}),u&&(0,m.jsx)(n.c,{onClick:()=>j("addReference"),variant:"outlined",className:"me-2",children:"Add Reference"}),(0,c.gH)(x)>0&&(0,m.jsxs)("h6",{className:"m-0 text-end text-muted px-3",children:["Total: ",(0,c.SA)(x)]})]}),dataArray:h,columns:[(0,o.A5)("payment_date","date","Date"),(0,o.A5)("payment_invoice_no","string","Payment ID"),(0,o.A5)("debit_amount","number","Amount"),(0,o.A5)("TotalReferencedAmount","number","Added Ref"),(0,o.A5)("debit_ledger_name","string","Debit-Acc"),(0,o.A5)("credit_ledger_name","string","Credit-Acc"),(0,o.A5)("Voucher_Type","string","Voucher"),{isVisible:1,ColumnHeader:"Bill Type",isCustomCell:!0,Cell:e=>{var t;let{row:a}=e;return null===(t=b.gB.find((e=>(0,c.Qr)(e.value,a.pay_bill_type))))||void 0===t?void 0:t.label}},{isVisible:1,ColumnHeader:"Action",isCustomCell:!0,Cell:e=>{let{row:t}=e;return(0,m.jsx)(o.Om,{buttonsData:[{name:"Edit",icon:(0,m.jsx)(s.c,{}),onclick:()=>j("create",{state:t}),disabled:!p},{name:"Add Reference",icon:(0,m.jsx)(_,{}),onclick:()=>j("addReference",{state:t}),disabled:!p||(0,c.Qr)(t.pay_bill_type,2)||(0,c.Qr)(t.pay_bill_type,4)}]})}}],EnableSerialNumber:!0})})}},99608:(e,t,a)=>{a.d(t,{Si:()=>r,eI:()=>o,gB:()=>i,wr:()=>l,y2:()=>n});var d=a(39308);const l={pay_id:"",year_id:"",payment_voucher_type_id:"",payment_sno:"",payment_invoice_no:"",payment_date:(0,d.Q7)(),pay_bill_type:3,credit_ledger:"",credit_ledger_name:"Select",credit_amount:0,debit_ledger:"",debit_ledger_name:"Select",debit_amount:0,remarks:"",bank_date:"",status:1,created_by:(0,d.Q$)(null===d.Ej||void 0===d.Ej?void 0:d.Ej.UserId)?null===d.Ej||void 0===d.Ej?void 0:d.Ej.UserId:"",altered_by:(0,d.Q$)(null===d.Ej||void 0===d.Ej?void 0:d.Ej.UserId)?null===d.Ej||void 0===d.Ej?void 0:d.Ej.UserId:"",created_on:"",alterd_on:""},n={auto_id:"",created_on:"",payment_id:"",payment_no:"",payment_date:"",bill_type:"",DR_CR_Acc_Id:"",pay_bill_id:"",JournalBillType:"",bill_name:"",bill_amount:0,Debit_Amo:0,Credit_Amo:0,PurchaseInvoiceDate:"",StockJournalDate:"",TotalPaidAmount:0,PendingAmount:0},o={auto_id:"",payment_id:"",payment_no:"",payment_date:"",bill_type:"",Debit_Ledger_Id:"",created_on:"",pay_bill_id:"",JournalBillType:"",item_id:"",item_name:"",expence_value:0,itemQuantity:0,PaidAmount:0},i=[{value:1,label:"VENDOR - PURCHASE INVOICE"},{value:2,label:"EXPENCES / OTHERS"},{value:3,label:"EXPENCES - STOCK JOURNAL"},{value:4,label:"ON ACCOUNT"}],r=[{label:"MATERIAL INWARD",value:1},{label:"GODOWN TRANSFER",value:2},{label:"PROCESSING",value:3}]},86e3:(e,t,a)=>{a.d(t,{c:()=>n});var d=a(27664),l=a(82496);const n=(0,d.c)((0,l.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"}),"Edit")}}]);
//# sourceMappingURL=2147.c039886a.chunk.js.map